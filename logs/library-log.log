2024-03-17T20:22:07.067+05:00  INFO 7548 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7548 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T20:22:07.079+05:00  INFO 7548 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T20:22:09.277+05:00  INFO 7548 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T20:22:09.426+05:00  INFO 7548 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-17T20:22:10.980+05:00  INFO 7548 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T20:22:11.005+05:00  INFO 7548 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T20:22:11.006+05:00  INFO 7548 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T20:22:11.321+05:00  INFO 7548 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T20:22:11.323+05:00  INFO 7548 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4169 ms
2024-03-17T20:22:11.917+05:00  INFO 7548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T20:22:12.471+05:00  INFO 7548 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T20:22:12.473+05:00  INFO 7548 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T20:22:12.715+05:00  INFO 7548 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T20:22:12.825+05:00  INFO 7548 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T20:22:12.870+05:00  INFO 7548 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T20:22:13.552+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.578+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.587+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.592+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.599+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.600+05:00  INFO 7548 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T20:22:13.635+05:00  INFO 7548 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T20:22:13.644+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.645+05:00  INFO 7548 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T20:22:13.649+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.651+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.882+05:00  INFO 7548 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:22:13.883+05:00  INFO 7548 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 114ms
2024-03-17T20:22:13.891+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.894+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.920+05:00  INFO 7548 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:22:13.922+05:00  INFO 7548 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 25ms
2024-03-17T20:22:13.925+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.927+05:00  INFO 7548 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T20:22:13.931+05:00  INFO 7548 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:22:13.932+05:00  INFO 7548 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T20:22:14.166+05:00  INFO 7548 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T20:22:14.316+05:00  INFO 7548 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T20:22:14.323+05:00  INFO 7548 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T20:22:14.706+05:00  INFO 7548 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:22:15.053+05:00  INFO 7548 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T20:22:15.570+05:00  INFO 7548 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:22:17.663+05:00  INFO 7548 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T20:22:17.744+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T20:22:17.745+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T20:22:17.747+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T20:22:17.748+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T20:22:17.749+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T20:22:17.751+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T20:22:17.753+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T20:22:17.754+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T20:22:17.756+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T20:22:17.756+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T20:22:17.757+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T20:22:17.758+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T20:22:17.759+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T20:22:17.760+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T20:22:17.760+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T20:22:17.761+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T20:22:17.772+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T20:22:17.778+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T20:22:17.780+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T20:22:17.785+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T20:22:17.787+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T20:22:17.788+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T20:22:17.789+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T20:22:17.791+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T20:22:17.792+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T20:22:17.794+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T20:22:17.795+05:00 DEBUG 7548 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T20:22:17.800+05:00  INFO 7548 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:22:20.270+05:00  INFO 7548 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T20:22:20.371+05:00  INFO 7548 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47858d7c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a5cd0af, org.springframework.security.web.context.SecurityContextHolderFilter@51fadd20, org.springframework.security.web.header.HeaderWriterFilter@2a45c6f0, org.springframework.security.web.authentication.logout.LogoutFilter@6e87556f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d2b49b2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@66df2165, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@16cc5e51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28878a52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2493f9a8, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@55c901b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72090a80, org.springframework.security.web.access.ExceptionTranslationFilter@cede70a, org.springframework.security.web.access.intercept.AuthorizationFilter@27a717a7]
2024-03-17T20:22:21.574+05:00  INFO 7548 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T20:22:21.605+05:00  INFO 7548 --- [main] ru.otus.hw.Application                   : Started Application in 15.324 seconds (process running for 17.161)
2024-03-17T20:22:32.752+05:00  INFO 7548 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T20:22:32.754+05:00  INFO 7548 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T20:22:32.758+05:00  INFO 7548 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T20:22:35.212+05:00 DEBUG 7548 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:22:35.237+05:00 DEBUG 7548 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:35.272+05:00 DEBUG 7548 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:35.275+05:00 DEBUG 7548 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:50.164+05:00 DEBUG 7548 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:22:50.166+05:00 DEBUG 7548 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:50.168+05:00 DEBUG 7548 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:50.170+05:00 DEBUG 7548 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:56.675+05:00 DEBUG 7548 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:22:56.676+05:00 DEBUG 7548 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:56.677+05:00 DEBUG 7548 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:56.678+05:00 DEBUG 7548 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:58.824+05:00 DEBUG 7548 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:22:58.825+05:00 DEBUG 7548 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:58.826+05:00 DEBUG 7548 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:22:58.826+05:00 DEBUG 7548 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:12.776+05:00  INFO 7548 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:23:12.782+05:00  INFO 7548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T20:23:12.786+05:00  INFO 7548 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T20:23:23.681+05:00  INFO 11916 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11916 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T20:23:23.686+05:00  INFO 11916 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T20:23:25.298+05:00  INFO 11916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T20:23:25.413+05:00  INFO 11916 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 8 JPA repository interfaces.
2024-03-17T20:23:26.535+05:00  INFO 11916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T20:23:26.549+05:00  INFO 11916 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T20:23:26.550+05:00  INFO 11916 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T20:23:26.685+05:00  INFO 11916 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T20:23:26.686+05:00  INFO 11916 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2936 ms
2024-03-17T20:23:27.051+05:00  INFO 11916 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T20:23:27.379+05:00  INFO 11916 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T20:23:27.382+05:00  INFO 11916 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T20:23:27.466+05:00  INFO 11916 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T20:23:27.522+05:00  INFO 11916 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T20:23:27.541+05:00  INFO 11916 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T20:23:27.830+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.836+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.846+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.853+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.864+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.865+05:00  INFO 11916 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T20:23:27.887+05:00  INFO 11916 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T20:23:27.892+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.894+05:00  INFO 11916 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T20:23:27.898+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:27.900+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:28.013+05:00  INFO 11916 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:23:28.014+05:00  INFO 11916 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-17T20:23:28.020+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:28.021+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:28.050+05:00  INFO 11916 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:23:28.052+05:00  INFO 11916 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 30ms
2024-03-17T20:23:28.055+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:28.056+05:00  INFO 11916 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T20:23:28.062+05:00  INFO 11916 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:23:28.062+05:00  INFO 11916 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T20:23:28.236+05:00  INFO 11916 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T20:23:28.371+05:00  INFO 11916 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T20:23:28.374+05:00  INFO 11916 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T20:23:28.589+05:00  INFO 11916 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:23:28.771+05:00  INFO 11916 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T20:23:29.157+05:00  INFO 11916 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:23:30.100+05:00  INFO 11916 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T20:23:30.138+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T20:23:30.141+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T20:23:30.142+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T20:23:30.144+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T20:23:30.145+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T20:23:30.146+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T20:23:30.148+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T20:23:30.149+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T20:23:30.151+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T20:23:30.151+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T20:23:30.152+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T20:23:30.153+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T20:23:30.153+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T20:23:30.154+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T20:23:30.154+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T20:23:30.155+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T20:23:30.169+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T20:23:30.175+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T20:23:30.178+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T20:23:30.180+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T20:23:30.182+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T20:23:30.185+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T20:23:30.187+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T20:23:30.191+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T20:23:30.192+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T20:23:30.196+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T20:23:30.198+05:00 DEBUG 11916 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T20:23:30.204+05:00  INFO 11916 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:23:31.921+05:00  INFO 11916 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T20:23:31.992+05:00  INFO 11916 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@39b50027, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24c4370a, org.springframework.security.web.context.SecurityContextHolderFilter@6f8b1902, org.springframework.security.web.header.HeaderWriterFilter@7a273fd7, org.springframework.security.web.authentication.logout.LogoutFilter@7c2d4398, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ddd5715, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@27a717a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1b6daf20, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b61a646, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f1b4a14, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4acae4c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41a3656f, org.springframework.security.web.access.ExceptionTranslationFilter@4df9df06, org.springframework.security.web.access.intercept.AuthorizationFilter@27df4dcb]
2024-03-17T20:23:32.698+05:00  INFO 11916 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T20:23:32.730+05:00  INFO 11916 --- [main] ru.otus.hw.Application                   : Started Application in 9.765 seconds (process running for 10.376)
2024-03-17T20:23:36.947+05:00  INFO 11916 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T20:23:36.948+05:00  INFO 11916 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T20:23:36.950+05:00  INFO 11916 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T20:23:37.682+05:00 DEBUG 11916 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:23:37.698+05:00 DEBUG 11916 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:37.711+05:00 DEBUG 11916 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:37.712+05:00 DEBUG 11916 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:42.166+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:23:42.168+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:42.170+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:42.172+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:55.142+05:00 DEBUG 11916 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T20:23:55.144+05:00 DEBUG 11916 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:55.416+05:00  WARN 11916 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "null"]
2024-03-17T20:23:59.619+05:00 DEBUG 11916 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:23:59.620+05:00 DEBUG 11916 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:59.622+05:00 DEBUG 11916 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:23:59.622+05:00 DEBUG 11916 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:24:05.475+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:24:05.476+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:24:05.478+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:24:05.479+05:00 DEBUG 11916 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:27:57.649+05:00  INFO 11916 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:27:57.654+05:00  INFO 11916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T20:27:57.659+05:00  INFO 11916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T20:28:04.507+05:00  INFO 14632 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 14632 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T20:28:04.511+05:00  INFO 14632 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T20:28:06.048+05:00  INFO 14632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T20:28:06.172+05:00  INFO 14632 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 110 ms. Found 8 JPA repository interfaces.
2024-03-17T20:28:07.311+05:00  INFO 14632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T20:28:07.327+05:00  INFO 14632 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T20:28:07.328+05:00  INFO 14632 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T20:28:07.515+05:00  INFO 14632 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T20:28:07.517+05:00  INFO 14632 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2939 ms
2024-03-17T20:28:08.098+05:00  INFO 14632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T20:28:08.464+05:00  INFO 14632 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T20:28:08.467+05:00  INFO 14632 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T20:28:08.584+05:00  INFO 14632 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T20:28:08.660+05:00  INFO 14632 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T20:28:08.700+05:00  INFO 14632 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T20:28:09.026+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.033+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.041+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.047+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.056+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.057+05:00  INFO 14632 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T20:28:09.081+05:00  INFO 14632 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T20:28:09.089+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.091+05:00  INFO 14632 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T20:28:09.094+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.096+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.212+05:00  INFO 14632 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:28:09.214+05:00  INFO 14632 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 54ms
2024-03-17T20:28:09.221+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.223+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.250+05:00  INFO 14632 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:28:09.252+05:00  INFO 14632 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 28ms
2024-03-17T20:28:09.258+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.260+05:00  INFO 14632 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T20:28:09.265+05:00  INFO 14632 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:28:09.266+05:00  INFO 14632 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T20:28:09.411+05:00  INFO 14632 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T20:28:09.528+05:00  INFO 14632 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T20:28:09.531+05:00  INFO 14632 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T20:28:09.780+05:00  INFO 14632 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:28:09.999+05:00  INFO 14632 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T20:28:10.426+05:00  INFO 14632 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:28:11.403+05:00  INFO 14632 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T20:28:11.442+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T20:28:11.443+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T20:28:11.445+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T20:28:11.446+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T20:28:11.448+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T20:28:11.450+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T20:28:11.452+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T20:28:11.453+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T20:28:11.454+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T20:28:11.455+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T20:28:11.456+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T20:28:11.457+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T20:28:11.457+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T20:28:11.458+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T20:28:11.458+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T20:28:11.459+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T20:28:11.468+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T20:28:11.472+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T20:28:11.474+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T20:28:11.475+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T20:28:11.476+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T20:28:11.478+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T20:28:11.479+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T20:28:11.481+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T20:28:11.483+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T20:28:11.484+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T20:28:11.486+05:00 DEBUG 14632 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T20:28:11.489+05:00  INFO 14632 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:28:13.192+05:00  INFO 14632 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T20:28:13.285+05:00  INFO 14632 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69ca71b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@371a7fd5, org.springframework.security.web.context.SecurityContextHolderFilter@d6d88b1, org.springframework.security.web.header.HeaderWriterFilter@27a717a7, org.springframework.security.web.authentication.logout.LogoutFilter@1b12c870, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79cfc008, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@512319dc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f41db7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55c901b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a5cd0af, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7ae49d52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4df8f4e9, org.springframework.security.web.access.ExceptionTranslationFilter@77c66ac2, org.springframework.security.web.access.intercept.AuthorizationFilter@231d5119]
2024-03-17T20:28:13.949+05:00  INFO 14632 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T20:28:13.971+05:00  INFO 14632 --- [main] ru.otus.hw.Application                   : Started Application in 10.136 seconds (process running for 10.741)
2024-03-17T20:28:17.758+05:00  INFO 14632 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T20:28:17.759+05:00  INFO 14632 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T20:28:17.763+05:00  INFO 14632 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-17T20:28:26.335+05:00 DEBUG 14632 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T20:28:26.351+05:00 DEBUG 14632 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:27.048+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:28:27.049+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:27.051+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:27.052+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:34.854+05:00 DEBUG 14632 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T20:28:34.882+05:00 DEBUG 14632 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : delete from users where id=?
2024-03-17T20:28:35.923+05:00 DEBUG 14632 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T20:28:37.193+05:00 DEBUG 14632 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:28:37.194+05:00 DEBUG 14632 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:37.196+05:00 DEBUG 14632 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:49.495+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T20:28:49.497+05:00 DEBUG 14632 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:49.705+05:00 DEBUG 14632 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T20:28:49.706+05:00 DEBUG 14632 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:28:49.707+05:00 DEBUG 14632 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:29:02.526+05:00  WARN 14632 --- [http-nio-8080-exec-2] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; For input string: "null"]
2024-03-17T20:31:19.703+05:00  INFO 14632 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:31:19.707+05:00  INFO 14632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T20:31:19.711+05:00  INFO 14632 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T20:31:26.341+05:00  INFO 11232 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11232 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T20:31:26.344+05:00  INFO 11232 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T20:31:27.856+05:00  INFO 11232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T20:31:27.973+05:00  INFO 11232 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 8 JPA repository interfaces.
2024-03-17T20:31:28.974+05:00  INFO 11232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T20:31:28.988+05:00  INFO 11232 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T20:31:28.988+05:00  INFO 11232 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T20:31:29.146+05:00  INFO 11232 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T20:31:29.147+05:00  INFO 11232 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2733 ms
2024-03-17T20:31:29.483+05:00  INFO 11232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T20:31:29.787+05:00  INFO 11232 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T20:31:29.790+05:00  INFO 11232 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T20:31:29.889+05:00  INFO 11232 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T20:31:29.953+05:00  INFO 11232 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T20:31:29.980+05:00  INFO 11232 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T20:31:30.233+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.239+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.247+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.252+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.260+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.261+05:00  INFO 11232 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T20:31:30.282+05:00  INFO 11232 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T20:31:30.288+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.289+05:00  INFO 11232 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T20:31:30.292+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.294+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.394+05:00  INFO 11232 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:31:30.395+05:00  INFO 11232 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 44ms
2024-03-17T20:31:30.401+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.402+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.424+05:00  INFO 11232 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:31:30.426+05:00  INFO 11232 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-17T20:31:30.428+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.430+05:00  INFO 11232 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T20:31:30.433+05:00  INFO 11232 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:31:30.434+05:00  INFO 11232 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T20:31:30.591+05:00  INFO 11232 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T20:31:30.692+05:00  INFO 11232 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T20:31:30.695+05:00  INFO 11232 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T20:31:30.906+05:00  INFO 11232 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:31:31.107+05:00  INFO 11232 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T20:31:31.531+05:00  INFO 11232 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:31:32.482+05:00  INFO 11232 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T20:31:32.522+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T20:31:32.524+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T20:31:32.525+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T20:31:32.526+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T20:31:32.528+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T20:31:32.529+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T20:31:32.531+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T20:31:32.532+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T20:31:32.533+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T20:31:32.534+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T20:31:32.535+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T20:31:32.535+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T20:31:32.536+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T20:31:32.536+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T20:31:32.537+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T20:31:32.537+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T20:31:32.545+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T20:31:32.548+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T20:31:32.550+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T20:31:32.552+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T20:31:32.553+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T20:31:32.554+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T20:31:32.555+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T20:31:32.557+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T20:31:32.559+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T20:31:32.561+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T20:31:32.562+05:00 DEBUG 11232 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T20:31:32.566+05:00  INFO 11232 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:31:34.168+05:00  INFO 11232 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T20:31:34.235+05:00  INFO 11232 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@69ca71b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@371a7fd5, org.springframework.security.web.context.SecurityContextHolderFilter@d6d88b1, org.springframework.security.web.header.HeaderWriterFilter@27a717a7, org.springframework.security.web.authentication.logout.LogoutFilter@1b12c870, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79cfc008, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@512319dc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f41db7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55c901b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a5cd0af, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7ae49d52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4df8f4e9, org.springframework.security.web.access.ExceptionTranslationFilter@77c66ac2, org.springframework.security.web.access.intercept.AuthorizationFilter@231d5119]
2024-03-17T20:31:34.845+05:00  INFO 11232 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T20:31:34.867+05:00  INFO 11232 --- [main] ru.otus.hw.Application                   : Started Application in 9.197 seconds (process running for 9.754)
2024-03-17T20:31:41.363+05:00  INFO 11232 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T20:31:41.364+05:00  INFO 11232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T20:31:41.367+05:00  INFO 11232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T20:31:48.413+05:00 DEBUG 11232 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T20:31:48.428+05:00 DEBUG 11232 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:32:04.177+05:00 DEBUG 11232 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T20:32:04.180+05:00 DEBUG 11232 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T20:45:22.251+05:00  INFO 11232 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:45:22.255+05:00  INFO 11232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T20:45:22.261+05:00  INFO 11232 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T20:45:29.310+05:00  INFO 16900 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 16900 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T20:45:29.316+05:00  INFO 16900 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T20:45:31.169+05:00  INFO 16900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T20:45:31.354+05:00  INFO 16900 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 161 ms. Found 8 JPA repository interfaces.
2024-03-17T20:45:32.909+05:00  INFO 16900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T20:45:32.926+05:00  INFO 16900 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T20:45:32.927+05:00  INFO 16900 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T20:45:33.178+05:00  INFO 16900 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T20:45:33.179+05:00  INFO 16900 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3779 ms
2024-03-17T20:45:33.639+05:00  INFO 16900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T20:45:34.141+05:00  INFO 16900 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T20:45:34.145+05:00  INFO 16900 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T20:45:34.337+05:00  INFO 16900 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T20:45:34.421+05:00  INFO 16900 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T20:45:34.454+05:00  INFO 16900 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T20:45:34.845+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.853+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.864+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.873+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.887+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.888+05:00  INFO 16900 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T20:45:34.918+05:00  INFO 16900 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T20:45:34.927+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.928+05:00  INFO 16900 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T20:45:34.934+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:34.936+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:35.146+05:00  INFO 16900 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:45:35.148+05:00  INFO 16900 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 92ms
2024-03-17T20:45:35.156+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:35.162+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:35.199+05:00  INFO 16900 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T20:45:35.202+05:00  INFO 16900 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 37ms
2024-03-17T20:45:35.205+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:35.207+05:00  INFO 16900 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T20:45:35.212+05:00  INFO 16900 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T20:45:35.212+05:00  INFO 16900 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T20:45:35.441+05:00  INFO 16900 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T20:45:35.696+05:00  INFO 16900 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T20:45:35.700+05:00  INFO 16900 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T20:45:36.102+05:00  INFO 16900 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:45:36.413+05:00  INFO 16900 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T20:45:37.266+05:00  INFO 16900 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T20:45:39.235+05:00  INFO 16900 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T20:45:39.309+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T20:45:39.311+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T20:45:39.313+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T20:45:39.315+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T20:45:39.316+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T20:45:39.319+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T20:45:39.324+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T20:45:39.325+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T20:45:39.327+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T20:45:39.328+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T20:45:39.329+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T20:45:39.330+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T20:45:39.331+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T20:45:39.332+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T20:45:39.333+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T20:45:39.333+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T20:45:39.350+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T20:45:39.360+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T20:45:39.362+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T20:45:39.364+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T20:45:39.366+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T20:45:39.368+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T20:45:39.371+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T20:45:39.376+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T20:45:39.378+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T20:45:39.382+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T20:45:39.386+05:00 DEBUG 16900 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T20:45:39.393+05:00  INFO 16900 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T20:45:41.884+05:00  INFO 16900 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T20:45:41.976+05:00  INFO 16900 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3470c771, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7d2ccd7f, org.springframework.security.web.context.SecurityContextHolderFilter@77c66ac2, org.springframework.security.web.header.HeaderWriterFilter@3f1b4a14, org.springframework.security.web.authentication.logout.LogoutFilter@70c3483b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b6daf20, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a5cd0af, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ae49d52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27a717a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1268ac94, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@231d5119, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40ef1198, org.springframework.security.web.access.ExceptionTranslationFilter@fbc1de9, org.springframework.security.web.access.intercept.AuthorizationFilter@24c4370a]
2024-03-17T20:45:42.845+05:00  INFO 16900 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T20:45:42.871+05:00  INFO 16900 --- [main] ru.otus.hw.Application                   : Started Application in 14.363 seconds (process running for 15.075)
2024-03-17T21:11:50.462+05:00  INFO 16900 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:11:50.463+05:00  INFO 16900 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:11:50.467+05:00  INFO 16900 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T21:11:52.862+05:00 DEBUG 16900 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-17T21:11:52.946+05:00 DEBUG 16900 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-17T21:12:12.248+05:00  INFO 16900 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:12:12.253+05:00  INFO 16900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:12:12.262+05:00  INFO 16900 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:12:17.939+05:00  INFO 15512 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15512 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:12:17.943+05:00  INFO 15512 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:12:19.454+05:00  INFO 15512 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:12:19.572+05:00  INFO 15512 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 104 ms. Found 8 JPA repository interfaces.
2024-03-17T21:12:20.673+05:00  INFO 15512 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:12:20.688+05:00  INFO 15512 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:12:20.689+05:00  INFO 15512 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:12:20.869+05:00  INFO 15512 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:12:20.869+05:00  INFO 15512 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2858 ms
2024-03-17T21:12:21.197+05:00  INFO 15512 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:12:21.492+05:00  INFO 15512 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:12:21.495+05:00  INFO 15512 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:12:21.614+05:00  INFO 15512 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:12:21.675+05:00  INFO 15512 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:12:21.711+05:00  INFO 15512 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:12:21.975+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:21.980+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:21.987+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:21.992+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.001+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.002+05:00  INFO 15512 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:12:22.025+05:00  INFO 15512 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:12:22.043+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.044+05:00  INFO 15512 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:12:22.047+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.049+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.158+05:00  INFO 15512 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:12:22.159+05:00  INFO 15512 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-17T21:12:22.165+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.167+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.191+05:00  INFO 15512 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:12:22.193+05:00  INFO 15512 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 23ms
2024-03-17T21:12:22.196+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.199+05:00  INFO 15512 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:12:22.203+05:00  INFO 15512 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:12:22.204+05:00  INFO 15512 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:12:22.337+05:00  INFO 15512 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:12:22.434+05:00  INFO 15512 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:12:22.440+05:00  INFO 15512 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:12:22.676+05:00  INFO 15512 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:12:22.876+05:00  INFO 15512 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:12:23.311+05:00  INFO 15512 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:12:24.283+05:00  INFO 15512 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:12:24.321+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:12:24.322+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:12:24.324+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:12:24.325+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:12:24.326+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:12:24.328+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:12:24.329+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:12:24.330+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:12:24.332+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:12:24.333+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:12:24.334+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:12:24.335+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:12:24.335+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:12:24.336+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:12:24.337+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:12:24.337+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:12:24.345+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:12:24.348+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:12:24.350+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:12:24.351+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:12:24.353+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:12:24.354+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:12:24.355+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:12:24.357+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:12:24.359+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:12:24.360+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:12:24.362+05:00 DEBUG 15512 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:12:24.366+05:00  INFO 15512 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:12:25.972+05:00  INFO 15512 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:12:26.034+05:00  INFO 15512 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3503e68e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c2d4398, org.springframework.security.web.context.SecurityContextHolderFilter@1fc51af7, org.springframework.security.web.header.HeaderWriterFilter@b7e53b1, org.springframework.security.web.authentication.logout.LogoutFilter@3f1b4a14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@72090a80, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4d5aeea7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@310db5c4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41cec7b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d2c9b65, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6bc45472, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7280785f, org.springframework.security.web.access.ExceptionTranslationFilter@305230ea, org.springframework.security.web.access.intercept.AuthorizationFilter@16cc5e51]
2024-03-17T21:12:26.668+05:00  INFO 15512 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:12:26.686+05:00  INFO 15512 --- [main] ru.otus.hw.Application                   : Started Application in 9.429 seconds (process running for 9.977)
2024-03-17T21:12:30.044+05:00  INFO 15512 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:12:30.045+05:00  INFO 15512 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:12:30.046+05:00  INFO 15512 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T21:12:42.724+05:00 DEBUG 15512 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:12:42.745+05:00 DEBUG 15512 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:12:42.918+05:00 DEBUG 15512 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-17T21:12:43.002+05:00 DEBUG 15512 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-17T21:17:58.052+05:00  INFO 15512 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:17:58.057+05:00  INFO 15512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:17:58.061+05:00  INFO 15512 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:18:04.290+05:00  INFO 13764 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13764 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:18:04.293+05:00  INFO 13764 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:18:05.772+05:00  INFO 13764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:18:05.889+05:00  INFO 13764 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 8 JPA repository interfaces.
2024-03-17T21:18:07.013+05:00  INFO 13764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:18:07.029+05:00  INFO 13764 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:18:07.030+05:00  INFO 13764 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:18:07.192+05:00  INFO 13764 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:18:07.193+05:00  INFO 13764 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2833 ms
2024-03-17T21:18:07.554+05:00  INFO 13764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:18:07.864+05:00  INFO 13764 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:18:07.866+05:00  INFO 13764 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:18:07.965+05:00  INFO 13764 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:18:08.026+05:00  INFO 13764 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:18:08.055+05:00  INFO 13764 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:18:08.341+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.346+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.353+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.358+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.367+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.368+05:00  INFO 13764 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:18:08.392+05:00  INFO 13764 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:18:08.399+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.400+05:00  INFO 13764 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:18:08.403+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.405+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.507+05:00  INFO 13764 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:18:08.507+05:00  INFO 13764 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-17T21:18:08.512+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.514+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.531+05:00  INFO 13764 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:18:08.533+05:00  INFO 13764 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-17T21:18:08.535+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.537+05:00  INFO 13764 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:18:08.540+05:00  INFO 13764 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:18:08.540+05:00  INFO 13764 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:18:08.691+05:00  INFO 13764 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:18:08.800+05:00  INFO 13764 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:18:08.803+05:00  INFO 13764 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:18:09.035+05:00  INFO 13764 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:18:09.244+05:00  INFO 13764 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:18:09.692+05:00  INFO 13764 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:18:10.706+05:00  INFO 13764 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:18:10.746+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:18:10.747+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:18:10.748+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:18:10.750+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:18:10.751+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:18:10.752+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:18:10.754+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:18:10.754+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:18:10.756+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:18:10.756+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:18:10.757+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:18:10.758+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:18:10.758+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:18:10.759+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:18:10.759+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:18:10.760+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:18:10.769+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:18:10.773+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:18:10.774+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:18:10.777+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:18:10.779+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:18:10.780+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:18:10.781+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:18:10.784+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:18:10.785+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:18:10.787+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:18:10.789+05:00 DEBUG 13764 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:18:10.793+05:00  INFO 13764 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:18:12.429+05:00  INFO 13764 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:18:12.498+05:00  INFO 13764 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40ef1198, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72161dbb, org.springframework.security.web.context.SecurityContextHolderFilter@1d2b49b2, org.springframework.security.web.header.HeaderWriterFilter@77c66ac2, org.springframework.security.web.authentication.logout.LogoutFilter@ab5e63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@557fe039, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@198c97d0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@69ca71b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d6d88b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@105e9fef, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3470c771, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@371a7fd5, org.springframework.security.web.access.ExceptionTranslationFilter@452e0a94, org.springframework.security.web.access.intercept.AuthorizationFilter@5086e144]
2024-03-17T21:18:13.140+05:00  INFO 13764 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:18:13.162+05:00  INFO 13764 --- [main] ru.otus.hw.Application                   : Started Application in 9.722 seconds (process running for 10.374)
2024-03-17T21:18:20.335+05:00  INFO 13764 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:18:20.336+05:00  INFO 13764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:18:20.339+05:00  INFO 13764 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-17T21:18:26.228+05:00 DEBUG 13764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:18:26.243+05:00 DEBUG 13764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:26.964+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:18:26.965+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:26.968+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:26.969+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:38.011+05:00 DEBUG 13764 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:18:38.013+05:00 DEBUG 13764 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:38.163+05:00 DEBUG 13764 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:18:38.164+05:00 DEBUG 13764 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:38.167+05:00 DEBUG 13764 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:38.169+05:00 DEBUG 13764 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:40.110+05:00 DEBUG 13764 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:18:41.334+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:18:41.335+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:41.336+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:18:41.338+05:00 DEBUG 13764 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:21.146+05:00  INFO 13764 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:20:21.150+05:00  INFO 13764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:20:21.156+05:00  INFO 13764 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:20:27.355+05:00  INFO 284 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 284 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:20:27.358+05:00  INFO 284 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:20:28.869+05:00  INFO 284 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:20:28.988+05:00  INFO 284 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 8 JPA repository interfaces.
2024-03-17T21:20:33.244+05:00  INFO 284 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:20:33.411+05:00  INFO 284 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:20:33.417+05:00  INFO 284 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:20:35.096+05:00  INFO 284 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:20:35.097+05:00  INFO 284 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7678 ms
2024-03-17T21:20:35.463+05:00  INFO 284 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:20:35.831+05:00  INFO 284 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:20:35.835+05:00  INFO 284 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:20:35.952+05:00  INFO 284 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:20:36.025+05:00  INFO 284 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:20:36.063+05:00  INFO 284 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:20:36.372+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.378+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.387+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.394+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.403+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.404+05:00  INFO 284 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:20:36.431+05:00  INFO 284 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:20:36.437+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.440+05:00  INFO 284 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:20:36.444+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.446+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.577+05:00  INFO 284 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:20:36.578+05:00  INFO 284 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 56ms
2024-03-17T21:20:36.587+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.591+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.622+05:00  INFO 284 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:20:36.625+05:00  INFO 284 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 31ms
2024-03-17T21:20:36.630+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.633+05:00  INFO 284 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:20:36.637+05:00  INFO 284 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:20:36.638+05:00  INFO 284 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:20:36.797+05:00  INFO 284 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:20:36.942+05:00  INFO 284 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:20:36.946+05:00  INFO 284 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:20:37.192+05:00  INFO 284 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:20:37.435+05:00  INFO 284 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:20:37.885+05:00  INFO 284 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:20:38.857+05:00  INFO 284 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:20:38.896+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:20:38.897+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:20:38.899+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:20:38.900+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:20:38.901+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:20:38.902+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:20:38.905+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:20:38.905+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:20:38.907+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:20:38.908+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:20:38.909+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:20:38.909+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:20:38.910+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:20:38.911+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:20:38.911+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:20:38.912+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:20:38.920+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:20:38.924+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:20:38.926+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:20:38.928+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:20:38.929+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:20:38.931+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:20:38.932+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:20:38.934+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:20:38.936+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:20:38.937+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:20:38.938+05:00 DEBUG 284 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:20:38.943+05:00  INFO 284 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:20:40.735+05:00  INFO 284 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:20:40.810+05:00  INFO 284 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7785430c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13056efe, org.springframework.security.web.context.SecurityContextHolderFilter@105e9fef, org.springframework.security.web.header.HeaderWriterFilter@1268ac94, org.springframework.security.web.authentication.logout.LogoutFilter@54c15e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ae49d52, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3503e68e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@121ec5c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a5cd0af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25e9f5e6, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@371a7fd5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@184b24d4, org.springframework.security.web.access.ExceptionTranslationFilter@59ffb0af, org.springframework.security.web.access.intercept.AuthorizationFilter@7d2ccd7f]
2024-03-17T21:20:41.559+05:00  INFO 284 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:20:41.586+05:00  INFO 284 --- [main] ru.otus.hw.Application                   : Started Application in 14.901 seconds (process running for 15.456)
2024-03-17T21:20:46.813+05:00  INFO 284 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:20:46.814+05:00  INFO 284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:20:46.816+05:00  INFO 284 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T21:20:51.710+05:00 DEBUG 284 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:20:51.727+05:00 DEBUG 284 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:52.549+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:20:52.550+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:52.552+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:52.552+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:54.515+05:00 DEBUG 284 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:20:54.520+05:00 DEBUG 284 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:21:00.123+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T21:21:00.140+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select l1_0.id,l1_0.date_from,l1_0.date_to from logs l1_0 where l1_0.id=?
2024-03-17T21:21:00.177+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into logs (date_from,date_to,id) values (?,?,default)
2024-03-17T21:21:00.193+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select c1_0.id,c1_0.city,d1_0.id,d1_0.email,d1_0.login,d1_0.mobile_number,d1_0.name,d1_0.password,r1_0.id,r1_0.role_name,d1_0.surname,c1_0.name from clubs c1_0 left join users d1_0 on d1_0.id=c1_0.director_id left join role r1_0 on r1_0.id=d1_0.role_id where c1_0.id=?
2024-03-17T21:21:00.195+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into clubs (city,director_id,name,id) values (?,?,?,default)
2024-03-17T21:21:00.234+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into club_log_link (club_id,log_id) values (?,?)
2024-03-17T21:21:00.311+05:00 DEBUG 284 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:21:00.313+05:00 DEBUG 284 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:00.315+05:00 DEBUG 284 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:00.318+05:00 DEBUG 284 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:01.630+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:21:07.672+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:07.790+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T21:21:07.791+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-17T21:21:07.848+05:00 DEBUG 284 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:21:07.849+05:00 DEBUG 284 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:07.850+05:00 DEBUG 284 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:07.852+05:00 DEBUG 284 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:16.003+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:21:16.006+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:16.176+05:00 DEBUG 284 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:21:16.177+05:00 DEBUG 284 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:16.179+05:00 DEBUG 284 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:16.180+05:00 DEBUG 284 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:18.898+05:00 DEBUG 284 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T21:21:18.916+05:00 DEBUG 284 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:21:51.054+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:21:51.056+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:51.057+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:21:51.058+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:01.807+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:24:01.809+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:01.994+05:00 DEBUG 284 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:24:01.997+05:00 DEBUG 284 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:02.001+05:00 DEBUG 284 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:02.003+05:00 DEBUG 284 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:05.770+05:00 DEBUG 284 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:24:06.685+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:24:06.685+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:06.686+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:06.687+05:00 DEBUG 284 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:08.448+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:24:08.448+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:08.449+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:24:08.451+05:00 DEBUG 284 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:26:39.447+05:00  INFO 284 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:26:39.451+05:00  INFO 284 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:26:39.455+05:00  INFO 284 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:26:45.907+05:00  INFO 3140 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3140 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:26:45.910+05:00  INFO 3140 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:26:47.467+05:00  INFO 3140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:26:47.578+05:00  INFO 3140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 94 ms. Found 8 JPA repository interfaces.
2024-03-17T21:26:48.686+05:00  INFO 3140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:26:48.702+05:00  INFO 3140 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:26:48.703+05:00  INFO 3140 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:26:48.871+05:00  INFO 3140 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:26:48.871+05:00  INFO 3140 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2895 ms
2024-03-17T21:26:49.223+05:00  INFO 3140 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:26:49.526+05:00  INFO 3140 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:26:49.528+05:00  INFO 3140 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:26:49.625+05:00  INFO 3140 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:26:49.695+05:00  INFO 3140 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:26:49.726+05:00  INFO 3140 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:26:49.997+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.002+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.009+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.014+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.022+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.022+05:00  INFO 3140 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:26:50.043+05:00  INFO 3140 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:26:50.048+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.049+05:00  INFO 3140 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:26:50.053+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.054+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.171+05:00  INFO 3140 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:26:50.172+05:00  INFO 3140 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 51ms
2024-03-17T21:26:50.179+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.181+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.200+05:00  INFO 3140 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:26:50.201+05:00  INFO 3140 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-17T21:26:50.204+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.206+05:00  INFO 3140 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:26:50.210+05:00  INFO 3140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:26:50.210+05:00  INFO 3140 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:26:50.349+05:00  INFO 3140 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:26:50.441+05:00  INFO 3140 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:26:50.447+05:00  INFO 3140 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:26:50.681+05:00  INFO 3140 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:26:50.880+05:00  INFO 3140 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:26:51.364+05:00  INFO 3140 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:26:52.571+05:00  INFO 3140 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:26:52.612+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:26:52.613+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:26:52.615+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:26:52.616+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:26:52.617+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:26:52.619+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:26:52.622+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:26:52.623+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:26:52.625+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:26:52.625+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:26:52.626+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:26:52.627+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:26:52.627+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:26:52.627+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:26:52.628+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:26:52.629+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:26:52.638+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:26:52.642+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:26:52.644+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:26:52.646+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:26:52.648+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:26:52.649+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:26:52.651+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:26:52.653+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:26:52.654+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:26:52.656+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:26:52.657+05:00 DEBUG 3140 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:26:52.661+05:00  INFO 3140 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:26:54.318+05:00  INFO 3140 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:26:54.389+05:00  INFO 3140 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@160b7ccd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c27ed2f, org.springframework.security.web.context.SecurityContextHolderFilter@5545c42, org.springframework.security.web.header.HeaderWriterFilter@305230ea, org.springframework.security.web.authentication.logout.LogoutFilter@fbc1de9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a5cd0af, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6ca6cc1c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3503e68e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fc51af7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5523f107, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@25e9f5e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c2d4398, org.springframework.security.web.access.ExceptionTranslationFilter@56554e7, org.springframework.security.web.access.intercept.AuthorizationFilter@47858d7c]
2024-03-17T21:26:55.112+05:00  INFO 3140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:26:55.134+05:00  INFO 3140 --- [main] ru.otus.hw.Application                   : Started Application in 9.951 seconds (process running for 10.522)
2024-03-17T21:27:02.018+05:00  INFO 3140 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:27:02.019+05:00  INFO 3140 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:27:02.022+05:00  INFO 3140 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-17T21:27:11.393+05:00 DEBUG 3140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:27:11.410+05:00 DEBUG 3140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:12.119+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:12.121+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:12.122+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:12.123+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:14.506+05:00 DEBUG 3140 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:14.513+05:00 DEBUG 3140 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:27:17.372+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:17.373+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:17.374+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:17.376+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:20.648+05:00 DEBUG 3140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:27:22.923+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:22.925+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:22.928+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:22.929+05:00 DEBUG 3140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:29.296+05:00 DEBUG 3140 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:27:29.299+05:00 DEBUG 3140 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:29.465+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:29.466+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:29.467+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:29.471+05:00 DEBUG 3140 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:30.642+05:00 DEBUG 3140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:27:44.443+05:00 DEBUG 3140 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:44.549+05:00 DEBUG 3140 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T21:27:44.580+05:00 DEBUG 3140 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-17T21:27:44.673+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:44.675+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:44.676+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:44.678+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:46.160+05:00 DEBUG 3140 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:46.164+05:00 DEBUG 3140 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:27:49.723+05:00 DEBUG 3140 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:49.724+05:00 DEBUG 3140 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:49.725+05:00 DEBUG 3140 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:49.727+05:00 DEBUG 3140 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:52.998+05:00 DEBUG 3140 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:27:52.999+05:00 DEBUG 3140 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:53.147+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:27:53.148+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:53.149+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:53.150+05:00 DEBUG 3140 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:56.418+05:00 DEBUG 3140 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:27:56.422+05:00 DEBUG 3140 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:28:12.961+05:00 DEBUG 3140 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:28:12.962+05:00 DEBUG 3140 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:28:12.964+05:00 DEBUG 3140 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:28:12.966+05:00 DEBUG 3140 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:29:26.225+05:00  INFO 3140 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:29:26.231+05:00  INFO 3140 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:29:26.234+05:00  INFO 3140 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:29:32.426+05:00  INFO 13628 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13628 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:29:32.430+05:00  INFO 13628 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:29:33.921+05:00  INFO 13628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:29:34.040+05:00  INFO 13628 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 8 JPA repository interfaces.
2024-03-17T21:29:35.101+05:00  INFO 13628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:29:35.116+05:00  INFO 13628 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:29:35.117+05:00  INFO 13628 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:29:35.270+05:00  INFO 13628 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:29:35.271+05:00  INFO 13628 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2776 ms
2024-03-17T21:29:35.619+05:00  INFO 13628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:29:35.923+05:00  INFO 13628 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:29:35.925+05:00  INFO 13628 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:29:36.007+05:00  INFO 13628 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:29:36.066+05:00  INFO 13628 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:29:36.089+05:00  INFO 13628 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:29:36.352+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.356+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.363+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.368+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.376+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.376+05:00  INFO 13628 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:29:36.398+05:00  INFO 13628 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:29:36.403+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.405+05:00  INFO 13628 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:29:36.408+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.410+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.512+05:00  INFO 13628 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:29:36.512+05:00  INFO 13628 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 46ms
2024-03-17T21:29:36.518+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.519+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.549+05:00  INFO 13628 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:29:36.551+05:00  INFO 13628 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-17T21:29:36.553+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.555+05:00  INFO 13628 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:29:36.559+05:00  INFO 13628 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:29:36.559+05:00  INFO 13628 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:29:36.700+05:00  INFO 13628 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:29:36.822+05:00  INFO 13628 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:29:36.827+05:00  INFO 13628 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:29:37.016+05:00  INFO 13628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:29:37.228+05:00  INFO 13628 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:29:37.624+05:00  INFO 13628 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:29:38.527+05:00  INFO 13628 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:29:38.570+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:29:38.571+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:29:38.573+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:29:38.575+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:29:38.576+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:29:38.577+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:29:38.579+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:29:38.580+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:29:38.581+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:29:38.582+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:29:38.583+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:29:38.583+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:29:38.584+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:29:38.585+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:29:38.585+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:29:38.585+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:29:38.593+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:29:38.598+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:29:38.600+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:29:38.601+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:29:38.603+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:29:38.604+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:29:38.605+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:29:38.607+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:29:38.608+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:29:38.610+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:29:38.611+05:00 DEBUG 13628 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:29:38.615+05:00  INFO 13628 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:29:40.249+05:00  INFO 13628 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:29:40.327+05:00  INFO 13628 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40ef1198, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72161dbb, org.springframework.security.web.context.SecurityContextHolderFilter@1d2b49b2, org.springframework.security.web.header.HeaderWriterFilter@77c66ac2, org.springframework.security.web.authentication.logout.LogoutFilter@ab5e63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@557fe039, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@198c97d0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@69ca71b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d6d88b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@105e9fef, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3470c771, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@371a7fd5, org.springframework.security.web.access.ExceptionTranslationFilter@452e0a94, org.springframework.security.web.access.intercept.AuthorizationFilter@5086e144]
2024-03-17T21:29:40.986+05:00  INFO 13628 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:29:41.017+05:00  INFO 13628 --- [main] ru.otus.hw.Application                   : Started Application in 9.254 seconds (process running for 9.817)
2024-03-17T21:29:45.489+05:00  INFO 13628 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:29:45.491+05:00  INFO 13628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:29:45.496+05:00  INFO 13628 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-03-17T21:29:50.153+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:29:50.168+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:29:50.925+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:29:50.927+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:29:50.929+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:29:50.930+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:29:53.044+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:30:02.215+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:02.345+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-17T21:30:02.361+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-17T21:30:02.440+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:30:02.443+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:02.446+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:02.447+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:06.183+05:00 DEBUG 13628 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:30:06.185+05:00 DEBUG 13628 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:06.348+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:30:06.349+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:06.350+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:06.351+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:08.558+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:08.564+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:30:10.869+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:30:10.871+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:10.873+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:10.874+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:19.150+05:00 DEBUG 13628 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:30:19.152+05:00 DEBUG 13628 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:19.300+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:30:19.301+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:19.303+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:19.305+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:20.823+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:20.826+05:00 DEBUG 13628 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:30:22.362+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:30:22.363+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:22.364+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:30:22.364+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:04.785+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:31:04.787+05:00 DEBUG 13628 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:04.932+05:00 DEBUG 13628 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:31:04.933+05:00 DEBUG 13628 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:04.935+05:00 DEBUG 13628 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:04.937+05:00 DEBUG 13628 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:07.202+05:00 DEBUG 13628 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:31:07.203+05:00 DEBUG 13628 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:07.204+05:00 DEBUG 13628 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:31:07.205+05:00 DEBUG 13628 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:07.593+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:32:07.594+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:07.596+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:07.598+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:22.442+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:32:22.444+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:22.583+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:32:22.584+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:22.585+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:22.586+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:24.431+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:24.434+05:00 DEBUG 13628 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-17T21:32:29.121+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:32:29.122+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:29.124+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:29.126+05:00 DEBUG 13628 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:29.991+05:00 DEBUG 13628 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-17T21:32:32.931+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:32:32.932+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:32.933+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:32:32.934+05:00 DEBUG 13628 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:58:57.764+05:00  INFO 13628 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:58:57.768+05:00  INFO 13628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T21:58:57.771+05:00  INFO 13628 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T21:59:07.676+05:00  INFO 15468 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15468 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T21:59:07.679+05:00  INFO 15468 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T21:59:09.227+05:00  INFO 15468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T21:59:09.341+05:00  INFO 15468 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 9 JPA repository interfaces.
2024-03-17T21:59:10.400+05:00  INFO 15468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T21:59:10.416+05:00  INFO 15468 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T21:59:10.416+05:00  INFO 15468 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T21:59:10.570+05:00  INFO 15468 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T21:59:10.571+05:00  INFO 15468 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2833 ms
2024-03-17T21:59:10.926+05:00  INFO 15468 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T21:59:11.227+05:00  INFO 15468 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T21:59:11.229+05:00  INFO 15468 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T21:59:11.324+05:00  INFO 15468 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T21:59:11.398+05:00  INFO 15468 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T21:59:11.431+05:00  INFO 15468 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T21:59:11.702+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.709+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.717+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.723+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.731+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.731+05:00  INFO 15468 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T21:59:11.752+05:00  INFO 15468 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T21:59:11.760+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.761+05:00  INFO 15468 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T21:59:11.770+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.771+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.886+05:00  INFO 15468 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:59:11.887+05:00  INFO 15468 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 57ms
2024-03-17T21:59:11.893+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.895+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.923+05:00  INFO 15468 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T21:59:11.925+05:00  INFO 15468 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 28ms
2024-03-17T21:59:11.928+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.930+05:00  INFO 15468 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T21:59:11.935+05:00  INFO 15468 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T21:59:11.936+05:00  INFO 15468 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T21:59:12.063+05:00  INFO 15468 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T21:59:12.157+05:00  INFO 15468 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T21:59:12.163+05:00  INFO 15468 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T21:59:12.420+05:00  INFO 15468 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:59:12.633+05:00  INFO 15468 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T21:59:13.062+05:00  INFO 15468 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T21:59:14.153+05:00  INFO 15468 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T21:59:14.197+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T21:59:14.199+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T21:59:14.200+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T21:59:14.202+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T21:59:14.203+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T21:59:14.205+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T21:59:14.208+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T21:59:14.209+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T21:59:14.210+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T21:59:14.211+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T21:59:14.212+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T21:59:14.212+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T21:59:14.213+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T21:59:14.214+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T21:59:14.214+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T21:59:14.215+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T21:59:14.224+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T21:59:14.228+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T21:59:14.230+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T21:59:14.232+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T21:59:14.234+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T21:59:14.235+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T21:59:14.237+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T21:59:14.239+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T21:59:14.241+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T21:59:14.243+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T21:59:14.244+05:00 DEBUG 15468 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T21:59:14.249+05:00  INFO 15468 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T21:59:15.937+05:00  INFO 15468 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T21:59:16.007+05:00  INFO 15468 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@276ac94c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ccc07ae, org.springframework.security.web.context.SecurityContextHolderFilter@4d5aeea7, org.springframework.security.web.header.HeaderWriterFilter@6773c073, org.springframework.security.web.authentication.logout.LogoutFilter@7197b96c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@589dd717, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@38f1f6c9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ab5e63, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ecf239d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@786d8b3b, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5565d718, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a434cdd, org.springframework.security.web.access.ExceptionTranslationFilter@7d2c9b65, org.springframework.security.web.access.intercept.AuthorizationFilter@7280785f]
2024-03-17T21:59:16.645+05:00  INFO 15468 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T21:59:16.668+05:00  INFO 15468 --- [main] ru.otus.hw.Application                   : Started Application in 9.693 seconds (process running for 10.271)
2024-03-17T21:59:21.779+05:00  INFO 15468 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T21:59:21.781+05:00  INFO 15468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T21:59:21.783+05:00  INFO 15468 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T21:59:27.849+05:00 DEBUG 15468 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T21:59:27.871+05:00 DEBUG 15468 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:59:28.622+05:00 DEBUG 15468 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T21:59:28.623+05:00 DEBUG 15468 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:59:28.625+05:00 DEBUG 15468 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T21:59:28.626+05:00 DEBUG 15468 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:00:26.698+05:00  INFO 15468 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:00:26.703+05:00  INFO 15468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:00:26.706+05:00  INFO 15468 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:00:29.741+05:00  INFO 11752 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11752 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:00:29.743+05:00  INFO 11752 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:00:31.290+05:00  INFO 11752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:00:31.434+05:00  INFO 11752 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 9 JPA repository interfaces.
2024-03-17T22:00:32.695+05:00  INFO 11752 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:00:32.712+05:00  INFO 11752 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:00:32.713+05:00  INFO 11752 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:00:32.896+05:00  INFO 11752 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:00:32.897+05:00  INFO 11752 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3091 ms
2024-03-17T22:00:33.297+05:00  INFO 11752 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:00:33.668+05:00  INFO 11752 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:00:33.671+05:00  INFO 11752 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:00:33.776+05:00  INFO 11752 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:00:33.856+05:00  INFO 11752 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:00:33.896+05:00  INFO 11752 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:00:34.196+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.200+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.209+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.213+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.222+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.222+05:00  INFO 11752 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:00:34.242+05:00  INFO 11752 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:00:34.248+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.250+05:00  INFO 11752 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:00:34.253+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.255+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.364+05:00  INFO 11752 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:00:34.365+05:00  INFO 11752 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-17T22:00:34.370+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.372+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.388+05:00  INFO 11752 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:00:34.389+05:00  INFO 11752 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-17T22:00:34.391+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.392+05:00  INFO 11752 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:00:34.395+05:00  INFO 11752 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:00:34.395+05:00  INFO 11752 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:00:34.540+05:00  INFO 11752 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:00:34.653+05:00  INFO 11752 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:00:34.658+05:00  INFO 11752 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:00:34.957+05:00  INFO 11752 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:00:35.263+05:00  INFO 11752 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:00:35.861+05:00  INFO 11752 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:00:37.020+05:00  INFO 11752 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:00:37.070+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:00:37.072+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:00:37.074+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:00:37.077+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:00:37.078+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:00:37.080+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:00:37.082+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:00:37.083+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:00:37.085+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:00:37.086+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:00:37.087+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:00:37.087+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:00:37.089+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:00:37.090+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:00:37.091+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:00:37.091+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:00:37.103+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:00:37.107+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:00:37.109+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:00:37.111+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:00:37.113+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:00:37.114+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:00:37.116+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:00:37.119+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:00:37.121+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:00:37.123+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:00:37.125+05:00 DEBUG 11752 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:00:37.128+05:00  INFO 11752 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:00:38.856+05:00  INFO 11752 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:00:38.932+05:00  INFO 11752 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79cfc008, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ea482b4, org.springframework.security.web.context.SecurityContextHolderFilter@452e0a94, org.springframework.security.web.header.HeaderWriterFilter@fbc1de9, org.springframework.security.web.authentication.logout.LogoutFilter@5565d718, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39b50027, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@105e9fef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3470c771, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77c66ac2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59ffb0af, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5086e144, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d2ccd7f, org.springframework.security.web.access.ExceptionTranslationFilter@1b61a646, org.springframework.security.web.access.intercept.AuthorizationFilter@27bfa57f]
2024-03-17T22:00:39.652+05:00  INFO 11752 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:00:39.673+05:00  INFO 11752 --- [main] ru.otus.hw.Application                   : Started Application in 10.625 seconds (process running for 11.199)
2024-03-17T22:00:44.013+05:00  INFO 11752 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:00:44.014+05:00  INFO 11752 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:00:44.016+05:00  INFO 11752 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:00:44.352+05:00 DEBUG 11752 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T22:00:44.370+05:00 DEBUG 11752 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:01:22.436+05:00  INFO 11752 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:01:22.441+05:00  INFO 11752 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:01:22.445+05:00  INFO 11752 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:01:25.434+05:00  INFO 13004 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13004 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:01:25.438+05:00  INFO 13004 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:01:26.940+05:00  INFO 13004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:01:27.059+05:00  INFO 13004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 9 JPA repository interfaces.
2024-03-17T22:01:28.152+05:00  INFO 13004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:01:28.166+05:00  INFO 13004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:01:28.167+05:00  INFO 13004 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:01:28.322+05:00  INFO 13004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:01:28.322+05:00  INFO 13004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2810 ms
2024-03-17T22:01:28.699+05:00  INFO 13004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:01:28.988+05:00  INFO 13004 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:01:28.991+05:00  INFO 13004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:01:29.104+05:00  INFO 13004 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:01:29.173+05:00  INFO 13004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:01:29.211+05:00  INFO 13004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:01:29.478+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.484+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.493+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.500+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.508+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.509+05:00  INFO 13004 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:01:29.530+05:00  INFO 13004 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:01:29.535+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.536+05:00  INFO 13004 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:01:29.539+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.541+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.647+05:00  INFO 13004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:01:29.648+05:00  INFO 13004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-17T22:01:29.653+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.655+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.673+05:00  INFO 13004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:01:29.674+05:00  INFO 13004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-17T22:01:29.677+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.679+05:00  INFO 13004 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:01:29.682+05:00  INFO 13004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:01:29.683+05:00  INFO 13004 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:01:29.825+05:00  INFO 13004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:01:29.916+05:00  INFO 13004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:01:29.919+05:00  INFO 13004 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:01:30.149+05:00  INFO 13004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:01:30.362+05:00  INFO 13004 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:01:30.845+05:00  INFO 13004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:01:31.889+05:00  INFO 13004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:01:31.933+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:01:31.934+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:01:31.935+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:01:31.937+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:01:31.939+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:01:31.941+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:01:31.946+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:01:31.947+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:01:31.949+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:01:31.950+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:01:31.951+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:01:31.951+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:01:31.952+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:01:31.952+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:01:31.953+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:01:31.953+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:01:31.962+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:01:31.967+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:01:31.970+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:01:31.971+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:01:31.974+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:01:31.975+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:01:31.977+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:01:31.980+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:01:31.982+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:01:31.983+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:01:31.985+05:00 DEBUG 13004 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:01:31.990+05:00  INFO 13004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:01:33.729+05:00  INFO 13004 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:01:33.800+05:00  INFO 13004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41a3656f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5086e144, org.springframework.security.web.context.SecurityContextHolderFilter@38c840fb, org.springframework.security.web.header.HeaderWriterFilter@6f8b1902, org.springframework.security.web.authentication.logout.LogoutFilter@589dd717, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d38758a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@d6d88b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@557fe039, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@295e9aef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77c66ac2, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@39b50027, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@231d5119, org.springframework.security.web.access.ExceptionTranslationFilter@38f1f6c9, org.springframework.security.web.access.intercept.AuthorizationFilter@54c15e]
2024-03-17T22:01:34.476+05:00  INFO 13004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:01:34.500+05:00  INFO 13004 --- [main] ru.otus.hw.Application                   : Started Application in 9.761 seconds (process running for 10.384)
2024-03-17T22:01:39.448+05:00  INFO 13004 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:01:39.449+05:00  INFO 13004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:01:39.454+05:00  INFO 13004 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T22:01:40.410+05:00 DEBUG 13004 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:01:40.412+05:00 DEBUG 13004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:01:40.427+05:00 DEBUG 13004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:01:40.432+05:00 DEBUG 13004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:01:40.433+05:00 DEBUG 13004 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:02:50.742+05:00  INFO 13004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:02:50.745+05:00  INFO 13004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:02:50.749+05:00  INFO 13004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:02:53.865+05:00  INFO 2552 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 2552 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:02:53.868+05:00  INFO 2552 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:02:55.411+05:00  INFO 2552 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:02:55.530+05:00  INFO 2552 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 9 JPA repository interfaces.
2024-03-17T22:02:56.672+05:00  INFO 2552 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:02:56.688+05:00  INFO 2552 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:02:56.689+05:00  INFO 2552 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:02:56.845+05:00  INFO 2552 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:02:56.846+05:00  INFO 2552 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2919 ms
2024-03-17T22:02:57.216+05:00  INFO 2552 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:02:57.557+05:00  INFO 2552 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:02:57.561+05:00  INFO 2552 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:02:57.670+05:00  INFO 2552 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:02:57.738+05:00  INFO 2552 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:02:57.766+05:00  INFO 2552 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:02:58.048+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.053+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.062+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.066+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.074+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.075+05:00  INFO 2552 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:02:58.097+05:00  INFO 2552 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:02:58.105+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.106+05:00  INFO 2552 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:02:58.111+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.113+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.219+05:00  INFO 2552 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:02:58.220+05:00  INFO 2552 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 47ms
2024-03-17T22:02:58.225+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.227+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.243+05:00  INFO 2552 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:02:58.244+05:00  INFO 2552 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-17T22:02:58.246+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.247+05:00  INFO 2552 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:02:58.249+05:00  INFO 2552 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:02:58.250+05:00  INFO 2552 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:02:58.395+05:00  INFO 2552 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:02:58.523+05:00  INFO 2552 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:02:58.526+05:00  INFO 2552 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:02:58.752+05:00  INFO 2552 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:02:58.953+05:00  INFO 2552 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:02:59.482+05:00  INFO 2552 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:03:00.823+05:00  INFO 2552 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:03:00.875+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:03:00.877+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:03:00.879+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:03:00.881+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:03:00.882+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:03:00.884+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:03:00.887+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:03:00.888+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:03:00.890+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:03:00.891+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:03:00.892+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:03:00.892+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:03:00.894+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:03:00.894+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:03:00.895+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:03:00.896+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:03:00.907+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:03:00.911+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:03:00.913+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:03:00.915+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:03:00.917+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:03:00.918+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:03:00.920+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:03:00.924+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:03:00.926+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:03:00.928+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:03:00.930+05:00 DEBUG 2552 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:03:00.935+05:00  INFO 2552 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:03:02.923+05:00  INFO 2552 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:03:03.013+05:00  INFO 2552 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1934a7c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9d2ed7, org.springframework.security.web.context.SecurityContextHolderFilter@1c7da28, org.springframework.security.web.header.HeaderWriterFilter@54c15e, org.springframework.security.web.authentication.logout.LogoutFilter@2a6b6f4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19cc697c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3470c771, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@621c7b91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39b50027, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5086e144, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3a7be6e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@223e51e4, org.springframework.security.web.access.ExceptionTranslationFilter@7ddd5715, org.springframework.security.web.access.intercept.AuthorizationFilter@681ba763]
2024-03-17T22:03:03.769+05:00  INFO 2552 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:03:03.796+05:00  INFO 2552 --- [main] ru.otus.hw.Application                   : Started Application in 10.62 seconds (process running for 11.182)
2024-03-17T22:03:08.108+05:00  INFO 2552 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:03:08.110+05:00  INFO 2552 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:03:08.111+05:00  INFO 2552 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T22:03:08.935+05:00 DEBUG 2552 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:03:08.935+05:00 DEBUG 2552 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:03:08.960+05:00 DEBUG 2552 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:03:08.965+05:00 DEBUG 2552 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:03:08.967+05:00 DEBUG 2552 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:03:30.608+05:00  INFO 2552 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:03:30.611+05:00  INFO 2552 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:03:30.616+05:00  INFO 2552 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:03:34.182+05:00  INFO 17644 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17644 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:03:34.186+05:00  INFO 17644 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:03:35.802+05:00  INFO 17644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:03:35.939+05:00  INFO 17644 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 9 JPA repository interfaces.
2024-03-17T22:03:37.038+05:00  INFO 17644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:03:37.057+05:00  INFO 17644 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:03:37.057+05:00  INFO 17644 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:03:37.229+05:00  INFO 17644 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:03:37.229+05:00  INFO 17644 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2957 ms
2024-03-17T22:03:37.640+05:00  INFO 17644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:03:38.001+05:00  INFO 17644 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:03:38.006+05:00  INFO 17644 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:03:38.110+05:00  INFO 17644 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:03:38.179+05:00  INFO 17644 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:03:38.207+05:00  INFO 17644 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:03:38.511+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.515+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.524+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.530+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.539+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.540+05:00  INFO 17644 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:03:38.566+05:00  INFO 17644 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:03:38.573+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.574+05:00  INFO 17644 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:03:38.578+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.580+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.696+05:00  INFO 17644 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:03:38.698+05:00  INFO 17644 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 56ms
2024-03-17T22:03:38.704+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.706+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.733+05:00  INFO 17644 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:03:38.735+05:00  INFO 17644 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-17T22:03:38.739+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.741+05:00  INFO 17644 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:03:38.746+05:00  INFO 17644 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:03:38.747+05:00  INFO 17644 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:03:38.897+05:00  INFO 17644 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:03:39.017+05:00  INFO 17644 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:03:39.021+05:00  INFO 17644 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:03:39.250+05:00  INFO 17644 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:03:39.450+05:00  INFO 17644 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:03:39.900+05:00  INFO 17644 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:03:40.886+05:00  INFO 17644 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:03:40.929+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:03:40.931+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:03:40.933+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:03:40.935+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:03:40.936+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:03:40.937+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:03:40.940+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:03:40.941+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:03:40.942+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:03:40.943+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:03:40.944+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:03:40.945+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:03:40.945+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:03:40.946+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:03:40.947+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:03:40.947+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:03:40.958+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:03:40.962+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:03:40.964+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:03:40.965+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:03:40.967+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:03:40.969+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:03:40.971+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:03:40.973+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:03:40.975+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:03:40.977+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:03:40.978+05:00 DEBUG 17644 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:03:40.983+05:00  INFO 17644 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:03:42.624+05:00  INFO 17644 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:03:42.687+05:00  INFO 17644 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b12c870, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27df4dcb, org.springframework.security.web.context.SecurityContextHolderFilter@45295bed, org.springframework.security.web.header.HeaderWriterFilter@3453cf27, org.springframework.security.web.authentication.logout.LogoutFilter@16cc5e51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5565d718, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b61a646, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ddd5715, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@786d8b3b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a273fd7, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5ccc07ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d88d9d7, org.springframework.security.web.access.ExceptionTranslationFilter@75c8855e, org.springframework.security.web.access.intercept.AuthorizationFilter@63f6811e]
2024-03-17T22:03:43.327+05:00  INFO 17644 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:03:43.348+05:00  INFO 17644 --- [main] ru.otus.hw.Application                   : Started Application in 9.831 seconds (process running for 10.395)
2024-03-17T22:03:47.250+05:00  INFO 17644 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:03:47.251+05:00  INFO 17644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:03:47.253+05:00  INFO 17644 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:03:48.203+05:00 DEBUG 17644 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:03:48.204+05:00 DEBUG 17644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:03:48.223+05:00 DEBUG 17644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:03:48.242+05:00 DEBUG 17644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:03:48.248+05:00 DEBUG 17644 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:05:03.267+05:00  INFO 17644 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:05:03.272+05:00  INFO 17644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:05:03.278+05:00  INFO 17644 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:05:06.269+05:00  INFO 1164 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 1164 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:05:06.272+05:00  INFO 1164 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:05:07.835+05:00  INFO 1164 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:05:07.959+05:00  INFO 1164 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 110 ms. Found 9 JPA repository interfaces.
2024-03-17T22:05:09.019+05:00  INFO 1164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:05:09.035+05:00  INFO 1164 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:05:09.036+05:00  INFO 1164 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:05:09.203+05:00  INFO 1164 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:05:09.204+05:00  INFO 1164 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2873 ms
2024-03-17T22:05:09.549+05:00  INFO 1164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:05:09.865+05:00  INFO 1164 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:05:09.868+05:00  INFO 1164 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:05:09.970+05:00  INFO 1164 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:05:10.034+05:00  INFO 1164 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:05:10.061+05:00  INFO 1164 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:05:10.340+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.345+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.353+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.359+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.368+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.368+05:00  INFO 1164 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:05:10.391+05:00  INFO 1164 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:05:10.398+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.399+05:00  INFO 1164 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:05:10.402+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.404+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.512+05:00  INFO 1164 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:05:10.513+05:00  INFO 1164 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 51ms
2024-03-17T22:05:10.518+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.520+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.537+05:00  INFO 1164 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:05:10.539+05:00  INFO 1164 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-17T22:05:10.540+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.542+05:00  INFO 1164 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:05:10.546+05:00  INFO 1164 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:10.547+05:00  INFO 1164 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:05:10.692+05:00  INFO 1164 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:05:10.798+05:00  INFO 1164 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:05:10.803+05:00  INFO 1164 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:05:11.038+05:00  INFO 1164 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:05:11.245+05:00  INFO 1164 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:05:11.697+05:00  INFO 1164 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:05:12.699+05:00  INFO 1164 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:05:12.734+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:05:12.735+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:05:12.737+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:05:12.738+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:05:12.739+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:05:12.740+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:05:12.742+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:05:12.743+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:05:12.744+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:05:12.745+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:05:12.746+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:05:12.746+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:05:12.747+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:05:12.747+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:05:12.748+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:05:12.748+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:05:12.756+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:05:12.759+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:05:12.761+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:05:12.762+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:05:12.764+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:05:12.765+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:05:12.766+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:05:12.769+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:05:12.770+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:05:12.772+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:05:12.773+05:00 DEBUG 1164 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:05:12.778+05:00  INFO 1164 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:05:14.609+05:00  INFO 1164 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:05:14.676+05:00  INFO 1164 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28b36817, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6645c1f, org.springframework.security.web.context.SecurityContextHolderFilter@589dd717, org.springframework.security.web.header.HeaderWriterFilter@7c2d4398, org.springframework.security.web.authentication.logout.LogoutFilter@7d2ccd7f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4164ab12, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b12c870, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@237e4ed9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12c55199, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70c3483b, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@753b6846, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ef4179, org.springframework.security.web.access.ExceptionTranslationFilter@7c27ed2f, org.springframework.security.web.access.intercept.AuthorizationFilter@58397dee]
2024-03-17T22:05:15.349+05:00  INFO 1164 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:05:15.374+05:00  INFO 1164 --- [main] ru.otus.hw.Application                   : Started Application in 9.844 seconds (process running for 10.437)
2024-03-17T22:05:18.924+05:00  INFO 1164 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:05:18.924+05:00  INFO 1164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:05:18.928+05:00  INFO 1164 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-17T22:05:19.848+05:00 DEBUG 1164 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:05:19.848+05:00 DEBUG 1164 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:05:19.868+05:00 DEBUG 1164 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:05:19.873+05:00 DEBUG 1164 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:05:19.875+05:00 DEBUG 1164 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:05:46.657+05:00  INFO 1164 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:05:46.662+05:00  INFO 1164 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:05:46.666+05:00  INFO 1164 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:05:49.732+05:00  INFO 16912 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 16912 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:05:49.735+05:00  INFO 16912 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:05:51.185+05:00  INFO 16912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:05:51.295+05:00  INFO 16912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 9 JPA repository interfaces.
2024-03-17T22:05:52.338+05:00  INFO 16912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:05:52.351+05:00  INFO 16912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:05:52.352+05:00  INFO 16912 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:05:52.513+05:00  INFO 16912 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:05:52.513+05:00  INFO 16912 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2720 ms
2024-03-17T22:05:52.874+05:00  INFO 16912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:05:53.176+05:00  INFO 16912 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:05:53.179+05:00  INFO 16912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:05:53.275+05:00  INFO 16912 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:05:53.337+05:00  INFO 16912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:05:53.364+05:00  INFO 16912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:05:53.628+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.633+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.640+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.645+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.653+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.654+05:00  INFO 16912 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:05:53.676+05:00  INFO 16912 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:05:53.682+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.683+05:00  INFO 16912 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:05:53.687+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.688+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.803+05:00  INFO 16912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:05:53.804+05:00  INFO 16912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 56ms
2024-03-17T22:05:53.810+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.812+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.829+05:00  INFO 16912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:05:53.831+05:00  INFO 16912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-17T22:05:53.834+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.836+05:00  INFO 16912 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:05:53.840+05:00  INFO 16912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:05:53.840+05:00  INFO 16912 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:05:53.976+05:00  INFO 16912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:05:54.092+05:00  INFO 16912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:05:54.097+05:00  INFO 16912 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:05:54.319+05:00  INFO 16912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:05:54.503+05:00  INFO 16912 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:05:54.932+05:00  INFO 16912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:05:55.907+05:00  INFO 16912 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:05:55.951+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:05:55.952+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:05:55.953+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:05:55.955+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:05:55.956+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:05:55.957+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:05:55.959+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:05:55.960+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:05:55.961+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:05:55.963+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:05:55.963+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:05:55.964+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:05:55.965+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:05:55.965+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:05:55.966+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:05:55.966+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:05:55.974+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:05:55.978+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:05:55.980+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:05:55.981+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:05:55.983+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:05:55.984+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:05:55.986+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:05:55.989+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:05:55.990+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:05:55.992+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:05:55.993+05:00 DEBUG 16912 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:05:55.996+05:00  INFO 16912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:05:57.609+05:00  INFO 16912 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:05:57.673+05:00  INFO 16912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33012e6f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7593716d, org.springframework.security.web.context.SecurityContextHolderFilter@27df4dcb, org.springframework.security.web.header.HeaderWriterFilter@ab5e63, org.springframework.security.web.authentication.logout.LogoutFilter@450b99f2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@168f447d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@41a3656f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4086e003, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d88d9d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c7da28, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@197bf5ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a7be6e6, org.springframework.security.web.access.ExceptionTranslationFilter@276ac94c, org.springframework.security.web.access.intercept.AuthorizationFilter@322f6283]
2024-03-17T22:06:03.265+05:00  INFO 16912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:06:03.296+05:00  INFO 16912 --- [main] ru.otus.hw.Application                   : Started Application in 14.26 seconds (process running for 14.887)
2024-03-17T22:06:07.169+05:00  INFO 16912 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:06:07.170+05:00  INFO 16912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:06:07.174+05:00  INFO 16912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T22:06:08.327+05:00 DEBUG 16912 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:06:08.328+05:00 DEBUG 16912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:06:08.352+05:00 DEBUG 16912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:06:08.358+05:00 DEBUG 16912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:06:08.360+05:00 DEBUG 16912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:09:29.469+05:00  INFO 16912 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:09:29.474+05:00  INFO 16912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:09:29.477+05:00  INFO 16912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:09:32.802+05:00  INFO 10896 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 10896 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:09:32.805+05:00  INFO 10896 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:09:34.550+05:00  INFO 10896 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:09:34.668+05:00  INFO 10896 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 103 ms. Found 9 JPA repository interfaces.
2024-03-17T22:09:35.765+05:00  INFO 10896 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:09:35.781+05:00  INFO 10896 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:09:35.782+05:00  INFO 10896 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:09:35.944+05:00  INFO 10896 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:09:35.945+05:00  INFO 10896 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3074 ms
2024-03-17T22:09:36.301+05:00  INFO 10896 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:09:36.630+05:00  INFO 10896 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:09:36.633+05:00  INFO 10896 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:09:36.734+05:00  INFO 10896 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:09:36.803+05:00  INFO 10896 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:09:36.829+05:00  INFO 10896 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:09:37.103+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.108+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.115+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.120+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.128+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.128+05:00  INFO 10896 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:09:37.147+05:00  INFO 10896 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:09:37.153+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.154+05:00  INFO 10896 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:09:37.159+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.161+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.269+05:00  INFO 10896 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:09:37.270+05:00  INFO 10896 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 50ms
2024-03-17T22:09:37.275+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.276+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.295+05:00  INFO 10896 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:09:37.297+05:00  INFO 10896 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-17T22:09:37.299+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.300+05:00  INFO 10896 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:09:37.302+05:00  INFO 10896 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:09:37.303+05:00  INFO 10896 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:09:37.437+05:00  INFO 10896 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:09:37.516+05:00  INFO 10896 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:09:37.521+05:00  INFO 10896 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:09:37.754+05:00  INFO 10896 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:09:37.948+05:00  INFO 10896 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:09:38.427+05:00  INFO 10896 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:09:39.654+05:00  INFO 10896 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:09:39.695+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:09:39.696+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:09:39.697+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:09:39.699+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:09:39.700+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:09:39.702+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:09:39.703+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:09:39.704+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:09:39.705+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:09:39.706+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:09:39.707+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:09:39.707+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:09:39.708+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:09:39.708+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:09:39.709+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:09:39.709+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:09:39.716+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:09:39.720+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:09:39.722+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:09:39.723+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:09:39.724+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:09:39.725+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:09:39.726+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:09:39.729+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:09:39.730+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:09:39.731+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:09:39.732+05:00 DEBUG 10896 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:09:39.736+05:00  INFO 10896 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:09:41.558+05:00  INFO 10896 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:09:41.629+05:00  INFO 10896 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@322f6283, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@168f447d, org.springframework.security.web.context.SecurityContextHolderFilter@5565d718, org.springframework.security.web.header.HeaderWriterFilter@4eba6e1f, org.springframework.security.web.authentication.logout.LogoutFilter@69ca71b3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@753b6846, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@54c15e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4756c8f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70c3483b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a434cdd, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6645c1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cc9bde9, org.springframework.security.web.access.ExceptionTranslationFilter@7280785f, org.springframework.security.web.access.intercept.AuthorizationFilter@11636d43]
2024-03-17T22:09:42.337+05:00  INFO 10896 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:09:42.356+05:00  INFO 10896 --- [main] ru.otus.hw.Application                   : Started Application in 10.237 seconds (process running for 10.831)
2024-03-17T22:09:48.136+05:00  INFO 10896 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:09:48.136+05:00  INFO 10896 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:09:48.139+05:00  INFO 10896 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T22:09:49.111+05:00 DEBUG 10896 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:10:21.337+05:00  INFO 10896 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:10:21.340+05:00  INFO 10896 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:10:21.345+05:00  INFO 10896 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:10:24.505+05:00  INFO 17956 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17956 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:10:24.509+05:00  INFO 17956 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:10:26.200+05:00  INFO 17956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:10:26.366+05:00  INFO 17956 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 149 ms. Found 9 JPA repository interfaces.
2024-03-17T22:10:27.658+05:00  INFO 17956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:10:27.677+05:00  INFO 17956 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:10:27.678+05:00  INFO 17956 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:10:27.887+05:00  INFO 17956 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:10:27.888+05:00  INFO 17956 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3303 ms
2024-03-17T22:10:28.302+05:00  INFO 17956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:10:28.701+05:00  INFO 17956 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:10:28.703+05:00  INFO 17956 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:10:28.833+05:00  INFO 17956 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:10:28.917+05:00  INFO 17956 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:10:28.952+05:00  INFO 17956 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:10:29.262+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.268+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.277+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.283+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.292+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.293+05:00  INFO 17956 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:10:29.319+05:00  INFO 17956 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:10:29.326+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.328+05:00  INFO 17956 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:10:29.333+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.335+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.462+05:00  INFO 17956 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:10:29.463+05:00  INFO 17956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-17T22:10:29.470+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.472+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.498+05:00  INFO 17956 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:10:29.502+05:00  INFO 17956 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 26ms
2024-03-17T22:10:29.504+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.508+05:00  INFO 17956 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:10:29.513+05:00  INFO 17956 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:10:29.514+05:00  INFO 17956 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:10:29.660+05:00  INFO 17956 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:10:29.790+05:00  INFO 17956 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:10:29.794+05:00  INFO 17956 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:10:30.079+05:00  INFO 17956 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:10:30.357+05:00  INFO 17956 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:10:30.948+05:00  INFO 17956 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:10:32.312+05:00  INFO 17956 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:10:32.369+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:10:32.371+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:10:32.373+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:10:32.376+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:10:32.377+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:10:32.378+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:10:32.380+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:10:32.381+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:10:32.382+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:10:32.383+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:10:32.384+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:10:32.384+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:10:32.385+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:10:32.385+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:10:32.386+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:10:32.386+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:10:32.396+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:10:32.402+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:10:32.405+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:10:32.407+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:10:32.410+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:10:32.411+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:10:32.414+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:10:32.416+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:10:32.418+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:10:32.420+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:10:32.422+05:00 DEBUG 17956 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:10:32.426+05:00  INFO 17956 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:10:34.456+05:00  INFO 17956 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:10:34.532+05:00  INFO 17956 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c7da28, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27bfa57f, org.springframework.security.web.context.SecurityContextHolderFilter@38f1f6c9, org.springframework.security.web.header.HeaderWriterFilter@4df9df06, org.springframework.security.web.authentication.logout.LogoutFilter@7c27ed2f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b12c870, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@77c66ac2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@39b50027, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f8b1902, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fbc1de9, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@54c15e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24c4370a, org.springframework.security.web.access.ExceptionTranslationFilter@786d8b3b, org.springframework.security.web.access.intercept.AuthorizationFilter@6a434cdd]
2024-03-17T22:10:35.314+05:00  INFO 17956 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:10:35.337+05:00  INFO 17956 --- [main] ru.otus.hw.Application                   : Started Application in 11.668 seconds (process running for 12.317)
2024-03-17T22:10:39.458+05:00  INFO 17956 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:10:39.458+05:00  INFO 17956 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:10:39.463+05:00  INFO 17956 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-03-17T22:10:40.470+05:00 DEBUG 17956 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:10:58.489+05:00 DEBUG 17956 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:11:47.615+05:00 DEBUG 17956 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:12:11.530+05:00  INFO 17956 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:12:11.537+05:00  INFO 17956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:12:11.541+05:00  INFO 17956 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:12:15.901+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4236 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:12:15.906+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:12:17.594+05:00  INFO 4236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:12:17.767+05:00  INFO 4236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 154 ms. Found 9 JPA repository interfaces.
2024-03-17T22:12:18.969+05:00  INFO 4236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:12:18.994+05:00  INFO 4236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:12:18.994+05:00  INFO 4236 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:12:19.207+05:00  INFO 4236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:12:19.208+05:00  INFO 4236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3239 ms
2024-03-17T22:12:19.640+05:00  INFO 4236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:12:19.965+05:00  INFO 4236 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:12:19.967+05:00  INFO 4236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:12:20.070+05:00  INFO 4236 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:12:20.147+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:12:20.193+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:12:20.541+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.548+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.555+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.562+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.572+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.572+05:00  INFO 4236 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:12:20.597+05:00  INFO 4236 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:12:20.605+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.606+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:12:20.611+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.613+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.729+05:00  INFO 4236 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:12:20.730+05:00  INFO 4236 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 50ms
2024-03-17T22:12:20.736+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.738+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.766+05:00  INFO 4236 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:12:20.769+05:00  INFO 4236 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-17T22:12:20.771+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.774+05:00  INFO 4236 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:12:20.777+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:12:20.779+05:00  INFO 4236 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:12:20.928+05:00  INFO 4236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:12:21.054+05:00  INFO 4236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:12:21.059+05:00  INFO 4236 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:12:21.356+05:00  INFO 4236 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:12:21.593+05:00  INFO 4236 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:12:22.082+05:00  INFO 4236 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:12:23.145+05:00  INFO 4236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:12:23.191+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:12:23.192+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:12:23.193+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:12:23.195+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:12:23.196+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:12:23.198+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:12:23.200+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:12:23.201+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:12:23.202+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:12:23.203+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:12:23.204+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:12:23.205+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:12:23.206+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:12:23.206+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:12:23.207+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:12:23.207+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:12:23.219+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:12:23.224+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:12:23.226+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:12:23.228+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:12:23.229+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:12:23.230+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:12:23.232+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:12:23.234+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:12:23.235+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:12:23.236+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:12:23.238+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:12:23.242+05:00  INFO 4236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:12:25.189+05:00  INFO 4236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:12:25.261+05:00  INFO 4236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6979e9b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@771deee6, org.springframework.security.web.context.SecurityContextHolderFilter@71d2bc34, org.springframework.security.web.header.HeaderWriterFilter@6a06b374, org.springframework.security.web.authentication.logout.LogoutFilter@2aa176de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@414d5660, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e48b9ed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@345effd7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dc37d4f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20d1737, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6dbe6891, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b9750f0, org.springframework.security.web.access.ExceptionTranslationFilter@bd8f424, org.springframework.security.web.access.intercept.AuthorizationFilter@31b11287]
2024-03-17T22:12:26.005+05:00  INFO 4236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:12:26.024+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : Started Application in 10.854 seconds (process running for 12.214)
2024-03-17T22:12:34.566+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:12:34.566+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:12:34.568+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:12:41.654+05:00 DEBUG 4236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:12:51.006+05:00 DEBUG 4236 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:13:03.168+05:00 DEBUG 4236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:13:55.583+05:00  INFO 4236 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:13:55.585+05:00  INFO 4236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:13:55.589+05:00  INFO 4236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:13:59.147+05:00  INFO 17780 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17780 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:13:59.151+05:00  INFO 17780 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:14:01.095+05:00  INFO 17780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:14:01.266+05:00  INFO 17780 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 153 ms. Found 9 JPA repository interfaces.
2024-03-17T22:14:02.575+05:00  INFO 17780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:14:02.597+05:00  INFO 17780 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:14:02.597+05:00  INFO 17780 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:14:02.778+05:00  INFO 17780 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:14:02.779+05:00  INFO 17780 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3561 ms
2024-03-17T22:14:03.186+05:00  INFO 17780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:14:03.532+05:00  INFO 17780 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:14:03.535+05:00  INFO 17780 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:14:03.641+05:00  INFO 17780 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:14:03.717+05:00  INFO 17780 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:14:03.757+05:00  INFO 17780 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:14:04.046+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.051+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.058+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.064+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.072+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.074+05:00  INFO 17780 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:14:04.104+05:00  INFO 17780 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:14:04.113+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.114+05:00  INFO 17780 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:14:04.119+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.121+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.242+05:00  INFO 17780 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:14:04.243+05:00  INFO 17780 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 51ms
2024-03-17T22:14:04.249+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.251+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.286+05:00  INFO 17780 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:14:04.287+05:00  INFO 17780 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 34ms
2024-03-17T22:14:04.290+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.293+05:00  INFO 17780 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:14:04.298+05:00  INFO 17780 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:14:04.298+05:00  INFO 17780 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:14:04.441+05:00  INFO 17780 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:14:04.594+05:00  INFO 17780 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:14:04.598+05:00  INFO 17780 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:14:04.878+05:00  INFO 17780 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:14:05.114+05:00  INFO 17780 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:14:05.632+05:00  INFO 17780 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:14:06.958+05:00  INFO 17780 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:14:07.008+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:14:07.009+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:14:07.012+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:14:07.013+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:14:07.014+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:14:07.016+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:14:07.018+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:14:07.018+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:14:07.021+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:14:07.022+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:14:07.023+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:14:07.024+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:14:07.025+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:14:07.025+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:14:07.026+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:14:07.027+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:14:07.038+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:14:07.042+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:14:07.043+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:14:07.045+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:14:07.046+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:14:07.048+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:14:07.051+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:14:07.054+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:14:07.055+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:14:07.057+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:14:07.059+05:00 DEBUG 17780 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:14:07.063+05:00  INFO 17780 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:14:08.896+05:00  INFO 17780 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:14:08.979+05:00  INFO 17780 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56a69c47, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@333cedbd, org.springframework.security.web.context.SecurityContextHolderFilter@6a9861de, org.springframework.security.web.header.HeaderWriterFilter@4ba99bb7, org.springframework.security.web.authentication.logout.LogoutFilter@adc06b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42b6acc2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@414d5660, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@388b9799, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d86d1ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e668743, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@135ec43a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4225b4e2, org.springframework.security.web.access.ExceptionTranslationFilter@2aa176de, org.springframework.security.web.access.intercept.AuthorizationFilter@5a349644]
2024-03-17T22:14:09.785+05:00  INFO 17780 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:14:09.818+05:00  INFO 17780 --- [main] ru.otus.hw.Application                   : Started Application in 11.601 seconds (process running for 12.563)
2024-03-17T22:14:12.820+05:00  INFO 17780 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:14:12.821+05:00  INFO 17780 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:14:12.823+05:00  INFO 17780 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:14:13.913+05:00 DEBUG 17780 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:14:14.018+05:00 DEBUG 17780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:14:14.030+05:00 DEBUG 17780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:14:14.033+05:00 DEBUG 17780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:14:14.035+05:00 DEBUG 17780 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:17:52.029+05:00  INFO 17780 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:17:52.035+05:00  INFO 17780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:17:52.041+05:00  INFO 17780 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:17:55.307+05:00  INFO 15256 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15256 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:17:55.312+05:00  INFO 15256 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:17:56.936+05:00  INFO 15256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:17:57.102+05:00  INFO 15256 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 148 ms. Found 9 JPA repository interfaces.
2024-03-17T22:17:58.531+05:00  INFO 15256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:17:58.551+05:00  INFO 15256 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:17:58.552+05:00  INFO 15256 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:17:58.793+05:00  INFO 15256 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:17:58.794+05:00  INFO 15256 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3410 ms
2024-03-17T22:17:59.320+05:00  INFO 15256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:17:59.688+05:00  INFO 15256 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:17:59.691+05:00  INFO 15256 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:17:59.829+05:00  INFO 15256 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:17:59.924+05:00  INFO 15256 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:17:59.957+05:00  INFO 15256 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:18:00.280+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.287+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.296+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.303+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.313+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.313+05:00  INFO 15256 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:18:00.335+05:00  INFO 15256 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:18:00.343+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.344+05:00  INFO 15256 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:18:00.349+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.351+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.503+05:00  INFO 15256 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:18:00.504+05:00  INFO 15256 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 66ms
2024-03-17T22:18:00.513+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.515+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.557+05:00  INFO 15256 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:18:00.560+05:00  INFO 15256 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 42ms
2024-03-17T22:18:00.564+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.566+05:00  INFO 15256 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:18:00.570+05:00  INFO 15256 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:18:00.571+05:00  INFO 15256 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:18:00.707+05:00  INFO 15256 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:18:00.845+05:00  INFO 15256 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:18:00.849+05:00  INFO 15256 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:18:01.166+05:00  INFO 15256 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:18:01.465+05:00  INFO 15256 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:18:02.165+05:00  INFO 15256 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:18:03.749+05:00  INFO 15256 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:18:03.810+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:18:03.811+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:18:03.813+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:18:03.815+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:18:03.816+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:18:03.818+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:18:03.820+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:18:03.821+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:18:03.823+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:18:03.824+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:18:03.826+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:18:03.826+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:18:03.827+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:18:03.827+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:18:03.828+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:18:03.829+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:18:03.840+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:18:03.846+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:18:03.851+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:18:03.853+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:18:03.856+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:18:03.858+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:18:03.860+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:18:03.863+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:18:03.865+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:18:03.867+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:18:03.869+05:00 DEBUG 15256 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:18:03.874+05:00  INFO 15256 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:18:06.022+05:00  INFO 15256 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:18:06.125+05:00  INFO 15256 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6979e9b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@771deee6, org.springframework.security.web.context.SecurityContextHolderFilter@71d2bc34, org.springframework.security.web.header.HeaderWriterFilter@6a06b374, org.springframework.security.web.authentication.logout.LogoutFilter@2aa176de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@414d5660, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e48b9ed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@345effd7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dc37d4f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20d1737, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6dbe6891, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b9750f0, org.springframework.security.web.access.ExceptionTranslationFilter@bd8f424, org.springframework.security.web.access.intercept.AuthorizationFilter@31b11287]
2024-03-17T22:18:07.034+05:00  INFO 15256 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:18:07.058+05:00  INFO 15256 --- [main] ru.otus.hw.Application                   : Started Application in 12.564 seconds (process running for 13.365)
2024-03-17T22:18:10.927+05:00  INFO 15256 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:18:10.927+05:00  INFO 15256 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:18:10.929+05:00  INFO 15256 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:18:11.942+05:00 DEBUG 15256 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:18:12.067+05:00 DEBUG 15256 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:18:12.079+05:00 DEBUG 15256 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:18:12.083+05:00 DEBUG 15256 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:18:12.084+05:00 DEBUG 15256 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:18:52.702+05:00  INFO 15256 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:18:52.709+05:00  INFO 15256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:18:52.713+05:00  INFO 15256 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:18:56.067+05:00  INFO 17112 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17112 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:18:56.070+05:00  INFO 17112 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:18:57.750+05:00  INFO 17112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:18:57.906+05:00  INFO 17112 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 141 ms. Found 9 JPA repository interfaces.
2024-03-17T22:18:59.078+05:00  INFO 17112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:18:59.093+05:00  INFO 17112 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:18:59.093+05:00  INFO 17112 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:18:59.315+05:00  INFO 17112 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:18:59.316+05:00  INFO 17112 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3166 ms
2024-03-17T22:18:59.717+05:00  INFO 17112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:19:00.054+05:00  INFO 17112 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:19:00.058+05:00  INFO 17112 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:19:00.163+05:00  INFO 17112 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:19:00.229+05:00  INFO 17112 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:19:00.260+05:00  INFO 17112 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:19:00.554+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.561+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.571+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.577+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.589+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.591+05:00  INFO 17112 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:19:00.618+05:00  INFO 17112 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:19:00.626+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.627+05:00  INFO 17112 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:19:00.631+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.633+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.757+05:00  INFO 17112 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:19:00.758+05:00  INFO 17112 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 55ms
2024-03-17T22:19:00.766+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.768+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.802+05:00  INFO 17112 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:19:00.805+05:00  INFO 17112 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 34ms
2024-03-17T22:19:00.808+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.810+05:00  INFO 17112 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:19:00.815+05:00  INFO 17112 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:19:00.816+05:00  INFO 17112 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:19:00.952+05:00  INFO 17112 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:19:01.096+05:00  INFO 17112 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:19:01.099+05:00  INFO 17112 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:19:01.339+05:00  INFO 17112 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:19:01.556+05:00  INFO 17112 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:19:02.040+05:00  INFO 17112 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:19:03.218+05:00  INFO 17112 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:19:03.263+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:19:03.264+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:19:03.266+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:19:03.268+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:19:03.269+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:19:03.270+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:19:03.272+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:19:03.274+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:19:03.275+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:19:03.276+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:19:03.277+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:19:03.278+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:19:03.279+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:19:03.280+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:19:03.280+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:19:03.281+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:19:03.293+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:19:03.298+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:19:03.300+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:19:03.301+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:19:03.303+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:19:03.305+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:19:03.307+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:19:03.309+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:19:03.311+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:19:03.313+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:19:03.314+05:00 DEBUG 17112 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:19:03.318+05:00  INFO 17112 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:19:05.070+05:00  INFO 17112 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:19:05.149+05:00  INFO 17112 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a819769, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6479b4cb, org.springframework.security.web.context.SecurityContextHolderFilter@2aa176de, org.springframework.security.web.header.HeaderWriterFilter@1d0695da, org.springframework.security.web.authentication.logout.LogoutFilter@47b5c247, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@71acf065, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e668743, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@135ec43a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ba99bb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6deb2b19, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5a349644, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69fc5803, org.springframework.security.web.access.ExceptionTranslationFilter@6b0aa757, org.springframework.security.web.access.intercept.AuthorizationFilter@34fe89a5]
2024-03-17T22:19:05.835+05:00  INFO 17112 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:19:05.857+05:00  INFO 17112 --- [main] ru.otus.hw.Application                   : Started Application in 10.632 seconds (process running for 11.432)
2024-03-17T22:19:09.571+05:00  INFO 17112 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:19:09.572+05:00  INFO 17112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:19:09.574+05:00  INFO 17112 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:19:10.675+05:00 DEBUG 17112 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:19:10.828+05:00 DEBUG 17112 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:19:10.841+05:00 DEBUG 17112 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:19:10.844+05:00 DEBUG 17112 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:19:10.846+05:00 DEBUG 17112 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:20:27.365+05:00  INFO 17112 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:20:27.370+05:00  INFO 17112 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:20:27.374+05:00  INFO 17112 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:20:30.969+05:00  INFO 3412 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3412 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:20:30.974+05:00  INFO 3412 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:20:32.604+05:00  INFO 3412 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:20:32.792+05:00  INFO 3412 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 172 ms. Found 9 JPA repository interfaces.
2024-03-17T22:20:34.029+05:00  INFO 3412 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:20:34.045+05:00  INFO 3412 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:20:34.046+05:00  INFO 3412 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:20:34.265+05:00  INFO 3412 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:20:34.265+05:00  INFO 3412 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3218 ms
2024-03-17T22:20:34.695+05:00  INFO 3412 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:20:35.147+05:00  INFO 3412 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:20:35.152+05:00  INFO 3412 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:20:35.305+05:00  INFO 3412 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:20:35.405+05:00  INFO 3412 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:20:35.440+05:00  INFO 3412 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:20:35.744+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.750+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.757+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.763+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.771+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.772+05:00  INFO 3412 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:20:35.794+05:00  INFO 3412 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:20:35.800+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.802+05:00  INFO 3412 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:20:35.805+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.807+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.954+05:00  INFO 3412 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:20:35.956+05:00  INFO 3412 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 78ms
2024-03-17T22:20:35.965+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.970+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:35.998+05:00  INFO 3412 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:20:36.000+05:00  INFO 3412 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-17T22:20:36.003+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:36.005+05:00  INFO 3412 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:20:36.009+05:00  INFO 3412 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:20:36.009+05:00  INFO 3412 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:20:36.139+05:00  INFO 3412 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:20:36.294+05:00  INFO 3412 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:20:36.299+05:00  INFO 3412 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:20:36.544+05:00  INFO 3412 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:20:36.777+05:00  INFO 3412 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:20:37.394+05:00  INFO 3412 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:20:38.746+05:00  INFO 3412 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:20:38.805+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:20:38.807+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:20:38.808+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:20:38.810+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:20:38.811+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:20:38.812+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:20:38.815+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:20:38.816+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:20:38.818+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:20:38.819+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:20:38.821+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:20:38.821+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:20:38.822+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:20:38.822+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:20:38.823+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:20:38.824+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:20:38.840+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:20:38.845+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:20:38.847+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:20:38.849+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:20:38.851+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:20:38.852+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:20:38.854+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:20:38.856+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:20:38.858+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:20:38.860+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:20:38.861+05:00 DEBUG 3412 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:20:38.865+05:00  INFO 3412 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:20:40.680+05:00  INFO 3412 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:20:40.760+05:00  INFO 3412 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fb84ef7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4563d421, org.springframework.security.web.context.SecurityContextHolderFilter@35b8b69f, org.springframework.security.web.header.HeaderWriterFilter@51b1732d, org.springframework.security.web.authentication.logout.LogoutFilter@5392c0a7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56a69c47, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6979e9b8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1465914, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b67c637, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f77d839, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@20834c45, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a7deba5, org.springframework.security.web.access.ExceptionTranslationFilter@6d86d1ad, org.springframework.security.web.access.intercept.AuthorizationFilter@7f50b08a]
2024-03-17T22:20:41.516+05:00  INFO 3412 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:20:41.537+05:00  INFO 3412 --- [main] ru.otus.hw.Application                   : Started Application in 11.397 seconds (process running for 12.205)
2024-03-17T22:20:45.024+05:00  INFO 3412 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:20:45.025+05:00  INFO 3412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:20:45.029+05:00  INFO 3412 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T22:20:46.205+05:00 DEBUG 3412 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:20:46.309+05:00 DEBUG 3412 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:20:46.319+05:00 DEBUG 3412 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:20:46.322+05:00 DEBUG 3412 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:20:46.324+05:00 DEBUG 3412 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:21:56.135+05:00  INFO 3412 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:21:56.140+05:00  INFO 3412 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:21:56.149+05:00  INFO 3412 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:22:04.760+05:00  INFO 1128 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 1128 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:22:04.765+05:00  INFO 1128 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:22:06.777+05:00  INFO 1128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:22:06.941+05:00  INFO 1128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 9 JPA repository interfaces.
2024-03-17T22:22:08.266+05:00  INFO 1128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:22:08.290+05:00  INFO 1128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:22:08.291+05:00  INFO 1128 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:22:08.516+05:00  INFO 1128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:22:08.516+05:00  INFO 1128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3657 ms
2024-03-17T22:22:08.980+05:00  INFO 1128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:22:09.362+05:00  INFO 1128 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:22:09.366+05:00  INFO 1128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:22:09.481+05:00  INFO 1128 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:22:09.556+05:00  INFO 1128 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:22:09.594+05:00  INFO 1128 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:22:09.902+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.907+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.916+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.924+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.933+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.934+05:00  INFO 1128 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:22:09.960+05:00  INFO 1128 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:22:09.969+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.971+05:00  INFO 1128 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:22:09.976+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:09.978+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:10.120+05:00  INFO 1128 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:22:10.121+05:00  INFO 1128 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 66ms
2024-03-17T22:22:10.132+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:10.135+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:10.175+05:00  INFO 1128 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:22:10.178+05:00  INFO 1128 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 40ms
2024-03-17T22:22:10.181+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:10.183+05:00  INFO 1128 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:22:10.187+05:00  INFO 1128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:22:10.188+05:00  INFO 1128 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:22:10.356+05:00  INFO 1128 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:22:10.492+05:00  INFO 1128 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:22:10.496+05:00  INFO 1128 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:22:10.782+05:00  INFO 1128 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:22:11.038+05:00  INFO 1128 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:22:11.613+05:00  INFO 1128 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:22:12.950+05:00  INFO 1128 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:22:13.030+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:22:13.032+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:22:13.034+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:22:13.037+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:22:13.039+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:22:13.041+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:22:13.044+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:22:13.045+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:22:13.047+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:22:13.048+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:22:13.050+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:22:13.050+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:22:13.053+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:22:13.053+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:22:13.054+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:22:13.055+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:22:13.071+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:22:13.077+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:22:13.080+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:22:13.082+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:22:13.085+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:22:13.087+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:22:13.090+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:22:13.093+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:22:13.095+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:22:13.097+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:22:13.098+05:00 DEBUG 1128 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:22:13.106+05:00  INFO 1128 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:22:15.261+05:00  INFO 1128 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:22:15.378+05:00  INFO 1128 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dbe6891, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30be77cd, org.springframework.security.web.context.SecurityContextHolderFilter@6a06b374, org.springframework.security.web.header.HeaderWriterFilter@3c3a8246, org.springframework.security.web.authentication.logout.LogoutFilter@1d0695da, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6fca831e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f31385e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@71c9c7f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e739968, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f290f46, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7aa4ef24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6979e9b8, org.springframework.security.web.access.ExceptionTranslationFilter@5ad67d82, org.springframework.security.web.access.intercept.AuthorizationFilter@35b8b69f]
2024-03-17T22:22:16.297+05:00  INFO 1128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:22:16.326+05:00  INFO 1128 --- [main] ru.otus.hw.Application                   : Started Application in 12.696 seconds (process running for 18.495)
2024-03-17T22:22:19.879+05:00  INFO 1128 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:22:19.880+05:00  INFO 1128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:22:19.882+05:00  INFO 1128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:22:21.050+05:00 DEBUG 1128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:22:21.228+05:00 DEBUG 1128 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:22:21.247+05:00 DEBUG 1128 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:22:21.249+05:00 DEBUG 1128 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:22:21.251+05:00 DEBUG 1128 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:05.481+05:00 DEBUG 1128 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-17T22:23:05.483+05:00 DEBUG 1128 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:05.755+05:00 DEBUG 1128 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:23:05.757+05:00 DEBUG 1128 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:05.759+05:00 DEBUG 1128 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:05.761+05:00 DEBUG 1128 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:09.098+05:00 DEBUG 1128 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:23:09.115+05:00 DEBUG 1128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:23:09.116+05:00 DEBUG 1128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:09.118+05:00 DEBUG 1128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:23:09.120+05:00 DEBUG 1128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:29:22.244+05:00  INFO 1128 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:29:22.248+05:00  INFO 1128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:29:22.254+05:00  INFO 1128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:29:25.825+05:00  INFO 18212 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 18212 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:29:25.829+05:00  INFO 18212 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:29:27.548+05:00  INFO 18212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:29:27.690+05:00  INFO 18212 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 125 ms. Found 9 JPA repository interfaces.
2024-03-17T22:29:28.875+05:00  INFO 18212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:29:28.893+05:00  INFO 18212 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:29:28.894+05:00  INFO 18212 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:29:29.104+05:00  INFO 18212 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:29:29.105+05:00  INFO 18212 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3202 ms
2024-03-17T22:29:29.517+05:00  INFO 18212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:29:29.850+05:00  INFO 18212 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:29:29.854+05:00  INFO 18212 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:29:29.957+05:00  INFO 18212 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:29:30.026+05:00  INFO 18212 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:29:30.056+05:00  INFO 18212 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:29:30.375+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.380+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.388+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.394+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.402+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.403+05:00  INFO 18212 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:29:30.424+05:00  INFO 18212 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:29:30.431+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.433+05:00  INFO 18212 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:29:30.437+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.439+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.549+05:00  INFO 18212 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:29:30.550+05:00  INFO 18212 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 46ms
2024-03-17T22:29:30.556+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.557+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.580+05:00  INFO 18212 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:29:30.581+05:00  INFO 18212 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 23ms
2024-03-17T22:29:30.584+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.586+05:00  INFO 18212 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:29:30.591+05:00  INFO 18212 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:29:30.592+05:00  INFO 18212 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:29:30.750+05:00  INFO 18212 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:29:30.877+05:00  INFO 18212 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:29:30.882+05:00  INFO 18212 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:29:31.131+05:00  INFO 18212 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:29:31.357+05:00  INFO 18212 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:29:31.841+05:00  INFO 18212 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:29:33.146+05:00  INFO 18212 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:29:33.207+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:29:33.208+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:29:33.210+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:29:33.211+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:29:33.212+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:29:33.214+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:29:33.217+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:29:33.218+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:29:33.220+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:29:33.221+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:29:33.222+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:29:33.223+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:29:33.224+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:29:33.224+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:29:33.225+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:29:33.226+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:29:33.242+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:29:33.248+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:29:33.250+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:29:33.252+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:29:33.253+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:29:33.255+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:29:33.257+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:29:33.259+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:29:33.260+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:29:33.262+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:29:33.263+05:00 DEBUG 18212 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:29:33.267+05:00  INFO 18212 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:29:35.173+05:00  INFO 18212 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:29:35.259+05:00  INFO 18212 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@cfe7be3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c0d7878, org.springframework.security.web.context.SecurityContextHolderFilter@6b0aa757, org.springframework.security.web.header.HeaderWriterFilter@3d0f2154, org.springframework.security.web.authentication.logout.LogoutFilter@345effd7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a5b561b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6deb2b19, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5a349644, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d0695da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3208e15, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@34fe89a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42b6acc2, org.springframework.security.web.access.ExceptionTranslationFilter@3ea4dcc5, org.springframework.security.web.access.intercept.AuthorizationFilter@1621264e]
2024-03-17T22:29:36.033+05:00  INFO 18212 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:29:36.055+05:00  INFO 18212 --- [main] ru.otus.hw.Application                   : Started Application in 11.136 seconds (process running for 11.891)
2024-03-17T22:29:39.870+05:00  INFO 18212 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:29:39.870+05:00  INFO 18212 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:29:39.872+05:00  INFO 18212 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:29:41.384+05:00 DEBUG 18212 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:29:41.503+05:00 DEBUG 18212 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:29:41.515+05:00 DEBUG 18212 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:29:41.518+05:00 DEBUG 18212 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:29:41.519+05:00 DEBUG 18212 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:32:34.353+05:00  INFO 18212 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:32:34.360+05:00  INFO 18212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:32:34.365+05:00  INFO 18212 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:32:37.929+05:00  INFO 18104 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 18104 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:32:37.933+05:00  INFO 18104 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:32:39.656+05:00  INFO 18104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:32:39.798+05:00  INFO 18104 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 9 JPA repository interfaces.
2024-03-17T22:32:40.960+05:00  INFO 18104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:32:40.976+05:00  INFO 18104 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:32:40.976+05:00  INFO 18104 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:32:41.145+05:00  INFO 18104 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:32:41.146+05:00  INFO 18104 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3141 ms
2024-03-17T22:32:41.598+05:00  INFO 18104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:32:41.963+05:00  INFO 18104 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:32:41.967+05:00  INFO 18104 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:32:42.090+05:00  INFO 18104 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:32:42.165+05:00  INFO 18104 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:32:42.203+05:00  INFO 18104 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:32:42.514+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.520+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.528+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.534+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.543+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.544+05:00  INFO 18104 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:32:42.567+05:00  INFO 18104 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:32:42.573+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.575+05:00  INFO 18104 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:32:42.578+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.580+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.698+05:00  INFO 18104 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:32:42.699+05:00  INFO 18104 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 50ms
2024-03-17T22:32:42.705+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.707+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.735+05:00  INFO 18104 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:32:42.738+05:00  INFO 18104 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-17T22:32:42.742+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.744+05:00  INFO 18104 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:32:42.748+05:00  INFO 18104 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:32:42.748+05:00  INFO 18104 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:32:42.890+05:00  INFO 18104 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:32:43.011+05:00  INFO 18104 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:32:43.014+05:00  INFO 18104 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:32:43.249+05:00  INFO 18104 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:32:43.470+05:00  INFO 18104 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:32:43.934+05:00  INFO 18104 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:32:45.227+05:00  INFO 18104 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:32:45.284+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:32:45.286+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:32:45.288+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:32:45.289+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:32:45.291+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:32:45.292+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:32:45.294+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:32:45.296+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:32:45.297+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:32:45.298+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:32:45.300+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:32:45.300+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:32:45.302+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:32:45.302+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:32:45.303+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:32:45.304+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:32:45.317+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:32:45.323+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:32:45.324+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:32:45.326+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:32:45.328+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:32:45.329+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:32:45.330+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:32:45.333+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:32:45.335+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:32:45.336+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:32:45.338+05:00 DEBUG 18104 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:32:45.342+05:00  INFO 18104 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:32:47.354+05:00  INFO 18104 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:32:47.441+05:00  INFO 18104 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4225b4e2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@20834c45, org.springframework.security.web.context.SecurityContextHolderFilter@780e6b63, org.springframework.security.web.header.HeaderWriterFilter@6a9861de, org.springframework.security.web.authentication.logout.LogoutFilter@69a8191e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6479b4cb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@46ebd87a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74061ced, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65b639e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b67c637, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@56a69c47, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10d56aab, org.springframework.security.web.access.ExceptionTranslationFilter@4cf99283, org.springframework.security.web.access.intercept.AuthorizationFilter@1a819769]
2024-03-17T22:32:48.231+05:00  INFO 18104 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:32:48.255+05:00  INFO 18104 --- [main] ru.otus.hw.Application                   : Started Application in 11.166 seconds (process running for 11.935)
2024-03-17T22:32:51.786+05:00  INFO 18104 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:32:51.786+05:00  INFO 18104 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:32:51.789+05:00  INFO 18104 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T22:32:52.940+05:00 DEBUG 18104 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:32:53.108+05:00 DEBUG 18104 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:32:53.123+05:00 DEBUG 18104 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:32:53.126+05:00 DEBUG 18104 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:32:53.128+05:00 DEBUG 18104 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:36:01.262+05:00  INFO 18104 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:36:01.267+05:00  INFO 18104 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:36:01.272+05:00  INFO 18104 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:36:04.318+05:00  INFO 17676 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17676 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:36:04.323+05:00  INFO 17676 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:36:05.969+05:00  INFO 17676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:36:06.094+05:00  INFO 17676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 112 ms. Found 9 JPA repository interfaces.
2024-03-17T22:36:07.138+05:00  INFO 17676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:36:07.153+05:00  INFO 17676 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:36:07.153+05:00  INFO 17676 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:36:07.306+05:00  INFO 17676 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:36:07.306+05:00  INFO 17676 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2914 ms
2024-03-17T22:36:07.708+05:00  INFO 17676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:36:08.025+05:00  INFO 17676 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:36:08.027+05:00  INFO 17676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:36:08.129+05:00  INFO 17676 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:36:08.187+05:00  INFO 17676 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:36:08.212+05:00  INFO 17676 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:36:08.477+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.482+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.489+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.494+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.503+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.504+05:00  INFO 17676 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:36:08.527+05:00  INFO 17676 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:36:08.533+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.534+05:00  INFO 17676 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:36:08.537+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.538+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.648+05:00  INFO 17676 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:36:08.649+05:00  INFO 17676 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 47ms
2024-03-17T22:36:08.655+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.657+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.675+05:00  INFO 17676 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:36:08.677+05:00  INFO 17676 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-17T22:36:08.679+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.681+05:00  INFO 17676 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:36:08.684+05:00  INFO 17676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:36:08.685+05:00  INFO 17676 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:36:08.831+05:00  INFO 17676 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:36:08.925+05:00  INFO 17676 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:36:08.930+05:00  INFO 17676 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:36:09.178+05:00  INFO 17676 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:36:09.383+05:00  INFO 17676 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:36:09.880+05:00  INFO 17676 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:36:10.933+05:00  INFO 17676 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:36:10.973+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:36:10.975+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:36:10.976+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:36:10.978+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:36:10.979+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:36:10.981+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:36:10.983+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:36:10.983+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:36:10.985+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:36:10.986+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:36:10.987+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:36:10.987+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:36:10.988+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:36:10.988+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:36:10.989+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:36:10.990+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:36:10.998+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:36:11.002+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:36:11.004+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:36:11.006+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:36:11.007+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:36:11.009+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:36:11.011+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:36:11.014+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:36:11.015+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:36:11.016+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:36:11.018+05:00 DEBUG 17676 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:36:11.021+05:00  INFO 17676 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:36:12.723+05:00  INFO 17676 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:36:12.792+05:00  INFO 17676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4164ab12, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37bafef8, org.springframework.security.web.context.SecurityContextHolderFilter@6bc45472, org.springframework.security.web.header.HeaderWriterFilter@198c97d0, org.springframework.security.web.authentication.logout.LogoutFilter@41a3656f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13056efe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5565d718, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a6b6f4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c27ed2f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7280785f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7dc16d33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11636d43, org.springframework.security.web.access.ExceptionTranslationFilter@16cc5e51, org.springframework.security.web.access.intercept.AuthorizationFilter@7785430c]
2024-03-17T22:36:13.428+05:00  INFO 17676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:36:13.447+05:00  INFO 17676 --- [main] ru.otus.hw.Application                   : Started Application in 9.804 seconds (process running for 10.402)
2024-03-17T22:36:17.030+05:00  INFO 17676 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:36:17.031+05:00  INFO 17676 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:36:17.032+05:00  INFO 17676 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T22:36:17.894+05:00 DEBUG 17676 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:36:18.009+05:00 DEBUG 17676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:36:18.017+05:00 DEBUG 17676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:36:18.019+05:00 DEBUG 17676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:36:18.021+05:00 DEBUG 17676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:42:16.588+05:00  INFO 17676 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:42:16.592+05:00  INFO 17676 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:42:16.598+05:00  INFO 17676 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:42:19.583+05:00  INFO 15680 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15680 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:42:19.587+05:00  INFO 15680 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:42:21.233+05:00  INFO 15680 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:42:21.457+05:00  INFO 15680 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 187 ms. Found 9 JPA repository interfaces.
2024-03-17T22:42:22.707+05:00  INFO 15680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:42:22.724+05:00  INFO 15680 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:42:22.725+05:00  INFO 15680 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:42:22.925+05:00  INFO 15680 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:42:22.926+05:00  INFO 15680 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3268 ms
2024-03-17T22:42:23.329+05:00  INFO 15680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:42:23.683+05:00  INFO 15680 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:42:23.685+05:00  INFO 15680 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:42:23.798+05:00  INFO 15680 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:42:23.871+05:00  INFO 15680 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:42:23.912+05:00  INFO 15680 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:42:24.222+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.228+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.237+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.243+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.252+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.252+05:00  INFO 15680 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:42:24.279+05:00  INFO 15680 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:42:24.287+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.288+05:00  INFO 15680 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:42:24.292+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.294+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.421+05:00  INFO 15680 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:42:24.422+05:00  INFO 15680 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 55ms
2024-03-17T22:42:24.430+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.432+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.459+05:00  INFO 15680 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:42:24.461+05:00  INFO 15680 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 26ms
2024-03-17T22:42:24.463+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.465+05:00  INFO 15680 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:42:24.470+05:00  INFO 15680 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:42:24.471+05:00  INFO 15680 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:42:24.609+05:00  INFO 15680 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:42:24.757+05:00  INFO 15680 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:42:24.761+05:00  INFO 15680 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:42:25.020+05:00  INFO 15680 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:42:25.280+05:00  INFO 15680 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:42:25.808+05:00  INFO 15680 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:42:27.179+05:00  INFO 15680 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:42:27.228+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:42:27.230+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:42:27.232+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:42:27.234+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:42:27.235+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:42:27.237+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:42:27.240+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:42:27.241+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:42:27.243+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:42:27.244+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:42:27.246+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:42:27.247+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:42:27.248+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:42:27.249+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:42:27.250+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:42:27.250+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:42:27.262+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:42:27.267+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:42:27.269+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:42:27.271+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:42:27.273+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:42:27.275+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:42:27.277+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:42:27.280+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:42:27.282+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:42:27.283+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:42:27.285+05:00 DEBUG 15680 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:42:27.289+05:00  INFO 15680 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:42:29.156+05:00  INFO 15680 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:42:29.238+05:00  INFO 15680 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7d2ccd7f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ae49d52, org.springframework.security.web.context.SecurityContextHolderFilter@12e8c5c4, org.springframework.security.web.header.HeaderWriterFilter@452e0a94, org.springframework.security.web.authentication.logout.LogoutFilter@276ac94c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41a3656f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@16cc5e51, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@40ef1198, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d2b49b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55c901b2, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@79cfc008, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72161dbb, org.springframework.security.web.access.ExceptionTranslationFilter@295e9aef, org.springframework.security.web.access.intercept.AuthorizationFilter@1b6daf20]
2024-03-17T22:42:30.043+05:00  INFO 15680 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:42:30.066+05:00  INFO 15680 --- [main] ru.otus.hw.Application                   : Started Application in 11.199 seconds (process running for 11.753)
2024-03-17T22:42:37.207+05:00  INFO 15680 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:42:37.208+05:00  INFO 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:42:37.210+05:00  INFO 15680 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:42:37.933+05:00 DEBUG 15680 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:42:38.001+05:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:42:38.008+05:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:42:38.010+05:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:42:38.010+05:00 DEBUG 15680 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:44:43.930+05:00  INFO 15680 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:44:43.938+05:00  INFO 15680 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:44:43.943+05:00  INFO 15680 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:44:47.020+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17912 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:44:47.025+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:44:48.612+05:00  INFO 17912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:44:48.749+05:00  INFO 17912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 9 JPA repository interfaces.
2024-03-17T22:44:49.770+05:00  INFO 17912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:44:49.786+05:00  INFO 17912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:44:49.787+05:00  INFO 17912 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:44:49.944+05:00  INFO 17912 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:44:49.945+05:00  INFO 17912 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2855 ms
2024-03-17T22:44:50.364+05:00  INFO 17912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:44:55.134+05:00  INFO 17912 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:44:55.159+05:00  INFO 17912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:44:55.659+05:00  INFO 17912 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:44:55.724+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:44:55.757+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:44:56.034+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.040+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.049+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.056+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.066+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.067+05:00  INFO 17912 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:44:56.091+05:00  INFO 17912 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:44:56.098+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.100+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:44:56.104+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.106+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.244+05:00  INFO 17912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:44:56.246+05:00  INFO 17912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 64ms
2024-03-17T22:44:56.252+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.255+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.279+05:00  INFO 17912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:44:56.282+05:00  INFO 17912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 24ms
2024-03-17T22:44:56.286+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.288+05:00  INFO 17912 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:44:56.292+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:44:56.293+05:00  INFO 17912 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:44:56.434+05:00  INFO 17912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:44:56.556+05:00  INFO 17912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:44:56.559+05:00  INFO 17912 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:44:56.804+05:00  INFO 17912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:44:57.024+05:00  INFO 17912 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:44:57.510+05:00  INFO 17912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:44:58.610+05:00  INFO 17912 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:44:58.656+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:44:58.657+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:44:58.659+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:44:58.660+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:44:58.661+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:44:58.662+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:44:58.664+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:44:58.665+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:44:58.666+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:44:58.667+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:44:58.668+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:44:58.668+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:44:58.668+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:44:58.669+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:44:58.669+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:44:58.670+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:44:58.677+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:44:58.682+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:44:58.684+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:44:58.686+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:44:58.688+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:44:58.689+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:44:58.690+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:44:58.693+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:44:58.695+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:44:58.698+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:44:58.699+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:44:58.703+05:00  INFO 17912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:45:00.655+05:00  INFO 17912 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:45:00.729+05:00  INFO 17912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75bbeb89, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@197bf5ef, org.springframework.security.web.context.SecurityContextHolderFilter@5ccc07ae, org.springframework.security.web.header.HeaderWriterFilter@4832813d, org.springframework.security.web.authentication.logout.LogoutFilter@7785430c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6645c1f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@27bfa57f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@681ba763, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a434cdd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d88d9d7, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@168f447d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19cc697c, org.springframework.security.web.access.ExceptionTranslationFilter@63f6811e, org.springframework.security.web.access.intercept.AuthorizationFilter@28b36817]
2024-03-17T22:45:01.492+05:00  INFO 17912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:45:01.518+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : Started Application in 15.184 seconds (process running for 15.744)
2024-03-17T22:45:05.223+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:45:05.223+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:45:05.225+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:45:17.911+05:00  INFO 17912 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:45:17.915+05:00  INFO 17912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:45:17.923+05:00  INFO 17912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:45:20.914+05:00  INFO 14532 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 14532 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:45:20.918+05:00  INFO 14532 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:45:22.835+05:00  INFO 14532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:45:22.968+05:00  INFO 14532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 115 ms. Found 9 JPA repository interfaces.
2024-03-17T22:45:24.073+05:00  INFO 14532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:45:24.089+05:00  INFO 14532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:45:24.090+05:00  INFO 14532 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:45:24.256+05:00  INFO 14532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:45:24.257+05:00  INFO 14532 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3247 ms
2024-03-17T22:45:24.671+05:00  INFO 14532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:45:25.014+05:00  INFO 14532 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:45:25.017+05:00  INFO 14532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:45:25.132+05:00  INFO 14532 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:45:25.203+05:00  INFO 14532 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:45:25.248+05:00  INFO 14532 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:45:25.541+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.548+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.557+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.563+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.572+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.572+05:00  INFO 14532 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:45:25.595+05:00  INFO 14532 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:45:25.602+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.603+05:00  INFO 14532 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:45:25.607+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.608+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.727+05:00  INFO 14532 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:45:25.728+05:00  INFO 14532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-17T22:45:25.735+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.736+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.760+05:00  INFO 14532 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:45:25.762+05:00  INFO 14532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 24ms
2024-03-17T22:45:25.765+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.767+05:00  INFO 14532 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:45:25.770+05:00  INFO 14532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:45:25.771+05:00  INFO 14532 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:45:25.919+05:00  INFO 14532 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:45:26.042+05:00  INFO 14532 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:45:26.047+05:00  INFO 14532 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:45:26.303+05:00  INFO 14532 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:45:26.529+05:00  INFO 14532 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:45:27.003+05:00  INFO 14532 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:45:27.963+05:00  INFO 14532 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:45:28.000+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:45:28.001+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:45:28.002+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:45:28.004+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:45:28.005+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:45:28.007+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:45:28.008+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:45:28.009+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:45:28.010+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:45:28.011+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:45:28.012+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:45:28.012+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:45:28.013+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:45:28.013+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:45:28.014+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:45:28.015+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:45:28.024+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:45:28.029+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:45:28.030+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:45:28.032+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:45:28.033+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:45:28.034+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:45:28.035+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:45:28.038+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:45:28.039+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:45:28.040+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:45:28.042+05:00 DEBUG 14532 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:45:28.045+05:00  INFO 14532 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:45:29.664+05:00  INFO 14532 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:45:29.736+05:00  INFO 14532 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1934a7c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c9d2ed7, org.springframework.security.web.context.SecurityContextHolderFilter@1c7da28, org.springframework.security.web.header.HeaderWriterFilter@54c15e, org.springframework.security.web.authentication.logout.LogoutFilter@2a6b6f4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19cc697c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3470c771, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@621c7b91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39b50027, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5086e144, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3a7be6e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@223e51e4, org.springframework.security.web.access.ExceptionTranslationFilter@7ddd5715, org.springframework.security.web.access.intercept.AuthorizationFilter@681ba763]
2024-03-17T22:45:30.353+05:00  INFO 14532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:45:30.374+05:00  INFO 14532 --- [main] ru.otus.hw.Application                   : Started Application in 10.147 seconds (process running for 10.719)
2024-03-17T22:45:42.623+05:00  INFO 14532 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:45:42.624+05:00  INFO 14532 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:45:42.626+05:00  INFO 14532 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:45:43.550+05:00 DEBUG 14532 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:45:43.667+05:00 DEBUG 14532 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:45:43.677+05:00 DEBUG 14532 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:45:43.680+05:00 DEBUG 14532 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:45:43.681+05:00 DEBUG 14532 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:46:51.967+05:00  INFO 14532 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:46:51.976+05:00  INFO 14532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:46:51.979+05:00  INFO 14532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:46:55.118+05:00  INFO 4376 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4376 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:46:55.121+05:00  INFO 4376 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:46:57.042+05:00  INFO 4376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:46:57.236+05:00  INFO 4376 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 179 ms. Found 9 JPA repository interfaces.
2024-03-17T22:46:58.358+05:00  INFO 4376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:46:58.373+05:00  INFO 4376 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:46:58.373+05:00  INFO 4376 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:46:58.546+05:00  INFO 4376 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:46:58.547+05:00  INFO 4376 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3370 ms
2024-03-17T22:46:58.916+05:00  INFO 4376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:46:59.303+05:00  INFO 4376 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:46:59.307+05:00  INFO 4376 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:46:59.453+05:00  INFO 4376 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:46:59.528+05:00  INFO 4376 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:46:59.563+05:00  INFO 4376 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:46:59.842+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.847+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.855+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.861+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.869+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.869+05:00  INFO 4376 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:46:59.892+05:00  INFO 4376 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:46:59.897+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.899+05:00  INFO 4376 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:46:59.903+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:46:59.905+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:47:00.016+05:00  INFO 4376 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:47:00.017+05:00  INFO 4376 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 55ms
2024-03-17T22:47:00.024+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:47:00.025+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:47:00.043+05:00  INFO 4376 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:47:00.045+05:00  INFO 4376 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-17T22:47:00.047+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:47:00.049+05:00  INFO 4376 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:47:00.053+05:00  INFO 4376 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:47:00.054+05:00  INFO 4376 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:47:00.202+05:00  INFO 4376 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:47:00.310+05:00  INFO 4376 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:47:00.315+05:00  INFO 4376 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:47:00.537+05:00  INFO 4376 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:47:00.761+05:00  INFO 4376 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:47:01.218+05:00  INFO 4376 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:47:02.300+05:00  INFO 4376 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:47:02.343+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:47:02.344+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:47:02.345+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:47:02.347+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:47:02.349+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:47:02.350+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:47:02.352+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:47:02.353+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:47:02.354+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:47:02.355+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:47:02.357+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:47:02.357+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:47:02.359+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:47:02.359+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:47:02.359+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:47:02.359+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:47:02.368+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:47:02.373+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:47:02.375+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:47:02.377+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:47:02.379+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:47:02.380+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:47:02.382+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:47:02.384+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:47:02.386+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:47:02.387+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:47:02.389+05:00 DEBUG 4376 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:47:02.392+05:00  INFO 4376 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:47:04.060+05:00  INFO 4376 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:47:04.121+05:00  INFO 4376 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ea482b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3470c771, org.springframework.security.web.context.SecurityContextHolderFilter@2a12048d, org.springframework.security.web.header.HeaderWriterFilter@295e9aef, org.springframework.security.web.authentication.logout.LogoutFilter@4832813d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24c4370a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47858d7c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d2ccd7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12e8c5c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d6d88b1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@557fe039, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ae49d52, org.springframework.security.web.access.ExceptionTranslationFilter@38c840fb, org.springframework.security.web.access.intercept.AuthorizationFilter@39b50027]
2024-03-17T22:47:04.789+05:00  INFO 4376 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:47:04.809+05:00  INFO 4376 --- [main] ru.otus.hw.Application                   : Started Application in 10.389 seconds (process running for 10.941)
2024-03-17T22:47:08.929+05:00  INFO 4376 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:47:08.930+05:00  INFO 4376 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:47:08.934+05:00  INFO 4376 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-17T22:47:09.960+05:00 DEBUG 4376 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:47:10.089+05:00 DEBUG 4376 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:47:10.102+05:00 DEBUG 4376 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:47:10.104+05:00 DEBUG 4376 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:47:10.105+05:00 DEBUG 4376 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:48:11.302+05:00  INFO 4376 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:48:11.305+05:00  INFO 4376 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:48:11.309+05:00  INFO 4376 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:48:14.416+05:00  INFO 12184 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 12184 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:48:14.418+05:00  INFO 12184 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:48:16.042+05:00  INFO 12184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:48:16.183+05:00  INFO 12184 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 127 ms. Found 9 JPA repository interfaces.
2024-03-17T22:48:17.226+05:00  INFO 12184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:48:17.240+05:00  INFO 12184 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:48:17.241+05:00  INFO 12184 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:48:17.402+05:00  INFO 12184 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:48:17.403+05:00  INFO 12184 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2919 ms
2024-03-17T22:48:17.765+05:00  INFO 12184 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:48:18.098+05:00  INFO 12184 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:48:18.101+05:00  INFO 12184 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:48:18.214+05:00  INFO 12184 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:48:18.288+05:00  INFO 12184 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:48:18.325+05:00  INFO 12184 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:48:18.605+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.612+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.622+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.628+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.639+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.640+05:00  INFO 12184 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:48:18.659+05:00  INFO 12184 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:48:18.665+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.666+05:00  INFO 12184 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:48:18.670+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.671+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.772+05:00  INFO 12184 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:48:18.772+05:00  INFO 12184 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-17T22:48:18.779+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.781+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.800+05:00  INFO 12184 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:48:18.801+05:00  INFO 12184 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-17T22:48:18.803+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.804+05:00  INFO 12184 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:48:18.808+05:00  INFO 12184 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:48:18.808+05:00  INFO 12184 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:48:18.945+05:00  INFO 12184 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:48:19.052+05:00  INFO 12184 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:48:19.056+05:00  INFO 12184 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:48:19.262+05:00  INFO 12184 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:48:19.476+05:00  INFO 12184 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:48:19.933+05:00  INFO 12184 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:48:21.001+05:00  INFO 12184 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:48:21.041+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:48:21.042+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:48:21.043+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:48:21.045+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:48:21.046+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:48:21.047+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:48:21.049+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:48:21.050+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:48:21.051+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:48:21.052+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:48:21.053+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:48:21.053+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:48:21.054+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:48:21.054+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:48:21.055+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:48:21.055+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:48:21.063+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:48:21.067+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:48:21.069+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:48:21.071+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:48:21.072+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:48:21.074+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:48:21.075+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:48:21.077+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:48:21.078+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:48:21.079+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:48:21.081+05:00 DEBUG 12184 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:48:21.084+05:00  INFO 12184 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:48:22.753+05:00  INFO 12184 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:48:22.823+05:00  INFO 12184 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4756c8f3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cc9bde9, org.springframework.security.web.context.SecurityContextHolderFilter@70c3483b, org.springframework.security.web.header.HeaderWriterFilter@63f6811e, org.springframework.security.web.authentication.logout.LogoutFilter@f41db7f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22b00077, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4acae4c7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@75bbeb89, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ccc07ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27df4dcb, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1ef4179, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@197bf5ef, org.springframework.security.web.access.ExceptionTranslationFilter@4eba6e1f, org.springframework.security.web.access.intercept.AuthorizationFilter@15961527]
2024-03-17T22:48:23.469+05:00  INFO 12184 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:48:23.488+05:00  INFO 12184 --- [main] ru.otus.hw.Application                   : Started Application in 9.768 seconds (process running for 10.354)
2024-03-17T22:48:30.018+05:00  INFO 12184 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:48:30.019+05:00  INFO 12184 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:48:30.022+05:00  INFO 12184 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-17T22:48:30.994+05:00 DEBUG 12184 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:48:31.151+05:00 DEBUG 12184 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:48:31.159+05:00 DEBUG 12184 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:48:31.161+05:00 DEBUG 12184 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:48:31.163+05:00 DEBUG 12184 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:52:32.744+05:00  INFO 12184 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:52:32.748+05:00  INFO 12184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:52:32.750+05:00  INFO 12184 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:52:40.860+05:00  INFO 15996 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15996 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:52:40.863+05:00  INFO 15996 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:52:42.667+05:00  INFO 15996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:52:42.797+05:00  INFO 15996 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 9 JPA repository interfaces.
2024-03-17T22:52:43.963+05:00  INFO 15996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:52:43.979+05:00  INFO 15996 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:52:43.980+05:00  INFO 15996 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:52:44.167+05:00  INFO 15996 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:52:44.168+05:00  INFO 15996 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3221 ms
2024-03-17T22:52:44.550+05:00  INFO 15996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:52:44.858+05:00  INFO 15996 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:52:44.862+05:00  INFO 15996 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:52:44.968+05:00  INFO 15996 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:52:45.037+05:00  INFO 15996 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:52:45.073+05:00  INFO 15996 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:52:45.427+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.435+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.446+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.453+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.464+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.465+05:00  INFO 15996 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:52:45.487+05:00  INFO 15996 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:52:45.497+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.498+05:00  INFO 15996 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:52:45.505+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.507+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.615+05:00  INFO 15996 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:52:45.616+05:00  INFO 15996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 57ms
2024-03-17T22:52:45.622+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.625+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.650+05:00  INFO 15996 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:52:45.651+05:00  INFO 15996 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 24ms
2024-03-17T22:52:45.654+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.655+05:00  INFO 15996 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:52:45.659+05:00  INFO 15996 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:52:45.661+05:00  INFO 15996 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:52:45.848+05:00  INFO 15996 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:52:45.971+05:00  INFO 15996 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:52:45.975+05:00  INFO 15996 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:52:46.220+05:00  INFO 15996 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:52:46.431+05:00  INFO 15996 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:52:46.927+05:00  INFO 15996 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:52:48.041+05:00  INFO 15996 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:52:48.079+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:52:48.080+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:52:48.081+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:52:48.083+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:52:48.085+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:52:48.086+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:52:48.088+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:52:48.089+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:52:48.090+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:52:48.091+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:52:48.092+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:52:48.092+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:52:48.093+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:52:48.093+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:52:48.094+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:52:48.095+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:52:48.104+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:52:48.108+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:52:48.110+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:52:48.112+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:52:48.113+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:52:48.115+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:52:48.116+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:52:48.119+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:52:48.120+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:52:48.122+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:52:48.123+05:00 DEBUG 15996 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:52:48.126+05:00  INFO 15996 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:52:49.967+05:00  INFO 15996 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:52:50.048+05:00  INFO 15996 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4acae4c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c7da28, org.springframework.security.web.context.SecurityContextHolderFilter@7a273fd7, org.springframework.security.web.header.HeaderWriterFilter@42000298, org.springframework.security.web.authentication.logout.LogoutFilter@160b7ccd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a434cdd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2a12048d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27bfa57f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bf31f3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38c840fb, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@d88d9d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39b50027, org.springframework.security.web.access.ExceptionTranslationFilter@6fa98e98, org.springframework.security.web.access.intercept.AuthorizationFilter@ab5e63]
2024-03-17T22:52:50.759+05:00  INFO 15996 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:52:50.786+05:00  INFO 15996 --- [main] ru.otus.hw.Application                   : Started Application in 10.624 seconds (process running for 11.156)
2024-03-17T22:52:54.666+05:00  INFO 15996 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:52:54.667+05:00  INFO 15996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:52:54.670+05:00  INFO 15996 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:52:55.759+05:00 DEBUG 15996 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:52:55.879+05:00 DEBUG 15996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:52:55.889+05:00 DEBUG 15996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:52:55.893+05:00 DEBUG 15996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:52:55.894+05:00 DEBUG 15996 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:53:17.342+05:00  INFO 15996 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:53:17.345+05:00  INFO 15996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:53:17.351+05:00  INFO 15996 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:53:20.592+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17912 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:53:20.595+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:53:22.147+05:00  INFO 17912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:53:22.256+05:00  INFO 17912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 94 ms. Found 9 JPA repository interfaces.
2024-03-17T22:53:23.280+05:00  INFO 17912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:53:23.294+05:00  INFO 17912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:53:23.295+05:00  INFO 17912 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:53:23.449+05:00  INFO 17912 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:53:23.450+05:00  INFO 17912 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2777 ms
2024-03-17T22:53:23.795+05:00  INFO 17912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:53:24.100+05:00  INFO 17912 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:53:24.102+05:00  INFO 17912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:53:24.199+05:00  INFO 17912 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:53:24.263+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:53:24.292+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:53:24.529+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.533+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.539+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.542+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.549+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.549+05:00  INFO 17912 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:53:24.564+05:00  INFO 17912 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:53:24.569+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.570+05:00  INFO 17912 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:53:24.573+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.574+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.690+05:00  INFO 17912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:53:24.691+05:00  INFO 17912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 59ms
2024-03-17T22:53:24.696+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.698+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.717+05:00  INFO 17912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:53:24.718+05:00  INFO 17912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-17T22:53:24.720+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.722+05:00  INFO 17912 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:53:24.725+05:00  INFO 17912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:53:24.725+05:00  INFO 17912 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:53:24.865+05:00  INFO 17912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:53:24.964+05:00  INFO 17912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:53:24.967+05:00  INFO 17912 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:53:25.181+05:00  INFO 17912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:53:25.367+05:00  INFO 17912 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:53:25.806+05:00  INFO 17912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:53:26.867+05:00  INFO 17912 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:53:26.906+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:53:26.907+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:53:26.909+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:53:26.910+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:53:26.911+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:53:26.912+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:53:26.915+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:53:26.916+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:53:26.917+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:53:26.918+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:53:26.919+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:53:26.920+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:53:26.920+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:53:26.921+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:53:26.922+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:53:26.922+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:53:26.931+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:53:26.936+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:53:26.938+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:53:26.939+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:53:26.941+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:53:26.942+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:53:26.944+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:53:26.946+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:53:26.948+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:53:26.949+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:53:26.951+05:00 DEBUG 17912 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:53:26.956+05:00  INFO 17912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:53:28.754+05:00  INFO 17912 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:53:28.823+05:00  INFO 17912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@450b99f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7dc16d33, org.springframework.security.web.context.SecurityContextHolderFilter@72090a80, org.springframework.security.web.header.HeaderWriterFilter@47858d7c, org.springframework.security.web.authentication.logout.LogoutFilter@27bfa57f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@371a7fd5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@589dd717, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1915879c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25e9f5e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c27ed2f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@13056efe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58397dee, org.springframework.security.web.access.ExceptionTranslationFilter@7197b96c, org.springframework.security.web.access.intercept.AuthorizationFilter@69ca71b3]
2024-03-17T22:53:29.491+05:00  INFO 17912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:53:29.513+05:00  INFO 17912 --- [main] ru.otus.hw.Application                   : Started Application in 9.637 seconds (process running for 10.199)
2024-03-17T22:53:33.452+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:53:33.453+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:53:33.455+05:00  INFO 17912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:53:34.283+05:00 DEBUG 17912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:53:34.387+05:00 DEBUG 17912 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:53:34.397+05:00 DEBUG 17912 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:53:34.402+05:00 DEBUG 17912 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:53:34.404+05:00 DEBUG 17912 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:55:48.573+05:00  INFO 17912 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:55:48.578+05:00  INFO 17912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T22:55:48.581+05:00  INFO 17912 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T22:55:51.844+05:00  INFO 17516 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17516 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T22:55:51.848+05:00  INFO 17516 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T22:55:53.385+05:00  INFO 17516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T22:55:53.493+05:00  INFO 17516 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 9 JPA repository interfaces.
2024-03-17T22:55:54.512+05:00  INFO 17516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T22:55:54.526+05:00  INFO 17516 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T22:55:54.526+05:00  INFO 17516 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T22:55:54.698+05:00  INFO 17516 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T22:55:54.699+05:00  INFO 17516 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2787 ms
2024-03-17T22:55:55.037+05:00  INFO 17516 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T22:55:55.356+05:00  INFO 17516 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T22:55:55.358+05:00  INFO 17516 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T22:55:55.462+05:00  INFO 17516 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T22:55:55.521+05:00  INFO 17516 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T22:55:55.547+05:00  INFO 17516 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T22:55:55.810+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.815+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.822+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.828+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.836+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.836+05:00  INFO 17516 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T22:55:55.857+05:00  INFO 17516 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T22:55:55.864+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.865+05:00  INFO 17516 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T22:55:55.870+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.872+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.990+05:00  INFO 17516 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:55:55.991+05:00  INFO 17516 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 51ms
2024-03-17T22:55:55.996+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:55.998+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:56.020+05:00  INFO 17516 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T22:55:56.021+05:00  INFO 17516 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 22ms
2024-03-17T22:55:56.023+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:56.025+05:00  INFO 17516 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T22:55:56.028+05:00  INFO 17516 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T22:55:56.029+05:00  INFO 17516 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T22:55:56.176+05:00  INFO 17516 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T22:55:56.272+05:00  INFO 17516 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T22:55:56.276+05:00  INFO 17516 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T22:55:56.495+05:00  INFO 17516 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:55:56.705+05:00  INFO 17516 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T22:55:57.147+05:00  INFO 17516 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T22:55:58.225+05:00  INFO 17516 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T22:55:58.266+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T22:55:58.268+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T22:55:58.269+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T22:55:58.271+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T22:55:58.272+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T22:55:58.273+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T22:55:58.275+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T22:55:58.276+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T22:55:58.278+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T22:55:58.279+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T22:55:58.280+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T22:55:58.280+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T22:55:58.281+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T22:55:58.282+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T22:55:58.282+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T22:55:58.283+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T22:55:58.293+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T22:55:58.296+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T22:55:58.299+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T22:55:58.300+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T22:55:58.303+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T22:55:58.305+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T22:55:58.307+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T22:55:58.310+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T22:55:58.311+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T22:55:58.313+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T22:55:58.314+05:00 DEBUG 17516 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T22:55:58.317+05:00  INFO 17516 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T22:55:59.907+05:00  INFO 17516 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T22:55:59.973+05:00  INFO 17516 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ddd5715, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d88d9d7, org.springframework.security.web.context.SecurityContextHolderFilter@786d8b3b, org.springframework.security.web.header.HeaderWriterFilter@5f9cb96f, org.springframework.security.web.authentication.logout.LogoutFilter@198c97d0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70c3483b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@fbc1de9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@54c15e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4df9df06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bf31f3e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6a434cdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d38758a, org.springframework.security.web.access.ExceptionTranslationFilter@3453cf27, org.springframework.security.web.access.intercept.AuthorizationFilter@4832813d]
2024-03-17T22:56:00.722+05:00  INFO 17516 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T22:56:00.747+05:00  INFO 17516 --- [main] ru.otus.hw.Application                   : Started Application in 9.596 seconds (process running for 10.156)
2024-03-17T22:56:06.936+05:00  INFO 17516 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T22:56:06.936+05:00  INFO 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T22:56:06.939+05:00  INFO 17516 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T22:56:07.955+05:00 DEBUG 17516 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T22:56:08.079+05:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T22:56:08.090+05:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:56:08.093+05:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T22:56:08.094+05:00 DEBUG 17516 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:00:23.556+05:00  INFO 17516 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:00:23.559+05:00  INFO 17516 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T23:00:23.564+05:00  INFO 17516 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T23:00:26.593+05:00  INFO 7716 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7716 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T23:00:26.596+05:00  INFO 7716 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T23:00:28.193+05:00  INFO 7716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T23:00:28.305+05:00  INFO 7716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 99 ms. Found 9 JPA repository interfaces.
2024-03-17T23:00:29.337+05:00  INFO 7716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T23:00:29.348+05:00  INFO 7716 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T23:00:29.348+05:00  INFO 7716 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T23:00:29.486+05:00  INFO 7716 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T23:00:29.487+05:00  INFO 7716 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2829 ms
2024-03-17T23:00:29.830+05:00  INFO 7716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T23:00:30.118+05:00  INFO 7716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T23:00:30.120+05:00  INFO 7716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T23:00:30.215+05:00  INFO 7716 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T23:00:30.281+05:00  INFO 7716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T23:00:30.309+05:00  INFO 7716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T23:00:30.576+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.580+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.588+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.593+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.602+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.603+05:00  INFO 7716 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T23:00:30.621+05:00  INFO 7716 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T23:00:30.628+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.630+05:00  INFO 7716 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T23:00:30.633+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.635+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.743+05:00  INFO 7716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:00:30.744+05:00  INFO 7716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-17T23:00:30.749+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.750+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.768+05:00  INFO 7716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:00:30.769+05:00  INFO 7716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-17T23:00:30.771+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.773+05:00  INFO 7716 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T23:00:30.776+05:00  INFO 7716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:00:30.777+05:00  INFO 7716 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T23:00:30.922+05:00  INFO 7716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T23:00:31.006+05:00  INFO 7716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T23:00:31.011+05:00  INFO 7716 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T23:00:31.218+05:00  INFO 7716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:00:31.408+05:00  INFO 7716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T23:00:31.851+05:00  INFO 7716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:00:32.895+05:00  INFO 7716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T23:00:32.935+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T23:00:32.937+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T23:00:32.938+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T23:00:32.939+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T23:00:32.940+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T23:00:32.942+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T23:00:32.946+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T23:00:32.947+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T23:00:32.948+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T23:00:32.948+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T23:00:32.949+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T23:00:32.949+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T23:00:32.950+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T23:00:32.950+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T23:00:32.951+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T23:00:32.951+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T23:00:32.959+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T23:00:32.963+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T23:00:32.965+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T23:00:32.967+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T23:00:32.968+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T23:00:32.969+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T23:00:32.971+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T23:00:32.975+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T23:00:32.976+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T23:00:32.978+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T23:00:32.980+05:00 DEBUG 7716 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T23:00:32.983+05:00  INFO 7716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:00:34.756+05:00  INFO 7716 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T23:00:34.845+05:00  INFO 7716 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79cfc008, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ea482b4, org.springframework.security.web.context.SecurityContextHolderFilter@452e0a94, org.springframework.security.web.header.HeaderWriterFilter@fbc1de9, org.springframework.security.web.authentication.logout.LogoutFilter@5565d718, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39b50027, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@105e9fef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3470c771, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77c66ac2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59ffb0af, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5086e144, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d2ccd7f, org.springframework.security.web.access.ExceptionTranslationFilter@1b61a646, org.springframework.security.web.access.intercept.AuthorizationFilter@27bfa57f]
2024-03-17T23:00:35.676+05:00  INFO 7716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T23:00:35.698+05:00  INFO 7716 --- [main] ru.otus.hw.Application                   : Started Application in 9.79 seconds (process running for 10.385)
2024-03-17T23:00:39.170+05:00  INFO 7716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T23:00:39.171+05:00  INFO 7716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T23:00:39.176+05:00  INFO 7716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-17T23:00:40.139+05:00 DEBUG 7716 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T23:00:40.302+05:00 DEBUG 7716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T23:00:40.319+05:00 DEBUG 7716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:00:40.323+05:00 DEBUG 7716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:00:40.324+05:00 DEBUG 7716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:02:26.240+05:00  INFO 7716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:02:26.243+05:00  INFO 7716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T23:02:26.246+05:00  INFO 7716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T23:02:29.245+05:00  INFO 16744 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 16744 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T23:02:29.250+05:00  INFO 16744 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T23:02:30.807+05:00  INFO 16744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T23:02:30.929+05:00  INFO 16744 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 106 ms. Found 9 JPA repository interfaces.
2024-03-17T23:02:31.997+05:00  INFO 16744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T23:02:32.009+05:00  INFO 16744 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T23:02:32.009+05:00  INFO 16744 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T23:02:32.151+05:00  INFO 16744 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T23:02:32.152+05:00  INFO 16744 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2827 ms
2024-03-17T23:02:32.528+05:00  INFO 16744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T23:02:32.831+05:00  INFO 16744 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T23:02:32.833+05:00  INFO 16744 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T23:02:32.928+05:00  INFO 16744 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T23:02:32.992+05:00  INFO 16744 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T23:02:33.019+05:00  INFO 16744 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T23:02:33.274+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.280+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.287+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.292+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.300+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.301+05:00  INFO 16744 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T23:02:33.321+05:00  INFO 16744 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T23:02:33.328+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.329+05:00  INFO 16744 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T23:02:33.333+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.335+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.457+05:00  INFO 16744 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:02:33.458+05:00  INFO 16744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 54ms
2024-03-17T23:02:33.465+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.467+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.494+05:00  INFO 16744 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:02:33.496+05:00  INFO 16744 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 26ms
2024-03-17T23:02:33.499+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.501+05:00  INFO 16744 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T23:02:33.505+05:00  INFO 16744 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:02:33.506+05:00  INFO 16744 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T23:02:33.637+05:00  INFO 16744 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T23:02:33.733+05:00  INFO 16744 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T23:02:33.739+05:00  INFO 16744 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T23:02:33.990+05:00  INFO 16744 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:02:34.247+05:00  INFO 16744 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T23:02:34.713+05:00  INFO 16744 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:02:35.854+05:00  INFO 16744 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T23:02:35.898+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T23:02:35.900+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T23:02:35.901+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T23:02:35.903+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T23:02:35.904+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T23:02:35.906+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T23:02:35.908+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T23:02:35.908+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T23:02:35.910+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T23:02:35.910+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T23:02:35.911+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T23:02:35.912+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T23:02:35.913+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T23:02:35.914+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T23:02:35.914+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T23:02:35.915+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T23:02:35.923+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T23:02:35.927+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T23:02:35.929+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T23:02:35.931+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T23:02:35.933+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T23:02:35.934+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T23:02:35.936+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T23:02:35.938+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T23:02:35.939+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T23:02:35.941+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T23:02:35.943+05:00 DEBUG 16744 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T23:02:35.946+05:00  INFO 16744 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:02:37.741+05:00  INFO 16744 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T23:02:37.812+05:00  INFO 16744 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@557fe039, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@231d5119, org.springframework.security.web.context.SecurityContextHolderFilter@295e9aef, org.springframework.security.web.header.HeaderWriterFilter@1b61a646, org.springframework.security.web.authentication.logout.LogoutFilter@12c55199, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1c7da28, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@55c901b2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@79cfc008, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452e0a94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27a717a7, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1b6daf20, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ea482b4, org.springframework.security.web.access.ExceptionTranslationFilter@6f8b1902, org.springframework.security.web.access.intercept.AuthorizationFilter@4acae4c7]
2024-03-17T23:02:38.636+05:00  INFO 16744 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T23:02:38.673+05:00  INFO 16744 --- [main] ru.otus.hw.Application                   : Started Application in 10.083 seconds (process running for 10.625)
2024-03-17T23:02:48.803+05:00  INFO 16744 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T23:02:48.804+05:00  INFO 16744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T23:02:48.808+05:00  INFO 16744 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T23:02:49.825+05:00 DEBUG 16744 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T23:02:49.998+05:00 DEBUG 16744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T23:02:50.008+05:00 DEBUG 16744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:02:50.012+05:00 DEBUG 16744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:02:50.014+05:00 DEBUG 16744 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:04:26.841+05:00  INFO 16744 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:04:26.845+05:00  INFO 16744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-17T23:04:26.847+05:00  INFO 16744 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-17T23:04:29.988+05:00  INFO 17612 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 17612 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-17T23:04:29.991+05:00  INFO 17612 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-17T23:04:31.515+05:00  INFO 17612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-17T23:04:31.629+05:00  INFO 17612 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 98 ms. Found 9 JPA repository interfaces.
2024-03-17T23:04:32.678+05:00  INFO 17612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-17T23:04:32.692+05:00  INFO 17612 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-17T23:04:32.692+05:00  INFO 17612 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-17T23:04:32.848+05:00  INFO 17612 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-17T23:04:32.849+05:00  INFO 17612 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2783 ms
2024-03-17T23:04:33.196+05:00  INFO 17612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-17T23:04:33.488+05:00  INFO 17612 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-17T23:04:33.491+05:00  INFO 17612 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-17T23:04:33.580+05:00  INFO 17612 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-17T23:04:33.640+05:00  INFO 17612 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-17T23:04:33.670+05:00  INFO 17612 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-17T23:04:33.931+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.935+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.944+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.949+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.958+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.959+05:00  INFO 17612 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-17T23:04:33.981+05:00  INFO 17612 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-17T23:04:33.987+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.988+05:00  INFO 17612 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-17T23:04:33.991+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:33.993+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:34.099+05:00  INFO 17612 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:04:34.100+05:00  INFO 17612 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 52ms
2024-03-17T23:04:34.106+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:34.108+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:34.127+05:00  INFO 17612 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-17T23:04:34.129+05:00  INFO 17612 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-17T23:04:34.131+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:34.132+05:00  INFO 17612 --- [main] liquibase                                : Update command completed successfully.
2024-03-17T23:04:34.135+05:00  INFO 17612 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-17T23:04:34.136+05:00  INFO 17612 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-17T23:04:34.293+05:00  INFO 17612 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-17T23:04:34.391+05:00  INFO 17612 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-17T23:04:34.395+05:00  INFO 17612 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-17T23:04:34.608+05:00  INFO 17612 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:04:34.802+05:00  INFO 17612 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-17T23:04:35.218+05:00  INFO 17612 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-17T23:04:36.140+05:00  INFO 17612 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-17T23:04:36.177+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-17T23:04:36.178+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-17T23:04:36.180+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-17T23:04:36.181+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-17T23:04:36.182+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-17T23:04:36.183+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-17T23:04:36.185+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-17T23:04:36.186+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-17T23:04:36.187+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-17T23:04:36.188+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-17T23:04:36.189+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-17T23:04:36.189+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-17T23:04:36.190+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-17T23:04:36.190+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-17T23:04:36.191+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-17T23:04:36.191+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-17T23:04:36.203+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-17T23:04:36.207+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-17T23:04:36.209+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-17T23:04:36.210+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-17T23:04:36.212+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-17T23:04:36.213+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-17T23:04:36.215+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-17T23:04:36.217+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-17T23:04:36.218+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-17T23:04:36.220+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-17T23:04:36.220+05:00 DEBUG 17612 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-17T23:04:36.224+05:00  INFO 17612 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-17T23:04:37.798+05:00  INFO 17612 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-17T23:04:37.866+05:00  INFO 17612 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@231d5119, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79cfc008, org.springframework.security.web.context.SecurityContextHolderFilter@3f1b4a14, org.springframework.security.web.header.HeaderWriterFilter@38c840fb, org.springframework.security.web.authentication.logout.LogoutFilter@63f6811e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27bfa57f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7197b96c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1ea482b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a12048d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d2b49b2, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@41a3656f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3470c771, org.springframework.security.web.access.ExceptionTranslationFilter@2c914aa3, org.springframework.security.web.access.intercept.AuthorizationFilter@1c7da28]
2024-03-17T23:04:38.514+05:00  INFO 17612 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-17T23:04:38.538+05:00  INFO 17612 --- [main] ru.otus.hw.Application                   : Started Application in 9.243 seconds (process running for 9.781)
2024-03-17T23:04:42.428+05:00  INFO 17612 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-17T23:04:42.429+05:00  INFO 17612 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-17T23:04:42.431+05:00  INFO 17612 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-17T23:04:43.324+05:00 DEBUG 17612 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select s1_0.id,s1_0.name,s1_0.val from scores s1_0
2024-03-17T23:04:43.429+05:00 DEBUG 17612 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-17T23:04:43.439+05:00 DEBUG 17612 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:04:43.441+05:00 DEBUG 17612 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-17T23:04:43.442+05:00 DEBUG 17612 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
