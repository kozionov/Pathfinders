2024-03-14T07:36:58.041+05:00  INFO 13532 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13532 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T07:36:58.052+05:00  INFO 13532 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T07:36:59.762+05:00  INFO 13532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T07:36:59.878+05:00  INFO 13532 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 102 ms. Found 5 JPA repository interfaces.
2024-03-14T07:37:01.000+05:00  INFO 13532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T07:37:01.015+05:00  INFO 13532 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T07:37:01.016+05:00  INFO 13532 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T07:37:01.185+05:00  INFO 13532 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T07:37:01.186+05:00  INFO 13532 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3058 ms
2024-03-14T07:37:01.546+05:00  INFO 13532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T07:37:01.885+05:00  INFO 13532 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T07:37:01.888+05:00  INFO 13532 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T07:37:02.017+05:00  INFO 13532 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T07:37:02.101+05:00  INFO 13532 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T07:37:02.145+05:00  INFO 13532 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T07:37:02.453+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.459+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.467+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.472+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.481+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.482+05:00  INFO 13532 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T07:37:02.502+05:00  INFO 13532 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T07:37:02.507+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.508+05:00  INFO 13532 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T07:37:02.511+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.513+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.618+05:00  INFO 13532 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T07:37:02.619+05:00  INFO 13532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-14T07:37:02.625+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.627+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.642+05:00  INFO 13532 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T07:37:02.644+05:00  INFO 13532 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 15ms
2024-03-14T07:37:02.645+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.646+05:00  INFO 13532 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T07:37:02.649+05:00  INFO 13532 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T07:37:02.649+05:00  INFO 13532 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T07:37:02.818+05:00  INFO 13532 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T07:37:02.919+05:00  INFO 13532 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T07:37:02.923+05:00  INFO 13532 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T07:37:03.186+05:00  INFO 13532 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T07:37:03.386+05:00  INFO 13532 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T07:37:03.834+05:00  INFO 13532 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T07:37:04.828+05:00  INFO 13532 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T07:37:04.882+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T07:37:04.884+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T07:37:04.885+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T07:37:04.886+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T07:37:04.887+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T07:37:04.888+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T07:37:04.890+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, member_id bigint, primary key (id))
2024-03-14T07:37:04.891+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T07:37:04.892+05:00  WARN 13532 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T07:37:04.899+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T07:37:04.901+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T07:37:04.906+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T07:37:04.907+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T07:37:04.907+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T07:37:04.909+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T07:37:04.911+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T07:37:04.913+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T07:37:04.913+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T07:37:04.914+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T07:37:04.915+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T07:37:04.915+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T07:37:04.916+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T07:37:04.917+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T07:37:04.918+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T07:37:04.919+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_n86mnnn8hn50pocg9osvviyfa
2024-03-14T07:37:04.919+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_n86mnnn8hn50pocg9osvviyfa unique (member_id)
2024-03-14T07:37:04.929+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T07:37:04.934+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T07:37:04.936+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T07:37:04.937+05:00  WARN 13532 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T07:37:04.939+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T07:37:04.941+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T07:37:04.942+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T07:37:04.944+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T07:37:04.946+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T07:37:04.947+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T07:37:04.949+05:00 DEBUG 13532 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK7nxgcmiqilij95w3sptt1vuqv foreign key (member_id) references users
2024-03-14T07:37:04.953+05:00  INFO 13532 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T07:37:06.609+05:00  INFO 13532 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T07:37:06.691+05:00  INFO 13532 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48a2fb11, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fc82de5, org.springframework.security.web.context.SecurityContextHolderFilter@15974f4e, org.springframework.security.web.header.HeaderWriterFilter@27215154, org.springframework.security.web.authentication.logout.LogoutFilter@7a68818c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f9b37b5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e94a6f6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@65208c91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b8106f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@161974d1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6aefb242, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d71476c, org.springframework.security.web.access.ExceptionTranslationFilter@7bb6a1f4, org.springframework.security.web.access.intercept.AuthorizationFilter@1b7c1c6f]
2024-03-14T07:37:07.373+05:00  INFO 13532 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T07:37:07.400+05:00  INFO 13532 --- [main] ru.otus.hw.Application                   : Started Application in 10.104 seconds (process running for 12.082)
2024-03-14T08:05:01.819+05:00  INFO 13532 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:05:01.820+05:00  INFO 13532 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:05:01.823+05:00  INFO 13532 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-14T08:05:02.736+05:00 DEBUG 13532 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:05:02.815+05:00 DEBUG 13532 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:05:05.781+05:00 DEBUG 13532 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id where b1_0.id=?
2024-03-14T08:05:05.786+05:00 DEBUG 13532 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id=?
2024-03-14T08:05:12.644+05:00 DEBUG 13532 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:05:12.647+05:00 DEBUG 13532 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:05:13.756+05:00 DEBUG 13532 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:05:13.775+05:00 DEBUG 13532 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select g1_0.id,g1_0.name from genres g1_0
2024-03-14T08:09:53.891+05:00 DEBUG 13532 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:09:53.898+05:00 DEBUG 13532 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:09:54.919+05:00 DEBUG 13532 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:09:54.933+05:00 DEBUG 13532 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select g1_0.id,g1_0.name from genres g1_0
2024-03-14T08:13:15.966+05:00  INFO 13532 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:13:15.973+05:00  INFO 13532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:13:15.976+05:00  INFO 13532 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:14:17.411+05:00  INFO 11136 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11136 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:14:17.415+05:00  INFO 11136 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:14:18.955+05:00  INFO 11136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:14:19.057+05:00  INFO 11136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 87 ms. Found 5 JPA repository interfaces.
2024-03-14T08:14:20.077+05:00  INFO 11136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:14:20.094+05:00  INFO 11136 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:14:20.095+05:00  INFO 11136 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:14:20.258+05:00  INFO 11136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:14:20.259+05:00  INFO 11136 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2780 ms
2024-03-14T08:14:20.612+05:00  INFO 11136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:14:20.912+05:00  INFO 11136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:14:20.915+05:00  INFO 11136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:14:21.014+05:00  INFO 11136 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:14:21.084+05:00  INFO 11136 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:14:21.109+05:00  INFO 11136 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:14:21.369+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.374+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.382+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.387+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.393+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.394+05:00  INFO 11136 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:14:21.414+05:00  INFO 11136 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:14:21.420+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.422+05:00  INFO 11136 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:14:21.425+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.427+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.537+05:00  INFO 11136 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:14:21.538+05:00  INFO 11136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-14T08:14:21.544+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.546+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.565+05:00  INFO 11136 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:14:21.568+05:00  INFO 11136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-14T08:14:21.571+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.572+05:00  INFO 11136 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:14:21.576+05:00  INFO 11136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:14:21.577+05:00  INFO 11136 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:14:21.725+05:00  INFO 11136 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:14:21.832+05:00  INFO 11136 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:14:21.836+05:00  INFO 11136 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:14:22.082+05:00  INFO 11136 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:14:22.255+05:00  INFO 11136 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:14:22.644+05:00  INFO 11136 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:14:23.591+05:00  INFO 11136 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:14:23.632+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:14:23.634+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:14:23.635+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:14:23.636+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:14:23.638+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:14:23.639+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:14:23.640+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:14:23.642+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:14:23.643+05:00  WARN 11136 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:14:23.650+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:14:23.651+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:14:23.657+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:14:23.657+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:14:23.658+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:14:23.659+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:14:23.660+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:14:23.662+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:14:23.662+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:14:23.663+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:14:23.663+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:14:23.664+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:14:23.664+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:14:23.665+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:14:23.665+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:14:23.666+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:14:23.666+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:14:23.675+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:14:23.679+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:14:23.681+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:14:23.681+05:00  WARN 11136 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:14:23.683+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:14:23.685+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:14:23.686+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:14:23.687+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:14:23.689+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:14:23.692+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:14:23.694+05:00 DEBUG 11136 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:14:23.697+05:00  INFO 11136 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:14:25.192+05:00  INFO 11136 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:14:25.258+05:00  INFO 11136 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5784f6b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d0ca8a5, org.springframework.security.web.context.SecurityContextHolderFilter@1c1ee02b, org.springframework.security.web.header.HeaderWriterFilter@c9518ee, org.springframework.security.web.authentication.logout.LogoutFilter@3f4b59fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f745970, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@38911759, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1b7c1c6f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5fd0235c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25a2a71d, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1633962a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f9b37b5, org.springframework.security.web.access.ExceptionTranslationFilter@21f48f6c, org.springframework.security.web.access.intercept.AuthorizationFilter@2f7e2481]
2024-03-14T08:14:25.912+05:00  INFO 11136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:14:25.933+05:00  INFO 11136 --- [main] ru.otus.hw.Application                   : Started Application in 9.227 seconds (process running for 9.896)
2024-03-14T08:14:30.120+05:00  INFO 11136 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:14:30.121+05:00  INFO 11136 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:14:30.123+05:00  INFO 11136 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-14T08:14:31.042+05:00 DEBUG 11136 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:14:31.154+05:00 DEBUG 11136 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:14:33.025+05:00 DEBUG 11136 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:14:33.027+05:00 DEBUG 11136 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:14:34.147+05:00 DEBUG 11136 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:15:33.873+05:00 DEBUG 11136 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:15:33.876+05:00 DEBUG 11136 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:15:34.971+05:00 DEBUG 11136 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:19:50.058+05:00  INFO 11136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:19:50.063+05:00  INFO 11136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:19:50.066+05:00  INFO 11136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:19:53.357+05:00  INFO 13128 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13128 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:19:53.360+05:00  INFO 13128 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:19:55.062+05:00  INFO 13128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:19:55.174+05:00  INFO 13128 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 5 JPA repository interfaces.
2024-03-14T08:19:56.211+05:00  INFO 13128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:19:56.225+05:00  INFO 13128 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:19:56.226+05:00  INFO 13128 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:19:56.356+05:00  INFO 13128 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:19:56.357+05:00  INFO 13128 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2920 ms
2024-03-14T08:19:56.706+05:00  INFO 13128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:19:57.038+05:00  INFO 13128 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:19:57.041+05:00  INFO 13128 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:19:57.142+05:00  INFO 13128 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:19:57.202+05:00  INFO 13128 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:19:57.229+05:00  INFO 13128 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:19:57.579+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.585+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.594+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.601+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.611+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.612+05:00  INFO 13128 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:19:57.640+05:00  INFO 13128 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:19:57.648+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.650+05:00  INFO 13128 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:19:57.653+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.655+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.758+05:00  INFO 13128 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:19:57.759+05:00  INFO 13128 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-14T08:19:57.765+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.767+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.782+05:00  INFO 13128 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:19:57.785+05:00  INFO 13128 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-14T08:19:57.787+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.789+05:00  INFO 13128 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:19:57.792+05:00  INFO 13128 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:19:57.792+05:00  INFO 13128 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:19:57.919+05:00  INFO 13128 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:19:58.016+05:00  INFO 13128 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:19:58.021+05:00  INFO 13128 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:19:58.255+05:00  INFO 13128 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:19:58.451+05:00  INFO 13128 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:19:58.914+05:00  INFO 13128 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:19:59.911+05:00  INFO 13128 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:19:59.954+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:19:59.956+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:19:59.957+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:19:59.960+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:19:59.961+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:19:59.962+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:19:59.964+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:19:59.966+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:19:59.967+05:00  WARN 13128 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:19:59.976+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:19:59.978+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:19:59.983+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:19:59.984+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:19:59.984+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:19:59.985+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:19:59.987+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:19:59.988+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:19:59.988+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:19:59.989+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:19:59.989+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:19:59.990+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:19:59.990+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:19:59.991+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:19:59.991+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:19:59.992+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:19:59.992+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:20:00.000+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:20:00.004+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:20:00.005+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:20:00.007+05:00  WARN 13128 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:20:00.010+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:20:00.013+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:20:00.015+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:20:00.017+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:20:00.021+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:20:00.022+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:20:00.025+05:00 DEBUG 13128 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:20:00.030+05:00  INFO 13128 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:20:01.849+05:00  INFO 13128 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:20:01.922+05:00  INFO 13128 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@305230ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2493f9a8, org.springframework.security.web.context.SecurityContextHolderFilter@150963fe, org.springframework.security.web.header.HeaderWriterFilter@41ff98dc, org.springframework.security.web.authentication.logout.LogoutFilter@1b7c1c6f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a9cfd5f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2080ee70, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@b7e53b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20c7a91d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22599048, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@28878a52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5545c42, org.springframework.security.web.access.ExceptionTranslationFilter@2787abe4, org.springframework.security.web.access.intercept.AuthorizationFilter@2a45c6f0]
2024-03-14T08:20:02.634+05:00  INFO 13128 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:20:02.654+05:00  INFO 13128 --- [main] ru.otus.hw.Application                   : Started Application in 10.021 seconds (process running for 10.643)
2024-03-14T08:20:09.311+05:00  INFO 13128 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:20:09.312+05:00  INFO 13128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:20:09.313+05:00  INFO 13128 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms
2024-03-14T08:20:10.147+05:00 DEBUG 13128 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:21:20.406+05:00  INFO 13128 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:21:20.410+05:00  INFO 13128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:21:20.413+05:00  INFO 13128 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:21:23.569+05:00  INFO 12180 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 12180 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:21:23.573+05:00  INFO 12180 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:21:25.082+05:00  INFO 12180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:21:25.204+05:00  INFO 12180 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 105 ms. Found 5 JPA repository interfaces.
2024-03-14T08:21:26.293+05:00  INFO 12180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:21:26.307+05:00  INFO 12180 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:21:26.308+05:00  INFO 12180 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:21:26.461+05:00  INFO 12180 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:21:26.461+05:00  INFO 12180 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2821 ms
2024-03-14T08:21:26.806+05:00  INFO 12180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:21:27.097+05:00  INFO 12180 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:21:27.099+05:00  INFO 12180 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:21:27.214+05:00  INFO 12180 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:21:28.115+05:00  INFO 12180 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:21:28.533+05:00  INFO 12180 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:21:32.096+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.163+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.264+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.318+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.415+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.420+05:00  INFO 12180 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:21:32.547+05:00  INFO 12180 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:21:32.552+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.554+05:00  INFO 12180 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:21:32.558+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.560+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.667+05:00  INFO 12180 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:21:32.668+05:00  INFO 12180 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 51ms
2024-03-14T08:21:32.674+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.676+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.690+05:00  INFO 12180 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:21:32.692+05:00  INFO 12180 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 15ms
2024-03-14T08:21:32.694+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.695+05:00  INFO 12180 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:21:32.698+05:00  INFO 12180 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:21:32.699+05:00  INFO 12180 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:21:32.829+05:00  INFO 12180 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:21:32.926+05:00  INFO 12180 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:21:32.932+05:00  INFO 12180 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:21:33.181+05:00  INFO 12180 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:21:33.410+05:00  INFO 12180 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:21:33.910+05:00  INFO 12180 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:21:35.082+05:00  INFO 12180 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:21:35.133+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:21:35.135+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:21:35.136+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:21:35.137+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:21:35.139+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:21:35.140+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:21:35.141+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:21:35.143+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:21:35.144+05:00  WARN 12180 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:21:35.152+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:21:35.153+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:21:35.158+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:21:35.159+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:21:35.160+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:21:35.161+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:21:35.162+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:21:35.164+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:21:35.164+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:21:35.165+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:21:35.166+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:21:35.166+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:21:35.167+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:21:35.168+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:21:35.169+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:21:35.170+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:21:35.170+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:21:35.178+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:21:35.182+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:21:35.184+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:21:35.185+05:00  WARN 12180 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:21:35.187+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:21:35.188+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:21:35.190+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:21:35.192+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:21:35.195+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:21:35.197+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:21:35.199+05:00 DEBUG 12180 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:21:35.203+05:00  INFO 12180 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:21:36.861+05:00  INFO 12180 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:21:36.931+05:00  INFO 12180 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f9cb96f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45295bed, org.springframework.security.web.context.SecurityContextHolderFilter@2408ca4c, org.springframework.security.web.header.HeaderWriterFilter@11034fdb, org.springframework.security.web.authentication.logout.LogoutFilter@550ce3a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d12a71f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b7c1c6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6fa98e98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f745970, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1633962a, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4d5aeea7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@786d8b3b, org.springframework.security.web.access.ExceptionTranslationFilter@5d3c0735, org.springframework.security.web.access.intercept.AuthorizationFilter@7d2c9b65]
2024-03-14T08:21:37.652+05:00  INFO 12180 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:21:37.679+05:00  INFO 12180 --- [main] ru.otus.hw.Application                   : Started Application in 14.9 seconds (process running for 15.553)
2024-03-14T08:21:41.233+05:00  INFO 12180 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:21:41.234+05:00  INFO 12180 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:21:41.237+05:00  INFO 12180 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-14T08:21:42.349+05:00 DEBUG 12180 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-14T08:22:07.290+05:00  INFO 12180 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:22:07.294+05:00  INFO 12180 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:22:07.298+05:00  INFO 12180 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:22:10.494+05:00  INFO 11964 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11964 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:22:10.497+05:00  INFO 11964 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:22:12.060+05:00  INFO 11964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:22:12.198+05:00  INFO 11964 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 5 JPA repository interfaces.
2024-03-14T08:22:13.380+05:00  INFO 11964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:22:13.398+05:00  INFO 11964 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:22:13.398+05:00  INFO 11964 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:22:13.560+05:00  INFO 11964 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:22:13.561+05:00  INFO 11964 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3002 ms
2024-03-14T08:22:13.920+05:00  INFO 11964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:22:14.234+05:00  INFO 11964 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:22:14.238+05:00  INFO 11964 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:22:14.361+05:00  INFO 11964 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:22:14.433+05:00  INFO 11964 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:22:14.489+05:00  INFO 11964 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:22:14.766+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.772+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.781+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.787+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.797+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.798+05:00  INFO 11964 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:22:14.824+05:00  INFO 11964 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:22:14.830+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.832+05:00  INFO 11964 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:22:14.835+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.837+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.945+05:00  INFO 11964 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:22:14.946+05:00  INFO 11964 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 43ms
2024-03-14T08:22:14.951+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.953+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.968+05:00  INFO 11964 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:22:14.971+05:00  INFO 11964 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-14T08:22:14.973+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.975+05:00  INFO 11964 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:22:14.979+05:00  INFO 11964 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:22:14.980+05:00  INFO 11964 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:22:15.113+05:00  INFO 11964 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:22:15.241+05:00  INFO 11964 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:22:15.244+05:00  INFO 11964 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:22:15.508+05:00  INFO 11964 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:22:15.684+05:00  INFO 11964 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:22:16.159+05:00  INFO 11964 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:22:17.351+05:00  INFO 11964 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:22:17.392+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:22:17.394+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:22:17.395+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:22:17.397+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:22:17.398+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:22:17.399+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:22:17.401+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:22:17.402+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:22:17.404+05:00  WARN 11964 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:22:17.411+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:22:17.413+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:22:17.418+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:22:17.418+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:22:17.419+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:22:17.420+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:22:17.421+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:22:17.423+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:22:17.424+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:22:17.425+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:22:17.425+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:22:17.426+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:22:17.426+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:22:17.427+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:22:17.427+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:22:17.428+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:22:17.428+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:22:17.438+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:22:17.442+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:22:17.444+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:22:17.446+05:00  WARN 11964 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:22:17.448+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:22:17.451+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:22:17.452+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:22:17.454+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:22:17.457+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:22:17.458+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:22:17.460+05:00 DEBUG 11964 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:22:17.464+05:00  INFO 11964 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:22:19.231+05:00  INFO 11964 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:22:19.310+05:00  INFO 11964 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@792a9cb1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51fadd20, org.springframework.security.web.context.SecurityContextHolderFilter@7ae5f795, org.springframework.security.web.header.HeaderWriterFilter@161974d1, org.springframework.security.web.authentication.logout.LogoutFilter@6b71fded, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65208c91, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3f4b59fd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@550ce3a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e94a6f6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@150963fe, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6dc8a602, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28878a52, org.springframework.security.web.access.ExceptionTranslationFilter@647bd553, org.springframework.security.web.access.intercept.AuthorizationFilter@5fc82de5]
2024-03-14T08:22:20.004+05:00  INFO 11964 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:22:20.026+05:00  INFO 11964 --- [main] ru.otus.hw.Application                   : Started Application in 10.223 seconds (process running for 10.943)
2024-03-14T08:22:23.362+05:00  INFO 11964 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:22:23.363+05:00  INFO 11964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:22:23.365+05:00  INFO 11964 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-14T08:25:10.008+05:00  INFO 11964 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:25:10.013+05:00  INFO 11964 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:25:10.016+05:00  INFO 11964 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:25:13.002+05:00  INFO 7572 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7572 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:25:13.005+05:00  INFO 7572 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:25:14.660+05:00  INFO 7572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:25:14.764+05:00  INFO 7572 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 89 ms. Found 5 JPA repository interfaces.
2024-03-14T08:25:15.784+05:00  INFO 7572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:25:15.797+05:00  INFO 7572 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:25:15.797+05:00  INFO 7572 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:25:15.955+05:00  INFO 7572 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:25:15.955+05:00  INFO 7572 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2884 ms
2024-03-14T08:25:16.390+05:00  INFO 7572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:25:16.774+05:00  INFO 7572 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:25:16.776+05:00  INFO 7572 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:25:16.870+05:00  INFO 7572 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:25:16.936+05:00  INFO 7572 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:25:16.966+05:00  INFO 7572 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:25:17.314+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.322+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.332+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.338+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.349+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.350+05:00  INFO 7572 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:25:17.376+05:00  INFO 7572 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:25:17.385+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.386+05:00  INFO 7572 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:25:17.390+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.391+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.516+05:00  INFO 7572 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:25:17.518+05:00  INFO 7572 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 62ms
2024-03-14T08:25:17.524+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.527+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.550+05:00  INFO 7572 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:25:17.554+05:00  INFO 7572 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 24ms
2024-03-14T08:25:17.558+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.560+05:00  INFO 7572 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:25:17.565+05:00  INFO 7572 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:25:17.565+05:00  INFO 7572 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:25:17.716+05:00  INFO 7572 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:25:17.834+05:00  INFO 7572 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:25:17.839+05:00  INFO 7572 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:25:18.130+05:00  INFO 7572 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:25:18.360+05:00  INFO 7572 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:25:18.835+05:00  INFO 7572 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:25:19.800+05:00  INFO 7572 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:25:19.849+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:25:19.851+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:25:19.852+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:25:19.853+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:25:19.854+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:25:19.855+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:25:19.857+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:25:19.858+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:25:19.859+05:00  WARN 7572 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:25:19.867+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:25:19.869+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:25:19.875+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:25:19.875+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:25:19.876+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:25:19.877+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:25:19.878+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:25:19.880+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:25:19.880+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:25:19.881+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:25:19.882+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:25:19.882+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:25:19.883+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:25:19.883+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:25:19.884+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:25:19.884+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:25:19.885+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:25:19.894+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:25:19.899+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:25:19.900+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:25:19.901+05:00  WARN 7572 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:25:19.903+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:25:19.905+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:25:19.906+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:25:19.908+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:25:19.910+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:25:19.912+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:25:19.913+05:00 DEBUG 7572 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:25:19.916+05:00  INFO 7572 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:25:21.600+05:00  INFO 7572 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:25:21.682+05:00  INFO 7572 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5545c42, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2420e962, org.springframework.security.web.context.SecurityContextHolderFilter@2048255a, org.springframework.security.web.header.HeaderWriterFilter@150963fe, org.springframework.security.web.authentication.logout.LogoutFilter@17abef0f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@550ce3a9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5d3c0735, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1fc51af7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f4b59fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5de15ce1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@305230ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66df2165, org.springframework.security.web.access.ExceptionTranslationFilter@14738629, org.springframework.security.web.access.intercept.AuthorizationFilter@51fadd20]
2024-03-14T08:25:22.510+05:00  INFO 7572 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:25:22.539+05:00  INFO 7572 --- [main] ru.otus.hw.Application                   : Started Application in 10.194 seconds (process running for 10.738)
2024-03-14T08:25:25.706+05:00  INFO 7572 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:25:25.707+05:00  INFO 7572 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:25:25.709+05:00  INFO 7572 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-14T08:26:13.271+05:00 DEBUG 7572 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:26:13.324+05:00 DEBUG 7572 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:26:50.590+05:00  INFO 7572 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:26:50.594+05:00  INFO 7572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:26:50.597+05:00  INFO 7572 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:26:53.660+05:00  INFO 14304 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 14304 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:26:53.664+05:00  INFO 14304 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:26:55.204+05:00  INFO 14304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:26:55.314+05:00  INFO 14304 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 95 ms. Found 5 JPA repository interfaces.
2024-03-14T08:26:56.330+05:00  INFO 14304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:26:56.340+05:00  INFO 14304 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:26:56.341+05:00  INFO 14304 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:26:56.486+05:00  INFO 14304 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:26:56.488+05:00  INFO 14304 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2755 ms
2024-03-14T08:26:56.832+05:00  INFO 14304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:26:57.086+05:00  INFO 14304 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:26:57.089+05:00  INFO 14304 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:26:57.184+05:00  INFO 14304 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:26:57.252+05:00  INFO 14304 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:26:57.281+05:00  INFO 14304 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:26:57.530+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.534+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.540+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.544+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.552+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.552+05:00  INFO 14304 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:26:57.570+05:00  INFO 14304 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:26:57.575+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.576+05:00  INFO 14304 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:26:57.580+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.582+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.669+05:00  INFO 14304 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:26:57.670+05:00  INFO 14304 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 37ms
2024-03-14T08:26:57.674+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.677+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.692+05:00  INFO 14304 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:26:57.695+05:00  INFO 14304 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 15ms
2024-03-14T08:26:57.696+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.698+05:00  INFO 14304 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:26:57.700+05:00  INFO 14304 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:26:57.700+05:00  INFO 14304 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:26:57.829+05:00  INFO 14304 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:26:57.921+05:00  INFO 14304 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:26:57.925+05:00  INFO 14304 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:26:58.151+05:00  INFO 14304 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:26:58.361+05:00  INFO 14304 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:26:58.786+05:00  INFO 14304 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:26:59.729+05:00  INFO 14304 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:26:59.770+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:26:59.772+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:26:59.773+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:26:59.774+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:26:59.776+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:26:59.777+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:26:59.778+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:26:59.780+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:26:59.781+05:00  WARN 14304 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:26:59.787+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:26:59.788+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:26:59.794+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:26:59.794+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:26:59.795+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:26:59.796+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:26:59.797+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:26:59.799+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:26:59.799+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:26:59.800+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:26:59.800+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:26:59.800+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:26:59.801+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:26:59.801+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:26:59.802+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:26:59.802+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:26:59.802+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:26:59.810+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:26:59.814+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:26:59.816+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:26:59.817+05:00  WARN 14304 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:26:59.818+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:26:59.820+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:26:59.822+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:26:59.823+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:26:59.825+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:26:59.826+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:26:59.828+05:00 DEBUG 14304 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:26:59.831+05:00  INFO 14304 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:27:01.432+05:00  INFO 14304 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:27:01.500+05:00  INFO 14304 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f9cb96f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45295bed, org.springframework.security.web.context.SecurityContextHolderFilter@2408ca4c, org.springframework.security.web.header.HeaderWriterFilter@11034fdb, org.springframework.security.web.authentication.logout.LogoutFilter@550ce3a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d12a71f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b7c1c6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6fa98e98, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f745970, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1633962a, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4d5aeea7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@786d8b3b, org.springframework.security.web.access.ExceptionTranslationFilter@5d3c0735, org.springframework.security.web.access.intercept.AuthorizationFilter@7d2c9b65]
2024-03-14T08:27:02.168+05:00  INFO 14304 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:27:02.187+05:00  INFO 14304 --- [main] ru.otus.hw.Application                   : Started Application in 9.246 seconds (process running for 9.845)
2024-03-14T08:27:05.615+05:00  INFO 14304 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:27:05.616+05:00  INFO 14304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:27:05.618+05:00  INFO 14304 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-14T08:27:36.943+05:00  WARN 14304 --- [http-nio-8080-exec-3] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public ru.otus.hw.dto.UserDto ru.otus.hw.controller.UserController.addUser(ru.otus.hw.dto.UserCreateDto): [Field error in object 'userCreateDto' on field 'role': rejected value [null]; codes [NotNull.userCreateDto.role,NotNull.role,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userCreateDto.role,role]; arguments []; default message [role]]; default message [не должно равняться null]] ]
2024-03-14T08:28:32.519+05:00  WARN 14304 --- [http-nio-8080-exec-5] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public ru.otus.hw.dto.UserDto ru.otus.hw.controller.UserController.addUser(ru.otus.hw.dto.UserCreateDto): [Field error in object 'userCreateDto' on field 'role': rejected value [null]; codes [NotNull.userCreateDto.role,NotNull.role,NotNull.java.lang.String,NotNull]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [userCreateDto.role,role]; arguments []; default message [role]]; default message [не должно равняться null]] ]
2024-03-14T08:29:59.370+05:00  INFO 14304 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:29:59.373+05:00  INFO 14304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:29:59.377+05:00  INFO 14304 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:30:02.729+05:00  INFO 10772 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 10772 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:30:02.732+05:00  INFO 10772 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:30:04.312+05:00  INFO 10772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:30:04.465+05:00  INFO 10772 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 5 JPA repository interfaces.
2024-03-14T08:30:05.652+05:00  INFO 10772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:30:05.665+05:00  INFO 10772 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:30:05.666+05:00  INFO 10772 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:30:05.827+05:00  INFO 10772 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:30:05.828+05:00  INFO 10772 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3033 ms
2024-03-14T08:30:06.164+05:00  INFO 10772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:30:06.458+05:00  INFO 10772 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:30:06.461+05:00  INFO 10772 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:30:06.556+05:00  INFO 10772 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:30:06.617+05:00  INFO 10772 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:30:06.643+05:00  INFO 10772 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:30:06.928+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.934+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.942+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.948+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.956+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.957+05:00  INFO 10772 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:30:06.974+05:00  INFO 10772 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:30:06.980+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.981+05:00  INFO 10772 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:30:06.985+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:06.986+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:07.088+05:00  INFO 10772 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:30:07.089+05:00  INFO 10772 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 44ms
2024-03-14T08:30:07.095+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:07.096+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:07.108+05:00  INFO 10772 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:30:07.110+05:00  INFO 10772 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 12ms
2024-03-14T08:30:07.112+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:07.114+05:00  INFO 10772 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:30:07.116+05:00  INFO 10772 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:07.116+05:00  INFO 10772 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:30:07.259+05:00  INFO 10772 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:30:07.341+05:00  INFO 10772 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:30:07.345+05:00  INFO 10772 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:30:07.555+05:00  INFO 10772 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:30:07.784+05:00  INFO 10772 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:30:08.230+05:00  INFO 10772 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:30:09.340+05:00  INFO 10772 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:30:09.385+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:30:09.387+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:30:09.388+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:30:09.389+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:30:09.391+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:30:09.392+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:30:09.393+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:30:09.395+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:30:09.396+05:00  WARN 10772 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:30:09.403+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:30:09.404+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:30:09.409+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:30:09.410+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:30:09.410+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:30:09.411+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:30:09.412+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:30:09.414+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:30:09.414+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:30:09.415+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:30:09.415+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:30:09.416+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:30:09.416+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:30:09.417+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:30:09.417+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:30:09.418+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:30:09.418+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:30:09.427+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:30:09.432+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:30:09.433+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:30:09.434+05:00  WARN 10772 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:30:09.436+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:30:09.438+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:30:09.440+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:30:09.441+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:30:09.443+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:30:09.444+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:30:09.445+05:00 DEBUG 10772 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:30:09.448+05:00  INFO 10772 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:30:11.089+05:00  INFO 10772 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:30:11.176+05:00  INFO 10772 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17abef0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ccf06f1, org.springframework.security.web.context.SecurityContextHolderFilter@7bb6a1f4, org.springframework.security.web.header.HeaderWriterFilter@5fd0235c, org.springframework.security.web.authentication.logout.LogoutFilter@33544cc5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2afd8972, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@161974d1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6aefb242, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27215154, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38911759, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1b7c1c6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1455d0f5, org.springframework.security.web.access.ExceptionTranslationFilter@1c1ee02b, org.springframework.security.web.access.intercept.AuthorizationFilter@1633962a]
2024-03-14T08:30:11.923+05:00  INFO 10772 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:30:11.941+05:00  INFO 10772 --- [main] ru.otus.hw.Application                   : Started Application in 10.004 seconds (process running for 10.657)
2024-03-14T08:30:15.353+05:00  INFO 10772 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:30:15.354+05:00  INFO 10772 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:30:15.356+05:00  INFO 10772 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-14T08:30:33.563+05:00  INFO 10772 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:30:33.569+05:00  INFO 10772 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:30:33.574+05:00  INFO 10772 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:30:36.498+05:00  INFO 9124 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 9124 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:30:36.501+05:00  INFO 9124 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:30:41.183+05:00  INFO 9124 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:30:42.261+05:00  INFO 9124 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 962 ms. Found 5 JPA repository interfaces.
2024-03-14T08:30:44.072+05:00  INFO 9124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:30:44.085+05:00  INFO 9124 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:30:44.086+05:00  INFO 9124 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:30:44.276+05:00  INFO 9124 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:30:44.277+05:00  INFO 9124 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 7708 ms
2024-03-14T08:30:44.648+05:00  INFO 9124 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:30:44.986+05:00  INFO 9124 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:30:44.988+05:00  INFO 9124 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:30:45.101+05:00  INFO 9124 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:30:45.177+05:00  INFO 9124 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:30:45.218+05:00  INFO 9124 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:30:45.526+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.532+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.540+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.545+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.553+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.553+05:00  INFO 9124 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:30:45.576+05:00  INFO 9124 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:30:45.582+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.584+05:00  INFO 9124 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:30:45.588+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.590+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.707+05:00  INFO 9124 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:30:45.708+05:00  INFO 9124 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 56ms
2024-03-14T08:30:45.715+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.717+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.738+05:00  INFO 9124 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:30:45.741+05:00  INFO 9124 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-14T08:30:45.745+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.747+05:00  INFO 9124 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:30:45.751+05:00  INFO 9124 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:30:45.752+05:00  INFO 9124 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:30:45.885+05:00  INFO 9124 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:30:45.991+05:00  INFO 9124 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:30:46.000+05:00  INFO 9124 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:30:46.263+05:00  INFO 9124 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:30:46.490+05:00  INFO 9124 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:30:46.998+05:00  INFO 9124 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:30:48.148+05:00  INFO 9124 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:30:48.195+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:30:48.196+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:30:48.197+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:30:48.199+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:30:48.200+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:30:48.201+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:30:48.203+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:30:48.204+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:30:48.205+05:00  WARN 9124 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:30:48.213+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:30:48.214+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:30:48.220+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:30:48.221+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:30:48.221+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:30:48.222+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:30:48.223+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:30:48.225+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:30:48.226+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:30:48.227+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:30:48.227+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:30:48.228+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:30:48.228+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:30:48.229+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:30:48.230+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:30:48.230+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:30:48.231+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:30:48.242+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:30:48.247+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:30:48.249+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:30:48.251+05:00  WARN 9124 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:30:48.253+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:30:48.255+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:30:48.256+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:30:48.258+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:30:48.260+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:30:48.262+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:30:48.264+05:00 DEBUG 9124 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:30:48.268+05:00  INFO 9124 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:30:49.987+05:00  INFO 9124 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:30:50.061+05:00  INFO 9124 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45295bed, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fa98e98, org.springframework.security.web.context.SecurityContextHolderFilter@2f7e2481, org.springframework.security.web.header.HeaderWriterFilter@276ae21c, org.springframework.security.web.authentication.logout.LogoutFilter@28878a52, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6773c073, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f9b37b5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@786d8b3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@57cd77e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2afd8972, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3453cf27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42000298, org.springframework.security.web.access.ExceptionTranslationFilter@7a68818c, org.springframework.security.web.access.intercept.AuthorizationFilter@2d12a71f]
2024-03-14T08:30:50.785+05:00  INFO 9124 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:30:50.809+05:00  INFO 9124 --- [main] ru.otus.hw.Application                   : Started Application in 15.009 seconds (process running for 15.57)
2024-03-14T08:30:54.361+05:00  INFO 9124 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:30:54.362+05:00  INFO 9124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:30:54.370+05:00  INFO 9124 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 8 ms
2024-03-14T08:31:17.948+05:00 DEBUG 9124 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role,u1_0.surname from users u1_0 where u1_0.id=?
2024-03-14T08:31:17.989+05:00 ERROR 9124 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: jakarta.validation.ConstraintViolationException: Validation failed for classes [ru.otus.hw.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Email should be valid', propertyPath=email, rootBeanClass=class ru.otus.hw.entity.User, messageTemplate='Email should be valid'}
	ConstraintViolationImpl{interpolatedMessage='Phone number should be 10 digits', propertyPath=mobileNumber, rootBeanClass=class ru.otus.hw.entity.User, messageTemplate='Phone number should be 10 digits'}
]] with root cause

jakarta.validation.ConstraintViolationException: Validation failed for classes [ru.otus.hw.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Email should be valid', propertyPath=email, rootBeanClass=class ru.otus.hw.entity.User, messageTemplate='Email should be valid'}
	ConstraintViolationImpl{interpolatedMessage='Phone number should be 10 digits', propertyPath=mobileNumber, rootBeanClass=class ru.otus.hw.entity.User, messageTemplate='Phone number should be 10 digits'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:151) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreInsert(BeanValidationEventListener.java:81) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.preInsert(EntityIdentityInsertAction.java:186) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:75) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:674) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:363) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:277) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:180) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.saveTransientEntity(DefaultMergeEventListener.java:313) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsTransient(DefaultMergeEventListener.java:235) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.entityIsDetached(DefaultMergeEventListener.java:345) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.merge(DefaultMergeEventListener.java:149) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.doMerge(DefaultMergeEventListener.java:142) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:126) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.internal.DefaultMergeEventListener.onMerge(DefaultMergeEventListener.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionImpl.fireMerge(SessionImpl.java:848) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionImpl.merge(SessionImpl.java:834) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311) ~[spring-orm-6.0.11.jar:6.0.11]
	at jdk.proxy2/jdk.proxy2.$Proxy150.merge(Unknown Source) ~[na:na]
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:620) ~[spring-data-jpa-3.1.2.jar:3.1.2]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:72) ~[spring-data-commons-3.1.2.jar:3.1.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:164) ~[spring-data-jpa-3.1.2.jar:3.1.2]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:244) ~[spring-aop-6.0.11.jar:6.0.11]
	at jdk.proxy2/jdk.proxy2.$Proxy163.save(Unknown Source) ~[na:na]
	at ru.otus.hw.services.impl.UserServiceImpl.save(UserServiceImpl.java:66) ~[classes/:na]
	at ru.otus.hw.services.impl.UserServiceImpl.insert(UserServiceImpl.java:53) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.11.jar:6.0.11]
	at ru.otus.hw.services.impl.UserServiceImpl$$SpringCGLIB$$0.insert(<generated>) ~[classes/:na]
	at ru.otus.hw.controller.UserController.addUser(UserController.java:31) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-14T08:31:47.249+05:00  INFO 9124 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:31:47.253+05:00  INFO 9124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:31:47.257+05:00  INFO 9124 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:31:51.298+05:00  INFO 3716 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3716 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:31:51.301+05:00  INFO 3716 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:31:53.060+05:00  INFO 3716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:31:53.226+05:00  INFO 3716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 145 ms. Found 5 JPA repository interfaces.
2024-03-14T08:31:54.436+05:00  INFO 3716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:31:54.455+05:00  INFO 3716 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:31:54.456+05:00  INFO 3716 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:31:54.698+05:00  INFO 3716 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:31:54.698+05:00  INFO 3716 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3330 ms
2024-03-14T08:31:55.117+05:00  INFO 3716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:31:55.553+05:00  INFO 3716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:31:55.558+05:00  INFO 3716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:31:55.681+05:00  INFO 3716 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:31:55.750+05:00  INFO 3716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:31:55.795+05:00  INFO 3716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:31:56.221+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.228+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.240+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.248+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.258+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.259+05:00  INFO 3716 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:31:56.285+05:00  INFO 3716 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:31:56.290+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.291+05:00  INFO 3716 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:31:56.295+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.297+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.401+05:00  INFO 3716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:31:56.402+05:00  INFO 3716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 41ms
2024-03-14T08:31:56.408+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.410+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.427+05:00  INFO 3716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:31:56.431+05:00  INFO 3716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-14T08:31:56.435+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.437+05:00  INFO 3716 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:31:56.443+05:00  INFO 3716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:31:56.443+05:00  INFO 3716 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:31:56.612+05:00  INFO 3716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:31:56.755+05:00  INFO 3716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:31:56.760+05:00  INFO 3716 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:31:57.023+05:00  INFO 3716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:31:57.264+05:00  INFO 3716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:31:57.734+05:00  INFO 3716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:31:58.977+05:00  INFO 3716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:31:59.031+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:31:59.033+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:31:59.034+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:31:59.035+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:31:59.037+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:31:59.038+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:31:59.039+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:31:59.041+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:31:59.042+05:00  WARN 3716 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:31:59.049+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:31:59.051+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:31:59.056+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:31:59.057+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:31:59.057+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:31:59.058+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:31:59.060+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:31:59.061+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:31:59.062+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:31:59.064+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:31:59.064+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:31:59.065+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:31:59.066+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:31:59.067+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:31:59.067+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:31:59.068+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:31:59.070+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:31:59.089+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:31:59.094+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:31:59.096+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:31:59.097+05:00  WARN 3716 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:31:59.101+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:31:59.103+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:31:59.104+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:31:59.106+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:31:59.109+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:31:59.110+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:31:59.111+05:00 DEBUG 3716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:31:59.115+05:00  INFO 3716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:32:01.007+05:00  INFO 3716 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:32:01.095+05:00  INFO 3716 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e903c69, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1dc37d4f, org.springframework.security.web.context.SecurityContextHolderFilter@69ca71b3, org.springframework.security.web.header.HeaderWriterFilter@7ae49d52, org.springframework.security.web.authentication.logout.LogoutFilter@19cc697c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c3a8246, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58397dee, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4f290f46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f41db7f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@121ec5c2, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@2c634c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bfe398b, org.springframework.security.web.access.ExceptionTranslationFilter@3470c771, org.springframework.security.web.access.intercept.AuthorizationFilter@301608d]
2024-03-14T08:32:01.848+05:00  INFO 3716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:32:01.872+05:00  INFO 3716 --- [main] ru.otus.hw.Application                   : Started Application in 11.388 seconds (process running for 12.658)
2024-03-14T08:32:05.158+05:00  INFO 3716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:32:05.158+05:00  INFO 3716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:32:05.161+05:00  INFO 3716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-14T08:32:46.014+05:00 DEBUG 3716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role,u1_0.surname from users u1_0 where u1_0.id=?
2024-03-14T08:32:46.279+05:00 DEBUG 3716 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-14T08:32:57.281+05:00 DEBUG 3716 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:32:57.325+05:00 DEBUG 3716 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:34:33.800+05:00  INFO 3716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:34:33.803+05:00  INFO 3716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:34:33.807+05:00  INFO 3716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:34:37.701+05:00  INFO 1136 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 1136 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:34:37.705+05:00  INFO 1136 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:34:39.275+05:00  INFO 1136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:34:39.409+05:00  INFO 1136 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 5 JPA repository interfaces.
2024-03-14T08:34:40.560+05:00  INFO 1136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:34:40.585+05:00  INFO 1136 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:34:40.585+05:00  INFO 1136 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:34:40.786+05:00  INFO 1136 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:34:40.787+05:00  INFO 1136 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3017 ms
2024-03-14T08:34:41.313+05:00  INFO 1136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:34:41.713+05:00  INFO 1136 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:34:41.716+05:00  INFO 1136 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:34:41.822+05:00  INFO 1136 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:34:41.897+05:00  INFO 1136 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:34:41.927+05:00  INFO 1136 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:34:42.217+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.222+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.230+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.237+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.246+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.247+05:00  INFO 1136 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:34:42.271+05:00  INFO 1136 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:34:42.278+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.280+05:00  INFO 1136 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:34:42.284+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.285+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.387+05:00  INFO 1136 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:34:42.388+05:00  INFO 1136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 37ms
2024-03-14T08:34:42.394+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.396+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.413+05:00  INFO 1136 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:34:42.416+05:00  INFO 1136 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-14T08:34:42.418+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.420+05:00  INFO 1136 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:34:42.424+05:00  INFO 1136 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:34:42.424+05:00  INFO 1136 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:34:42.584+05:00  INFO 1136 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:34:42.697+05:00  INFO 1136 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:34:42.701+05:00  INFO 1136 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:34:42.966+05:00  INFO 1136 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:34:43.238+05:00  INFO 1136 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:34:43.758+05:00  INFO 1136 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:34:45.047+05:00  INFO 1136 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:34:45.110+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:34:45.111+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:34:45.112+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:34:45.114+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:34:45.116+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:34:45.117+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:34:45.118+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:34:45.120+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:34:45.121+05:00  WARN 1136 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:34:45.129+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:34:45.130+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists users add column mobile_number varchar(255)
2024-03-14T08:34:45.137+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:34:45.138+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:34:45.139+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:34:45.141+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:34:45.142+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:34:45.144+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:34:45.145+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:34:45.146+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:34:45.146+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:34:45.147+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:34:45.147+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:34:45.148+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:34:45.148+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:34:45.149+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:34:45.149+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:34:45.162+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:34:45.167+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:34:45.169+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:34:45.170+05:00  WARN 1136 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:34:45.172+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:34:45.174+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:34:45.176+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:34:45.178+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:34:45.180+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:34:45.181+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:34:45.184+05:00 DEBUG 1136 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:34:45.188+05:00  INFO 1136 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:34:47.059+05:00  INFO 1136 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:34:47.146+05:00  INFO 1136 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1915879c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58397dee, org.springframework.security.web.context.SecurityContextHolderFilter@25e9f5e6, org.springframework.security.web.header.HeaderWriterFilter@16cc5e51, org.springframework.security.web.authentication.logout.LogoutFilter@24c4370a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4df8f4e9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@12c55199, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4164ab12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bc45472, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c2d4398, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@184b24d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37bafef8, org.springframework.security.web.access.ExceptionTranslationFilter@47858d7c, org.springframework.security.web.access.intercept.AuthorizationFilter@f41db7f]
2024-03-14T08:34:47.895+05:00  INFO 1136 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:34:47.915+05:00  INFO 1136 --- [main] ru.otus.hw.Application                   : Started Application in 11.046 seconds (process running for 11.819)
2024-03-14T08:35:56.078+05:00  INFO 1136 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:35:56.083+05:00  INFO 1136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:35:56.086+05:00  INFO 1136 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:36:00.127+05:00  INFO 4156 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4156 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:36:00.130+05:00  INFO 4156 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:36:01.712+05:00  INFO 4156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:36:01.840+05:00  INFO 4156 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111 ms. Found 5 JPA repository interfaces.
2024-03-14T08:36:02.993+05:00  INFO 4156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:36:03.012+05:00  INFO 4156 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:36:03.012+05:00  INFO 4156 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:36:03.193+05:00  INFO 4156 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:36:03.194+05:00  INFO 4156 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2994 ms
2024-03-14T08:36:03.561+05:00  INFO 4156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:36:03.880+05:00  INFO 4156 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:36:03.884+05:00  INFO 4156 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:36:03.987+05:00  INFO 4156 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:36:04.067+05:00  INFO 4156 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:36:04.104+05:00  INFO 4156 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:36:04.385+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.391+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.399+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.405+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.414+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.415+05:00  INFO 4156 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:36:04.436+05:00  INFO 4156 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:36:04.440+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.441+05:00  INFO 4156 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:36:04.445+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.447+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.547+05:00  INFO 4156 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:36:04.548+05:00  INFO 4156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 37ms
2024-03-14T08:36:04.554+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.557+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.575+05:00  INFO 4156 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:36:04.578+05:00  INFO 4156 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 19ms
2024-03-14T08:36:04.580+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.582+05:00  INFO 4156 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:36:04.585+05:00  INFO 4156 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:36:04.585+05:00  INFO 4156 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:36:04.735+05:00  INFO 4156 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:36:04.830+05:00  INFO 4156 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:36:04.834+05:00  INFO 4156 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:36:05.080+05:00  INFO 4156 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:36:05.281+05:00  INFO 4156 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:36:05.809+05:00  INFO 4156 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:36:07.018+05:00  INFO 4156 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:36:07.066+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:36:07.068+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:36:07.069+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:36:07.070+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:36:07.072+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:36:07.073+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:36:07.074+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:36:07.075+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:36:07.077+05:00  WARN 4156 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:36:07.084+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:36:07.086+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists users alter column mobile_number set data type varchar(255)
2024-03-14T08:36:07.086+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:36:07.087+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:36:07.087+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:36:07.089+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:36:07.090+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:36:07.091+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:36:07.092+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:36:07.092+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:36:07.093+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:36:07.093+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:36:07.094+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:36:07.094+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:36:07.094+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:36:07.095+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:36:07.095+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:36:07.107+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:36:07.112+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:36:07.114+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:36:07.115+05:00  WARN 4156 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:36:07.117+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:36:07.119+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:36:07.120+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:36:07.122+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:36:07.123+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:36:07.125+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:36:07.127+05:00 DEBUG 4156 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:36:07.131+05:00  INFO 4156 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:36:08.737+05:00  INFO 4156 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:36:08.811+05:00  INFO 4156 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ea482b4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3470c771, org.springframework.security.web.context.SecurityContextHolderFilter@2a12048d, org.springframework.security.web.header.HeaderWriterFilter@295e9aef, org.springframework.security.web.authentication.logout.LogoutFilter@4832813d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24c4370a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47858d7c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d2ccd7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12e8c5c4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d6d88b1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@557fe039, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ae49d52, org.springframework.security.web.access.ExceptionTranslationFilter@38c840fb, org.springframework.security.web.access.intercept.AuthorizationFilter@39b50027]
2024-03-14T08:36:09.625+05:00  INFO 4156 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:36:09.644+05:00  INFO 4156 --- [main] ru.otus.hw.Application                   : Started Application in 10.348 seconds (process running for 11.084)
2024-03-14T08:36:23.333+05:00  INFO 4156 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:36:23.335+05:00  INFO 4156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:36:23.337+05:00  INFO 4156 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-14T08:36:45.179+05:00 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role,u1_0.surname from users u1_0 where u1_0.id=?
2024-03-14T08:36:45.245+05:00 DEBUG 4156 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-14T08:36:45.559+05:00 DEBUG 4156 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:36:45.606+05:00 DEBUG 4156 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-14T08:38:41.493+05:00  INFO 4156 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:38:41.502+05:00  INFO 4156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-14T08:38:41.506+05:00  INFO 4156 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-14T08:38:48.636+05:00  INFO 6172 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 6172 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-14T08:38:48.640+05:00  INFO 6172 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-14T08:38:50.217+05:00  INFO 6172 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-14T08:38:50.332+05:00  INFO 6172 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 100 ms. Found 5 JPA repository interfaces.
2024-03-14T08:38:51.435+05:00  INFO 6172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-14T08:38:51.449+05:00  INFO 6172 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-14T08:38:51.449+05:00  INFO 6172 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-14T08:38:51.606+05:00  INFO 6172 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-14T08:38:51.607+05:00  INFO 6172 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2895 ms
2024-03-14T08:38:51.951+05:00  INFO 6172 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-14T08:38:52.259+05:00  INFO 6172 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-14T08:38:52.262+05:00  INFO 6172 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-14T08:38:52.356+05:00  INFO 6172 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-14T08:38:52.433+05:00  INFO 6172 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-14T08:38:52.466+05:00  INFO 6172 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-14T08:38:52.764+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.770+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.777+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.782+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.791+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.792+05:00  INFO 6172 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-14T08:38:52.815+05:00  INFO 6172 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-14T08:38:52.820+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.821+05:00  INFO 6172 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-14T08:38:52.825+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.827+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.932+05:00  INFO 6172 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:38:52.933+05:00  INFO 6172 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 43ms
2024-03-14T08:38:52.940+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.943+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.963+05:00  INFO 6172 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-14T08:38:52.965+05:00  INFO 6172 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-14T08:38:52.967+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.969+05:00  INFO 6172 --- [main] liquibase                                : Update command completed successfully.
2024-03-14T08:38:52.972+05:00  INFO 6172 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-14T08:38:52.973+05:00  INFO 6172 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-14T08:38:53.119+05:00  INFO 6172 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-14T08:38:53.237+05:00  INFO 6172 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-14T08:38:53.242+05:00  INFO 6172 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-14T08:38:53.484+05:00  INFO 6172 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:38:53.717+05:00  INFO 6172 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-14T08:38:54.195+05:00  INFO 6172 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-14T08:38:55.473+05:00  INFO 6172 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-14T08:38:55.527+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-14T08:38:55.529+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-14T08:38:55.531+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-14T08:38:55.533+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-14T08:38:55.534+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-14T08:38:55.535+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from timestamp(6), date_to timestamp(6), primary key (id))
2024-03-14T08:38:55.537+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-14T08:38:55.538+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))
2024-03-14T08:38:55.541+05:00  WARN 6172 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id))" via JDBC [Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier";]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:315) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:80) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:232) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Синтаксическая ошибка в выражении SQL "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; ожидалось "identifier"
Syntax error in SQL statement "create table scores (id bigint generated by default as identity, name varchar(255), [*]value integer, primary key (id))"; expected "identifier"; SQL statement:
create table scores (id bigint generated by default as identity, name varchar(255), value integer, primary key (id)) [42001-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getSyntaxError(DbException.java:261) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.readIdentifier(Parser.java:5764) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseTableColumnDefinition(Parser.java:9491) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreateTable(Parser.java:9436) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parseCreate(Parser.java:6905) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parsePrepared(Parser.java:771) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:697) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.parse(Parser.java:669) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Parser.prepareCommand(Parser.java:577) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:634) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:557) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1116) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:237) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 38 common frames omitted

2024-03-14T08:38:55.549+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists users alter column email set data type varchar(255)
2024-03-14T08:38:55.550+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists users alter column mobile_number set data type varchar(255)
2024-03-14T08:38:55.551+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists users alter column name set data type varchar(255)
2024-03-14T08:38:55.552+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists users alter column role set data type varchar(255)
2024-03-14T08:38:55.552+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists users alter column surname set data type varchar(255)
2024-03-14T08:38:55.554+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-14T08:38:55.556+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-14T08:38:55.557+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-14T08:38:55.558+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-14T08:38:55.558+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-14T08:38:55.559+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-14T08:38:55.560+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-14T08:38:55.560+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-14T08:38:55.561+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-14T08:38:55.562+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-14T08:38:55.562+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-14T08:38:55.563+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-14T08:38:55.575+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-14T08:38:55.580+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-14T08:38:55.583+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-14T08:38:55.584+05:00  WARN 6172 --- [main] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]

org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores" via JDBC [Таблица "SCORES" не найдена
Table "SCORES" not found;]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:574) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:514) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applyForeignKeys(AbstractSchemaMigrator.java:446) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:268) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:117) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at java.base/java.util.HashMap.forEach(HashMap.java:1421) ~[na:na]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:292) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1455) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1155) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:932) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Таблица "SCORES" не найдена
Table "SCORES" not found; SQL statement:
alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores [42102-220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:223) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.message.DbException.get(DbException.java:199) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.tryUpdate(AlterTableAddConstraint.java:204) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTableAddConstraint.update(AlterTableAddConstraint.java:74) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.ddl.AlterTable.update(AlterTable.java:46) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.CommandContainer.update(CommandContainer.java:169) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.command.Command.executeUpdate(Command.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:252) ~[h2-2.2.220.jar:2.2.220]
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:223) ~[h2-2.2.220.jar:2.2.220]
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.6.Final.jar:6.2.6.Final]
	... 37 common frames omitted

2024-03-14T08:38:55.586+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-14T08:38:55.588+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-14T08:38:55.590+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-14T08:38:55.592+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-14T08:38:55.594+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-14T08:38:55.596+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-14T08:38:55.598+05:00 DEBUG 6172 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-14T08:38:55.605+05:00  INFO 6172 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-14T08:38:57.390+05:00  INFO 6172 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-14T08:38:57.479+05:00  INFO 6172 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@197bf5ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@681ba763, org.springframework.security.web.context.SecurityContextHolderFilter@ab5e63, org.springframework.security.web.header.HeaderWriterFilter@70c3483b, org.springframework.security.web.authentication.logout.LogoutFilter@13056efe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@237e4ed9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@39b50027, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@19cc697c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b12c870, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54c15e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4756c8f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33012e6f, org.springframework.security.web.access.ExceptionTranslationFilter@5565d718, org.springframework.security.web.access.intercept.AuthorizationFilter@6645c1f]
2024-03-14T08:38:58.197+05:00  INFO 6172 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-14T08:38:58.219+05:00  INFO 6172 --- [main] ru.otus.hw.Application                   : Started Application in 10.368 seconds (process running for 11.146)
2024-03-14T08:39:05.293+05:00  INFO 6172 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-14T08:39:05.294+05:00  INFO 6172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-14T08:39:05.296+05:00  INFO 6172 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-14T08:39:25.857+05:00 DEBUG 6172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role,u1_0.surname from users u1_0 where u1_0.id=?
2024-03-14T08:39:25.921+05:00 DEBUG 6172 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-14T08:39:26.195+05:00 DEBUG 6172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-14T08:39:26.228+05:00 DEBUG 6172 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
