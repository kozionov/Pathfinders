2024-03-15T07:57:55.747+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 8640 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T07:57:55.766+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T07:57:57.764+05:00  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T07:57:57.920+05:00  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 136 ms. Found 8 JPA repository interfaces.
2024-03-15T07:57:59.131+05:00  INFO 8640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T07:57:59.158+05:00  INFO 8640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T07:57:59.158+05:00  INFO 8640 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T07:57:59.371+05:00  INFO 8640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T07:57:59.372+05:00  INFO 8640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3524 ms
2024-03-15T07:57:59.811+05:00  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T07:58:00.165+05:00  INFO 8640 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T07:58:00.169+05:00  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T07:58:00.284+05:00  INFO 8640 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T07:58:00.368+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T07:58:00.415+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T07:58:00.715+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.722+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.732+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.739+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.749+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.750+05:00  INFO 8640 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T07:58:00.776+05:00  INFO 8640 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T07:58:00.783+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.784+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T07:58:00.789+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.791+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.908+05:00  INFO 8640 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:58:00.909+05:00  INFO 8640 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-15T07:58:00.915+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.917+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.941+05:00  INFO 8640 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:58:00.944+05:00  INFO 8640 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 25ms
2024-03-15T07:58:00.947+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.949+05:00  INFO 8640 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T07:58:00.954+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.955+05:00  INFO 8640 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T07:58:01.130+05:00  INFO 8640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T07:58:01.295+05:00  INFO 8640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T07:58:01.299+05:00  INFO 8640 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T07:58:01.577+05:00  INFO 8640 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:58:01.801+05:00  INFO 8640 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T07:58:02.296+05:00  INFO 8640 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:58:03.404+05:00  INFO 8640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T07:58:03.458+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T07:58:03.459+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T07:58:03.461+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T07:58:03.461+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T07:58:03.463+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T07:58:03.464+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T07:58:03.466+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T07:58:03.468+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T07:58:03.488+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T07:58:03.490+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T07:58:03.492+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T07:58:03.492+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T07:58:03.493+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T07:58:03.494+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T07:58:03.495+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T07:58:03.495+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T07:58:03.497+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T07:58:03.509+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T07:58:03.513+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T07:58:03.515+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T07:58:03.517+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T07:58:03.518+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T07:58:03.519+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T07:58:03.521+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T07:58:03.524+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T07:58:03.525+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T07:58:03.527+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T07:58:03.529+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T07:58:03.533+05:00  INFO 8640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T07:58:05.370+05:00  INFO 8640 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T07:58:05.444+05:00  INFO 8640 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56540a58, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c0a8ad, org.springframework.security.web.context.SecurityContextHolderFilter@20834c45, org.springframework.security.web.header.HeaderWriterFilter@333cedbd, org.springframework.security.web.authentication.logout.LogoutFilter@296b758, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49ed3b76, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43076326, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@10bf2185, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10d56aab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a7deba5, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@ca9ffc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14c06f50, org.springframework.security.web.access.ExceptionTranslationFilter@7f50b08a, org.springframework.security.web.access.intercept.AuthorizationFilter@6942ff10]
2024-03-15T07:58:06.199+05:00  INFO 8640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T07:58:06.223+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : Started Application in 11.207 seconds (process running for 13.552)
2024-03-15T07:58:14.400+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T07:58:14.400+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T07:58:14.406+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-03-15T07:58:16.055+05:00 DEBUG 8640 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T07:58:22.654+05:00 DEBUG 8640 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T07:58:22.762+05:00 DEBUG 8640 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T07:59:43.001+05:00  INFO 8640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T07:59:43.005+05:00  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T07:59:43.010+05:00  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T07:59:51.474+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3980 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T07:59:51.477+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T07:59:53.118+05:00  INFO 3980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T07:59:53.278+05:00  INFO 3980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-15T07:59:54.566+05:00  INFO 3980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T07:59:54.585+05:00  INFO 3980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T07:59:54.586+05:00  INFO 3980 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T07:59:54.802+05:00  INFO 3980 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T07:59:54.803+05:00  INFO 3980 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3263 ms
2024-03-15T07:59:55.235+05:00  INFO 3980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T07:59:55.584+05:00  INFO 3980 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T07:59:55.588+05:00  INFO 3980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T07:59:55.704+05:00  INFO 3980 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T07:59:55.774+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T07:59:55.816+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T07:59:56.108+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.114+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.122+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.128+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.139+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.140+05:00  INFO 3980 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T07:59:56.165+05:00  INFO 3980 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T07:59:56.172+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.174+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T07:59:56.177+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.179+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.305+05:00  INFO 3980 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:59:56.306+05:00  INFO 3980 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T07:59:56.314+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.317+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.343+05:00  INFO 3980 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:59:56.348+05:00  INFO 3980 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-15T07:59:56.352+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.354+05:00  INFO 3980 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T07:59:56.360+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.360+05:00  INFO 3980 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T07:59:56.508+05:00  INFO 3980 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T07:59:56.672+05:00  INFO 3980 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T07:59:56.676+05:00  INFO 3980 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T07:59:56.938+05:00  INFO 3980 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:59:57.172+05:00  INFO 3980 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T07:59:57.686+05:00  INFO 3980 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:59:58.903+05:00  INFO 3980 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T07:59:58.977+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T07:59:58.979+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T07:59:58.980+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T07:59:58.981+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T07:59:58.983+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T07:59:58.984+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T07:59:58.985+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T07:59:58.986+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T07:59:58.989+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T07:59:58.991+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T07:59:58.992+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T07:59:58.993+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T07:59:58.994+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T07:59:58.994+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T07:59:58.995+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T07:59:58.996+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T07:59:58.997+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T07:59:58.997+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T07:59:58.998+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T07:59:58.998+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T07:59:59.013+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T07:59:59.021+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T07:59:59.023+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T07:59:59.024+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T07:59:59.025+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T07:59:59.027+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T07:59:59.029+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T07:59:59.031+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T07:59:59.033+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T07:59:59.035+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T07:59:59.037+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T07:59:59.041+05:00  INFO 3980 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:00:01.010+05:00  INFO 3980 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:00:01.089+05:00  INFO 3980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c12f87d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3207e6de, org.springframework.security.web.context.SecurityContextHolderFilter@2b39e77d, org.springframework.security.web.header.HeaderWriterFilter@29244152, org.springframework.security.web.authentication.logout.LogoutFilter@6942ff10, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b0f50d8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4eb0ed44, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@637bf67c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36afd06f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@746f1505, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5a4a8a33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b88dd58, org.springframework.security.web.access.ExceptionTranslationFilter@3a5e591b, org.springframework.security.web.access.intercept.AuthorizationFilter@c521a79]
2024-03-15T08:00:01.866+05:00  INFO 3980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:00:01.890+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : Started Application in 11.194 seconds (process running for 11.962)
2024-03-15T08:00:07.342+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:00:07.342+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:00:07.344+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:00:08.200+05:00 ERROR 3980 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext] with root cause

java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext
	at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:268) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:221) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:149) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:01:25.474+05:00  INFO 3980 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:01:25.477+05:00  INFO 3980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:01:25.483+05:00  INFO 3980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:01:32.365+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7880 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:01:32.368+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:01:34.053+05:00  INFO 7880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:01:34.182+05:00  INFO 7880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111 ms. Found 8 JPA repository interfaces.
2024-03-15T08:01:35.317+05:00  INFO 7880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:01:35.333+05:00  INFO 7880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:01:35.333+05:00  INFO 7880 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:01:35.506+05:00  INFO 7880 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:01:35.507+05:00  INFO 7880 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3072 ms
2024-03-15T08:01:35.907+05:00  INFO 7880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:01:41.443+05:00  INFO 7880 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:01:41.455+05:00  INFO 7880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:01:41.794+05:00  INFO 7880 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:01:41.934+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:01:41.978+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:01:42.399+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.407+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.416+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.423+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.433+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.434+05:00  INFO 7880 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:01:42.462+05:00  INFO 7880 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:01:42.468+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.470+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:01:42.475+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.477+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.622+05:00  INFO 7880 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:01:42.623+05:00  INFO 7880 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 65ms
2024-03-15T08:01:42.633+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.635+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.668+05:00  INFO 7880 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:01:42.673+05:00  INFO 7880 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 34ms
2024-03-15T08:01:42.676+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.679+05:00  INFO 7880 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:01:42.684+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.685+05:00  INFO 7880 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:01:42.850+05:00  INFO 7880 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:01:42.987+05:00  INFO 7880 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:01:42.991+05:00  INFO 7880 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:01:43.300+05:00  INFO 7880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:01:43.678+05:00  INFO 7880 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:01:44.373+05:00  INFO 7880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:01:45.536+05:00  INFO 7880 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:01:45.581+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:01:45.582+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:01:45.584+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:01:45.585+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:01:45.587+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:01:45.588+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:01:45.589+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:01:45.591+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:01:45.593+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:01:45.595+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:01:45.596+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:01:45.596+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:01:45.597+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:01:45.598+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:01:45.599+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:01:45.599+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:01:45.600+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:01:45.600+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:01:45.601+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:01:45.602+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:01:45.616+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:01:45.621+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:01:45.623+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:01:45.625+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:01:45.627+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:01:45.629+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:01:45.630+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:01:45.633+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:01:45.635+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:01:45.637+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:01:45.639+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:01:45.645+05:00  INFO 7880 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:01:47.660+05:00  INFO 7880 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:01:47.761+05:00  INFO 7880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bd29a01, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a4a8a33, org.springframework.security.web.context.SecurityContextHolderFilter@43076326, org.springframework.security.web.header.HeaderWriterFilter@5c96cbe7, org.springframework.security.web.authentication.logout.LogoutFilter@66fd9613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6230a15a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1507bc3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4a3363c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b81a499, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36afd06f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6b0f50d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63cf6497, org.springframework.security.web.access.ExceptionTranslationFilter@3a7deba5, org.springframework.security.web.access.intercept.AuthorizationFilter@14c06f50]
2024-03-15T08:01:48.678+05:00  INFO 7880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:01:48.704+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : Started Application in 17.086 seconds (process running for 17.834)
2024-03-15T08:01:52.314+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:01:52.315+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:01:52.317+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:01:53.352+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:01:53.379+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:01:53.398+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:02:29.742+05:00  INFO 7880 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:02:29.748+05:00  INFO 7880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:02:29.753+05:00  INFO 7880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:02:32.968+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4340 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:02:32.971+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:02:34.784+05:00  INFO 4340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:02:34.939+05:00  INFO 4340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129 ms. Found 8 JPA repository interfaces.
2024-03-15T08:02:36.065+05:00  INFO 4340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:02:36.080+05:00  INFO 4340 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:02:36.081+05:00  INFO 4340 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:02:36.280+05:00  INFO 4340 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:02:36.280+05:00  INFO 4340 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3246 ms
2024-03-15T08:02:36.683+05:00  INFO 4340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:02:37.027+05:00  INFO 4340 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:02:37.031+05:00  INFO 4340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:02:37.151+05:00  INFO 4340 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:02:37.221+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:02:37.268+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:02:37.551+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.557+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.566+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.572+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.582+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.582+05:00  INFO 4340 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:02:37.606+05:00  INFO 4340 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:02:37.611+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.613+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:02:37.616+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.617+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.720+05:00  INFO 4340 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:02:37.721+05:00  INFO 4340 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 44ms
2024-03-15T08:02:37.728+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.730+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.750+05:00  INFO 4340 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:02:37.752+05:00  INFO 4340 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 20ms
2024-03-15T08:02:37.755+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.757+05:00  INFO 4340 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:02:37.762+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.763+05:00  INFO 4340 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:02:37.908+05:00  INFO 4340 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:02:38.018+05:00  INFO 4340 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:02:38.023+05:00  INFO 4340 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:02:38.258+05:00  INFO 4340 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:02:38.480+05:00  INFO 4340 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:02:39.023+05:00  INFO 4340 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:02:40.131+05:00  INFO 4340 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:02:40.178+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:02:40.180+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:02:40.181+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:02:40.182+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:02:40.184+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:02:40.185+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:02:40.187+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:02:40.188+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:02:40.190+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:02:40.192+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:02:40.194+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:02:40.194+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:02:40.195+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:02:40.195+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:02:40.196+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:02:40.196+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:02:40.197+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:02:40.197+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:02:40.198+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:02:40.198+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:02:40.209+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:02:40.213+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:02:40.215+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:02:40.216+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:02:40.218+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:02:40.219+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:02:40.221+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:02:40.223+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:02:40.225+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:02:40.226+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:02:40.228+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:02:40.232+05:00  INFO 4340 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:02:42.038+05:00  INFO 4340 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:02:42.116+05:00  INFO 4340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a4a8a33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a3363c9, org.springframework.security.web.context.SecurityContextHolderFilter@29244152, org.springframework.security.web.header.HeaderWriterFilter@6f2bb798, org.springframework.security.web.authentication.logout.LogoutFilter@5c3f9618, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7225f871, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@202ed88d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@63cf6497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53dfb073, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18dda2e1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@36b4cbb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c12f87d, org.springframework.security.web.access.ExceptionTranslationFilter@78fc5eb, org.springframework.security.web.access.intercept.AuthorizationFilter@6230a15a]
2024-03-15T08:02:42.829+05:00  INFO 4340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:02:42.848+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : Started Application in 10.642 seconds (process running for 11.405)
2024-03-15T08:05:29.536+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:05:29.537+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:05:29.539+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:05:30.712+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:05:30.737+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:05:30.764+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:06:02.008+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:06:02.009+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:06:02.010+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:07:31.293+05:00  INFO 4340 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:07:31.298+05:00  INFO 4340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:07:31.303+05:00  INFO 4340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:07:34.459+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 1712 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:07:34.463+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:07:36.103+05:00  INFO 1712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:07:36.234+05:00  INFO 1712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 8 JPA repository interfaces.
2024-03-15T08:07:37.445+05:00  INFO 1712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:07:37.460+05:00  INFO 1712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:07:37.460+05:00  INFO 1712 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:07:37.646+05:00  INFO 1712 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:07:37.647+05:00  INFO 1712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3117 ms
2024-03-15T08:07:38.050+05:00  INFO 1712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:07:38.372+05:00  INFO 1712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:07:38.376+05:00  INFO 1712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:07:38.475+05:00  INFO 1712 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:07:38.537+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:07:38.570+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:07:38.856+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.863+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.871+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.876+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.884+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.885+05:00  INFO 1712 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:07:38.906+05:00  INFO 1712 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:07:38.911+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.913+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:07:38.916+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.918+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.025+05:00  INFO 1712 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:07:39.025+05:00  INFO 1712 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 43ms
2024-03-15T08:07:39.031+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.033+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.049+05:00  INFO 1712 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:07:39.051+05:00  INFO 1712 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-15T08:07:39.053+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.055+05:00  INFO 1712 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:07:39.058+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.059+05:00  INFO 1712 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:07:39.209+05:00  INFO 1712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:07:39.315+05:00  INFO 1712 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:07:39.320+05:00  INFO 1712 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:07:39.557+05:00  INFO 1712 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:07:39.786+05:00  INFO 1712 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:07:40.282+05:00  INFO 1712 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:07:41.361+05:00  INFO 1712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:07:41.409+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:07:41.411+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:07:41.412+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:07:41.414+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:07:41.415+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:07:41.416+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:07:41.418+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:07:41.419+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:07:41.421+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:07:41.423+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:07:41.425+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:07:41.425+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:07:41.426+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:07:41.427+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:07:41.428+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:07:41.429+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:07:41.430+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:07:41.430+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:07:41.431+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:07:41.431+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:07:41.448+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:07:41.452+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:07:41.454+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:07:41.455+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:07:41.457+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:07:41.459+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:07:41.460+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:07:41.463+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:07:41.465+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:07:41.466+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:07:41.468+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:07:41.472+05:00  INFO 1712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:07:43.179+05:00  INFO 1712 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:07:43.254+05:00  INFO 1712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ac0c3aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ceeb762, org.springframework.security.web.context.SecurityContextHolderFilter@7a5b561b, org.springframework.security.web.header.HeaderWriterFilter@69a8191e, org.springframework.security.web.authentication.logout.LogoutFilter@6f2bb798, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c3c1963, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3de8e614, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3b75fdd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bb9bad9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3705e3fb, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4b05a9b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504f2bcd, org.springframework.security.web.access.ExceptionTranslationFilter@728cf276, org.springframework.security.web.access.intercept.AuthorizationFilter@40f7fb45]
2024-03-15T08:07:44.015+05:00  INFO 1712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:07:44.036+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : Started Application in 10.343 seconds (process running for 11.048)
2024-03-15T08:07:47.757+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:07:47.758+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:07:47.760+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:08:00.904+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:00.925+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:00.939+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:08.800+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:08.801+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:08.802+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:30.996+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:30.997+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:30.998+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:12.677+05:00  INFO 1712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:09:12.684+05:00  INFO 1712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:09:12.687+05:00  INFO 1712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:09:16.130+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 6056 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:09:16.134+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:09:17.899+05:00  INFO 6056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:09:18.059+05:00  INFO 6056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-15T08:09:19.175+05:00  INFO 6056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:09:19.194+05:00  INFO 6056 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:09:19.195+05:00  INFO 6056 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:09:19.378+05:00  INFO 6056 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:09:19.379+05:00  INFO 6056 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3167 ms
2024-03-15T08:09:19.747+05:00  INFO 6056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:09:20.076+05:00  INFO 6056 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:09:20.079+05:00  INFO 6056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:09:20.184+05:00  INFO 6056 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:09:20.254+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:09:20.281+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:09:20.556+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.561+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.567+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.573+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.582+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.582+05:00  INFO 6056 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:09:20.606+05:00  INFO 6056 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:09:20.612+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.612+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:09:20.616+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.617+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.728+05:00  INFO 6056 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:09:20.728+05:00  INFO 6056 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T08:09:20.735+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.736+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.752+05:00  INFO 6056 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:09:20.755+05:00  INFO 6056 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-15T08:09:20.756+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.758+05:00  INFO 6056 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:09:20.762+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.762+05:00  INFO 6056 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:09:20.916+05:00  INFO 6056 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:09:21.029+05:00  INFO 6056 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:09:21.033+05:00  INFO 6056 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:09:21.283+05:00  INFO 6056 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:09:21.507+05:00  INFO 6056 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:09:21.991+05:00  INFO 6056 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:09:23.189+05:00  INFO 6056 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:09:23.246+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:09:23.247+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:09:23.249+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:09:23.250+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:09:23.253+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:09:23.254+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:09:23.256+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:09:23.258+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:09:23.260+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:09:23.262+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:09:23.264+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:09:23.265+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:09:23.266+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:09:23.267+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:09:23.268+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:09:23.268+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:09:23.269+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:09:23.270+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:09:23.271+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:09:23.272+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:09:23.286+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:09:23.293+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:09:23.295+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:09:23.296+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:09:23.298+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:09:23.299+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:09:23.302+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:09:23.305+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:09:23.307+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:09:23.309+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:09:23.311+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:09:23.317+05:00  INFO 6056 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:09:25.216+05:00  INFO 6056 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:09:25.298+05:00  INFO 6056 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c3c1963, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb0ed44, org.springframework.security.web.context.SecurityContextHolderFilter@75af5f2a, org.springframework.security.web.header.HeaderWriterFilter@4057eb76, org.springframework.security.web.authentication.logout.LogoutFilter@10d56aab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18dda2e1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34fe89a5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@188caeaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@728cf276, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1621264e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1507bc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67de5328, org.springframework.security.web.access.ExceptionTranslationFilter@76140ca5, org.springframework.security.web.access.intercept.AuthorizationFilter@36afd06f]
2024-03-15T08:09:26.107+05:00  INFO 6056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:09:26.127+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : Started Application in 10.815 seconds (process running for 11.56)
2024-03-15T08:09:29.242+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:09:29.244+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:09:29.246+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:09:30.375+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:09:30.402+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:30.426+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:43.377+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:09:43.378+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:43.380+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:12:25.694+05:00  INFO 6056 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:12:25.698+05:00  INFO 6056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:12:25.703+05:00  INFO 6056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:12:29.100+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4316 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:12:29.104+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:12:30.874+05:00  INFO 4316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:12:31.036+05:00  INFO 4316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 8 JPA repository interfaces.
2024-03-15T08:12:32.268+05:00  INFO 4316 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:12:32.283+05:00  INFO 4316 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:12:32.284+05:00  INFO 4316 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:12:32.486+05:00  INFO 4316 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:12:32.487+05:00  INFO 4316 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3318 ms
2024-03-15T08:12:32.903+05:00  INFO 4316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:12:33.257+05:00  INFO 4316 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:12:33.260+05:00  INFO 4316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:12:33.361+05:00  INFO 4316 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:12:33.428+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:12:33.466+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:12:33.791+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.797+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.808+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.815+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.829+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.829+05:00  INFO 4316 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:12:33.860+05:00  INFO 4316 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:12:33.867+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.869+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:12:33.872+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.875+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.004+05:00  INFO 4316 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:12:34.005+05:00  INFO 4316 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T08:12:34.017+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.020+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.048+05:00  INFO 4316 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:12:34.052+05:00  INFO 4316 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-15T08:12:34.056+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.060+05:00  INFO 4316 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:12:34.065+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.066+05:00  INFO 4316 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:12:34.240+05:00  INFO 4316 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:12:34.389+05:00  INFO 4316 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:12:34.395+05:00  INFO 4316 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:12:34.721+05:00  INFO 4316 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:12:34.998+05:00  INFO 4316 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:12:35.568+05:00  INFO 4316 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:12:36.735+05:00  INFO 4316 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:12:36.784+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:12:36.785+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:12:36.786+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:12:36.788+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:12:36.790+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:12:36.791+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:12:36.792+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:12:36.794+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:12:36.796+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:12:36.798+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:12:36.799+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:12:36.800+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:12:36.801+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:12:36.801+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:12:36.802+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:12:36.803+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:12:36.803+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:12:36.804+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:12:36.804+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:12:36.805+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:12:36.816+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:12:36.821+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:12:36.823+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:12:36.824+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:12:36.826+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:12:36.827+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:12:36.828+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:12:36.831+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:12:36.832+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:12:36.834+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:12:36.835+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:12:36.840+05:00  INFO 4316 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:12:38.569+05:00  INFO 4316 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:12:38.647+05:00  INFO 4316 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45d28ab7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51dd74a0, org.springframework.security.web.context.SecurityContextHolderFilter@71acf065, org.springframework.security.web.header.HeaderWriterFilter@bb9bad9, org.springframework.security.web.authentication.logout.LogoutFilter@53dfb073, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@296b758, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7f50b08a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@78652c15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cfe7be3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3de8e614, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3b75fdd0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@372b2573, org.springframework.security.web.access.ExceptionTranslationFilter@7a5b561b, org.springframework.security.web.access.intercept.AuthorizationFilter@4b05a9b1]
2024-03-15T08:12:39.366+05:00  INFO 4316 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:12:39.385+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : Started Application in 11.086 seconds (process running for 11.831)
2024-03-15T08:12:43.708+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:12:43.708+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:12:43.712+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T08:12:54.679+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:12:54.699+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:12:54.714+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:13:53.933+05:00  INFO 4316 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:13:53.940+05:00  INFO 4316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:13:53.944+05:00  INFO 4316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:13:57.422+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 14004 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:13:57.425+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:13:59.267+05:00  INFO 14004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:13:59.413+05:00  INFO 14004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 8 JPA repository interfaces.
2024-03-15T08:14:00.660+05:00  INFO 14004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:14:00.681+05:00  INFO 14004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:14:00.682+05:00  INFO 14004 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:14:00.916+05:00  INFO 14004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:14:00.916+05:00  INFO 14004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3424 ms
2024-03-15T08:14:01.366+05:00  INFO 14004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:14:01.696+05:00  INFO 14004 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:14:01.699+05:00  INFO 14004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:14:01.797+05:00  INFO 14004 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:14:01.861+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:14:01.891+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:14:02.197+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.205+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.222+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.231+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.243+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.245+05:00  INFO 14004 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:14:02.279+05:00  INFO 14004 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:02.286+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.288+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:02.292+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.295+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.419+05:00  INFO 14004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:02.421+05:00  INFO 14004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T08:14:02.431+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.434+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.459+05:00  INFO 14004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:02.464+05:00  INFO 14004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-15T08:14:02.467+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.470+05:00  INFO 14004 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:14:02.475+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.476+05:00  INFO 14004 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:14:02.605+05:00  INFO 14004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:14:02.742+05:00  INFO 14004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:14:02.746+05:00  INFO 14004 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:14:03.007+05:00  INFO 14004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:03.241+05:00  INFO 14004 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:14:03.797+05:00  INFO 14004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:04.937+05:00  INFO 14004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:14:04.985+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:14:04.986+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:14:04.987+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:14:04.989+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:14:04.990+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:14:04.991+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:14:04.993+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:14:04.995+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:14:04.998+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:14:04.999+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:14:05.001+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:14:05.001+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:14:05.002+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:14:05.003+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:14:05.003+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:14:05.004+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:14:05.004+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:14:05.005+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:14:05.005+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:14:05.006+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:14:05.016+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:14:05.020+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:14:05.022+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:14:05.023+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:14:05.025+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:14:05.026+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:14:05.028+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:14:05.031+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:14:05.032+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:14:05.034+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:14:05.036+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:14:05.041+05:00  INFO 14004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:07.002+05:00  INFO 14004 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:14:07.090+05:00  INFO 14004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c3f9618, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@deb0c0e, org.springframework.security.web.context.SecurityContextHolderFilter@42b6acc2, org.springframework.security.web.header.HeaderWriterFilter@cfe7be3, org.springframework.security.web.authentication.logout.LogoutFilter@7c3bac88, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@504f2bcd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20834c45, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6385b07d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a819769, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f50b08a, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@78652c15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6942ff10, org.springframework.security.web.access.ExceptionTranslationFilter@71acf065, org.springframework.security.web.access.intercept.AuthorizationFilter@3b75fdd0]
2024-03-15T08:14:07.875+05:00  INFO 14004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:14:07.898+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : Started Application in 11.264 seconds (process running for 12.041)
2024-03-15T08:14:13.392+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:14:13.393+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:14:13.395+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:14:14.517+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:14:14.547+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:14:14.568+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:14:45.695+05:00  INFO 14004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:45.699+05:00  INFO 14004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:14:45.703+05:00  INFO 14004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:14:48.945+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11976 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:14:48.948+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:14:50.631+05:00  INFO 11976 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:14:50.783+05:00  INFO 11976 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 8 JPA repository interfaces.
2024-03-15T08:14:52.013+05:00  INFO 11976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:14:52.031+05:00  INFO 11976 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:14:52.032+05:00  INFO 11976 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:14:52.228+05:00  INFO 11976 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:14:52.229+05:00  INFO 11976 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3219 ms
2024-03-15T08:14:52.619+05:00  INFO 11976 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:14:53.029+05:00  INFO 11976 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:14:53.033+05:00  INFO 11976 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:14:53.143+05:00  INFO 11976 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:14:53.233+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:14:53.272+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:14:53.609+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.618+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.626+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.632+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.641+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.641+05:00  INFO 11976 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:14:53.667+05:00  INFO 11976 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:53.673+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.675+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:53.679+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.681+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.800+05:00  INFO 11976 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:53.801+05:00  INFO 11976 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T08:14:53.808+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.809+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.838+05:00  INFO 11976 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:53.842+05:00  INFO 11976 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 30ms
2024-03-15T08:14:53.844+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.846+05:00  INFO 11976 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:14:53.851+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.852+05:00  INFO 11976 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:14:53.997+05:00  INFO 11976 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:14:54.122+05:00  INFO 11976 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:14:54.125+05:00  INFO 11976 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:14:54.376+05:00  INFO 11976 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:54.603+05:00  INFO 11976 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:14:55.078+05:00  INFO 11976 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:56.285+05:00  INFO 11976 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:14:56.342+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:14:56.344+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:14:56.345+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:14:56.347+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:14:56.348+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:14:56.350+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:14:56.351+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:14:56.352+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:14:56.355+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:14:56.356+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:14:56.358+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:14:56.359+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:14:56.360+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:14:56.360+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:14:56.361+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:14:56.362+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:14:56.363+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:14:56.364+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:14:56.364+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:14:56.365+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:14:56.379+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:14:56.385+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:14:56.386+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:14:56.387+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:14:56.389+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:14:56.390+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:14:56.391+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:14:56.394+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:14:56.395+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:14:56.396+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:14:56.398+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:14:56.402+05:00  INFO 11976 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:58.124+05:00  INFO 11976 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:14:58.211+05:00  INFO 11976 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@504f2bcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c7e7ffd, org.springframework.security.web.context.SecurityContextHolderFilter@1435feb6, org.springframework.security.web.header.HeaderWriterFilter@7a5b561b, org.springframework.security.web.authentication.logout.LogoutFilter@29244152, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67de5328, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@135ec43a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@45d28ab7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71acf065, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a349644, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6ac0c3aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51dd74a0, org.springframework.security.web.access.ExceptionTranslationFilter@3ab7b0f, org.springframework.security.web.access.intercept.AuthorizationFilter@188caeaf]
2024-03-15T08:14:58.913+05:00  INFO 11976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:14:58.933+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : Started Application in 10.746 seconds (process running for 11.516)
2024-03-15T08:15:03.402+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:15:03.403+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:15:03.408+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-15T08:15:04.469+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:15:04.496+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:15:04.533+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:00.009+05:00  INFO 11976 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:00.015+05:00  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:17:00.018+05:00  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:17:06.439+05:00  INFO 5924 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 5924 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:17:06.443+05:00  INFO 5924 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:17:08.085+05:00  INFO 5924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:17:08.235+05:00  INFO 5924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 8 JPA repository interfaces.
2024-03-15T08:17:09.339+05:00  INFO 5924 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:17:09.354+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:17:09.355+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:17:09.531+05:00  INFO 5924 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:17:09.531+05:00  INFO 5924 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3016 ms
2024-03-15T08:17:09.932+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:17:10.280+05:00  INFO 5924 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:17:10.283+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:17:10.399+05:00  INFO 5924 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:17:10.468+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:17:10.506+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:17:10.783+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.788+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.795+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.801+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.810+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.811+05:00  INFO 5924 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:17:10.833+05:00  INFO 5924 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:10.839+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.840+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:10.845+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.846+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.958+05:00  INFO 5924 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:10.959+05:00  INFO 5924 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-15T08:17:10.965+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.967+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.983+05:00  INFO 5924 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:10.986+05:00  INFO 5924 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-15T08:17:10.989+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.991+05:00  INFO 5924 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:17:10.994+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.994+05:00  INFO 5924 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:17:11.158+05:00  INFO 5924 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:17:11.272+05:00  INFO 5924 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:17:11.277+05:00  INFO 5924 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:17:11.532+05:00  INFO 5924 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:11.757+05:00  INFO 5924 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:17:12.244+05:00  INFO 5924 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:13.629+05:00  INFO 5924 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:17:13.683+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:17:13.685+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:17:13.687+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:17:13.689+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:17:13.691+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:17:13.693+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:17:13.695+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:17:13.697+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:17:13.700+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:17:13.701+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:17:13.703+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:17:13.704+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:17:13.705+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:17:13.705+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:17:13.706+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:17:13.706+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:17:13.707+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:17:13.708+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:17:13.708+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:17:13.709+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:17:13.723+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:17:13.730+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:17:13.731+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:17:13.732+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:17:13.734+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:17:13.735+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:17:13.737+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:17:13.740+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:17:13.741+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:17:13.743+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:17:13.744+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:17:13.748+05:00  INFO 5924 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:15.054+05:00  WARN 5924 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
Related cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.rest.webmvc.json.PersistentEntityToJsonSchemaConverter]: Factory method 'jsonSchemaConverter' threw exception with message: Error creating bean with name 'linkCollector' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'linkCollector' parameter 1: Error creating bean with name 'selfLinkProvider' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.rest.core.support.SelfLinkProvider]: Factory method 'selfLinkProvider' threw exception with message: Error creating bean with name 'mvcConversionService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-03-15T08:17:15.056+05:00  INFO 5924 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:15.058+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:17:15.062+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:17:15.066+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-03-15T08:17:15.091+05:00  INFO 5924 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-03-15T08:17:15.124+05:00 ERROR 5924 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1161) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:110) ~[spring-security-config-6.1.2.jar:6.1.2]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:206) ~[spring-security-config-6.1.2.jar:6.1.2]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:248) ~[spring-security-config-6.1.2.jar:6.1.2]
	at ru.otus.hw.security.SecurityConfiguration.lambda$securityFilterChain$0(SecurityConfiguration.java:22) ~[classes/:na]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466) ~[spring-security-config-6.1.2.jar:6.1.2]
	at ru.otus.hw.security.SecurityConfiguration.securityFilterChain(SecurityConfiguration.java:21) ~[classes/:na]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>) ~[classes/:na]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.11.jar:6.0.11]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.11.jar:6.0.11]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$0.securityFilterChain(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1309) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	... 60 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	... 73 common frames omitted

2024-03-15T08:17:33.176+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7188 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:17:33.180+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:17:34.959+05:00  INFO 7188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:17:35.092+05:00  INFO 7188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 118 ms. Found 8 JPA repository interfaces.
2024-03-15T08:17:36.237+05:00  INFO 7188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:17:36.258+05:00  INFO 7188 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:17:36.258+05:00  INFO 7188 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:17:36.468+05:00  INFO 7188 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:17:36.469+05:00  INFO 7188 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3215 ms
2024-03-15T08:17:36.847+05:00  INFO 7188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:17:37.217+05:00  INFO 7188 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:17:37.222+05:00  INFO 7188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:17:37.334+05:00  INFO 7188 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:17:37.397+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:17:37.428+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:17:37.697+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.702+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.709+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.716+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.723+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.724+05:00  INFO 7188 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:17:37.748+05:00  INFO 7188 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:37.753+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.755+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:37.759+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.760+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.870+05:00  INFO 7188 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:37.871+05:00  INFO 7188 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 45ms
2024-03-15T08:17:37.878+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.881+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.900+05:00  INFO 7188 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:37.903+05:00  INFO 7188 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-15T08:17:37.906+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.908+05:00  INFO 7188 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:17:37.912+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.913+05:00  INFO 7188 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:17:38.063+05:00  INFO 7188 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:17:38.186+05:00  INFO 7188 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:17:38.189+05:00  INFO 7188 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:17:38.443+05:00  INFO 7188 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:38.674+05:00  INFO 7188 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:17:39.210+05:00  INFO 7188 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:40.337+05:00  INFO 7188 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:17:40.386+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:17:40.387+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:17:40.389+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:17:40.390+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:17:40.391+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:17:40.392+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:17:40.394+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:17:40.395+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:17:40.397+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:17:40.398+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:17:40.400+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:17:40.401+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:17:40.401+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:17:40.402+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:17:40.402+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:17:40.403+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:17:40.404+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:17:40.404+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:17:40.405+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:17:40.405+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:17:40.416+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:17:40.420+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:17:40.422+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:17:40.424+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:17:40.425+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:17:40.427+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:17:40.429+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:17:40.431+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:17:40.432+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:17:40.434+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:17:40.435+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:17:40.439+05:00  INFO 7188 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:42.193+05:00  INFO 7188 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:17:42.271+05:00  INFO 7188 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7225f871, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bff4cb9, org.springframework.security.web.context.SecurityContextHolderFilter@1465914, org.springframework.security.web.header.HeaderWriterFilter@10d56aab, org.springframework.security.web.authentication.logout.LogoutFilter@504f2bcd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e316971, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@201c1d99, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c521a79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fc5eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43076326, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@10bf2185, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b0f50d8, org.springframework.security.web.access.ExceptionTranslationFilter@20834c45, org.springframework.security.web.access.intercept.AuthorizationFilter@ca9ffc0]
2024-03-15T08:17:42.987+05:00  INFO 7188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:17:43.006+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : Started Application in 10.662 seconds (process running for 11.418)
2024-03-15T08:17:46.538+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:17:46.539+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:17:46.541+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-15T08:17:47.546+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:17:47.569+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:47.599+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:55.590+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T08:17:57.483+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select l1_0.id,l1_0.date_from,l1_0.date_to from logs l1_0 where l1_0.id=?
2024-03-15T08:17:57.603+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into logs (date_from,date_to,id) values (?,?,default)
2024-03-15T08:17:58.777+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.city,d1_0.id,d1_0.email,d1_0.login,d1_0.mobile_number,d1_0.name,d1_0.password,r1_0.id,r1_0.role_name,d1_0.surname,c1_0.name from clubs c1_0 left join users d1_0 on d1_0.id=c1_0.director_id left join role r1_0 on r1_0.id=d1_0.role_id where c1_0.id=?
2024-03-15T08:17:58.784+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into clubs (city,director_id,name,id) values (?,?,?,default)
2024-03-15T08:18:13.609+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into club_log_link (club_id,log_id) values (?,?)
2024-03-15T08:18:13.761+05:00 DEBUG 7188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:18:13.807+05:00 DEBUG 7188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:19:47.986+05:00  INFO 7188 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:19:47.991+05:00  INFO 7188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:19:47.996+05:00  INFO 7188 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:19:55.156+05:00  INFO 15140 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15140 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:19:55.160+05:00  INFO 15140 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:19:57.128+05:00  INFO 15140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:19:57.287+05:00  INFO 15140 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 143 ms. Found 8 JPA repository interfaces.
2024-03-15T08:19:58.637+05:00  INFO 15140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:19:58.657+05:00  INFO 15140 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:19:58.658+05:00  INFO 15140 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:19:58.865+05:00  INFO 15140 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:19:58.866+05:00  INFO 15140 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3617 ms
2024-03-15T08:19:59.304+05:00  INFO 15140 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:19:59.690+05:00  INFO 15140 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:19:59.693+05:00  INFO 15140 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:19:59.805+05:00  INFO 15140 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:19:59.880+05:00  INFO 15140 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:19:59.923+05:00  INFO 15140 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:20:00.258+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.264+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.272+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.279+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.288+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.289+05:00  INFO 15140 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:20:00.317+05:00  INFO 15140 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:20:00.323+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.325+05:00  INFO 15140 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:20:00.329+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.332+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.487+05:00  INFO 15140 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:20:00.488+05:00  INFO 15140 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 69ms
2024-03-15T08:20:00.499+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.502+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.530+05:00  INFO 15140 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:20:00.534+05:00  INFO 15140 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-15T08:20:00.538+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.541+05:00  INFO 15140 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:20:00.546+05:00  INFO 15140 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:20:00.547+05:00  INFO 15140 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:20:00.708+05:00  INFO 15140 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:20:00.878+05:00  INFO 15140 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:20:00.884+05:00  INFO 15140 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:20:01.195+05:00  INFO 15140 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:20:01.443+05:00  INFO 15140 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:20:02.013+05:00  INFO 15140 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:20:03.472+05:00  INFO 15140 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:20:03.537+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:20:03.539+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:20:03.540+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:20:03.542+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:20:03.544+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:20:03.546+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:20:03.548+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:20:03.550+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:20:03.552+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:20:03.554+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:20:03.556+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:20:03.557+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:20:03.558+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:20:03.559+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:20:03.560+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:20:03.560+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:20:03.562+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:20:03.563+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:20:03.564+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:20:03.564+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:20:03.579+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:20:03.587+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:20:03.589+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:20:03.590+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:20:03.592+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:20:03.593+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:20:03.595+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:20:03.597+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:20:03.599+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:20:03.601+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:20:03.602+05:00 DEBUG 15140 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:20:03.608+05:00  INFO 15140 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:20:05.656+05:00  INFO 15140 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:20:05.749+05:00  INFO 15140 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c521a79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b0f50d8, org.springframework.security.web.context.SecurityContextHolderFilter@78fc5eb, org.springframework.security.web.header.HeaderWriterFilter@4563d421, org.springframework.security.web.authentication.logout.LogoutFilter@45d28ab7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56540a58, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@18dda2e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@36b4cbb8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f2bb798, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b81a499, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6230a15a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57cfd353, org.springframework.security.web.access.ExceptionTranslationFilter@10d56aab, org.springframework.security.web.access.intercept.AuthorizationFilter@808f65]
2024-03-15T08:20:06.542+05:00  INFO 15140 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:20:06.572+05:00  INFO 15140 --- [main] ru.otus.hw.Application                   : Started Application in 12.307 seconds (process running for 13.124)
2024-03-15T08:20:11.774+05:00  INFO 15140 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:20:11.775+05:00  INFO 15140 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:20:11.777+05:00  INFO 15140 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-15T08:20:12.551+05:00 ERROR 15140 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext] with root cause

java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext
	at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:268) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:221) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:149) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:20:33.039+05:00 DEBUG 15140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:20:33.062+05:00 DEBUG 15140 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:20:33.372+05:00 DEBUG 15140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:20:33.452+05:00 DEBUG 15140 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:20:36.720+05:00 ERROR 15140 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext] with root cause

java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext
	at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:268) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:221) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:149) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:110) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:22:06.979+05:00  INFO 15140 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:22:06.983+05:00  INFO 15140 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:22:06.987+05:00  INFO 15140 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:22:14.000+05:00  INFO 16288 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 16288 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:22:14.004+05:00  INFO 16288 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:22:15.946+05:00  INFO 16288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:22:16.121+05:00  INFO 16288 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 153 ms. Found 8 JPA repository interfaces.
2024-03-15T08:22:17.643+05:00  INFO 16288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:22:17.667+05:00  INFO 16288 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:22:17.668+05:00  INFO 16288 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:22:17.921+05:00  INFO 16288 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:22:17.922+05:00  INFO 16288 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3842 ms
2024-03-15T08:22:18.476+05:00  INFO 16288 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:22:18.872+05:00  INFO 16288 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:22:18.875+05:00  INFO 16288 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:22:19.019+05:00  INFO 16288 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:22:19.111+05:00  INFO 16288 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:22:19.140+05:00  INFO 16288 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:22:19.502+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.509+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.518+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.526+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.538+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.539+05:00  INFO 16288 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:22:19.572+05:00  INFO 16288 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:22:19.580+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.582+05:00  INFO 16288 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:22:19.586+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.589+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.754+05:00  INFO 16288 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:22:19.755+05:00  INFO 16288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 75ms
2024-03-15T08:22:19.765+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.767+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.801+05:00  INFO 16288 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:22:19.806+05:00  INFO 16288 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 36ms
2024-03-15T08:22:19.810+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.812+05:00  INFO 16288 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:22:19.816+05:00  INFO 16288 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:22:19.817+05:00  INFO 16288 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:22:19.955+05:00  INFO 16288 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:22:20.093+05:00  INFO 16288 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:22:20.098+05:00  INFO 16288 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:22:20.410+05:00  INFO 16288 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:22:20.703+05:00  INFO 16288 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:22:21.263+05:00  INFO 16288 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:22:23.015+05:00  INFO 16288 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:22:23.102+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:22:23.104+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:22:23.106+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:22:23.108+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:22:23.110+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:22:23.112+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:22:23.114+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:22:23.116+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:22:23.120+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:22:23.122+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:22:23.125+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:22:23.126+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:22:23.127+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:22:23.128+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:22:23.129+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:22:23.130+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:22:23.131+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:22:23.132+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:22:23.133+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:22:23.134+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:22:23.149+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:22:23.155+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:22:23.158+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:22:23.160+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:22:23.162+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:22:23.164+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:22:23.167+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:22:23.170+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:22:23.172+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:22:23.174+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:22:23.176+05:00 DEBUG 16288 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:22:23.182+05:00  INFO 16288 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:22:25.282+05:00  INFO 16288 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:22:25.374+05:00  INFO 16288 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b88dd58, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50720344, org.springframework.security.web.context.SecurityContextHolderFilter@18dda2e1, org.springframework.security.web.header.HeaderWriterFilter@2b39e77d, org.springframework.security.web.authentication.logout.LogoutFilter@527b989a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4bd29a01, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4b05a9b1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5dce3e82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c0b9643, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40f7fb45, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3c12f87d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@613aeb51, org.springframework.security.web.access.ExceptionTranslationFilter@1b81a499, org.springframework.security.web.access.intercept.AuthorizationFilter@57cfd353]
2024-03-15T08:22:26.114+05:00  INFO 16288 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:22:26.136+05:00  INFO 16288 --- [main] ru.otus.hw.Application                   : Started Application in 12.945 seconds (process running for 13.638)
2024-03-15T08:22:42.430+05:00  INFO 16288 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:22:42.431+05:00  INFO 16288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:22:42.433+05:00  INFO 16288 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:22:48.362+05:00 DEBUG 16288 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:22:48.378+05:00 DEBUG 16288 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:22:49.221+05:00 DEBUG 16288 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:22:49.293+05:00 DEBUG 16288 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:22:52.655+05:00 DEBUG 16288 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:22:52.662+05:00 DEBUG 16288 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:23:38.130+05:00  WARN 16288 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=49s133ms464µs400ns).
2024-03-15T08:23:38.136+05:00 DEBUG 16288 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:23:38.139+05:00 DEBUG 16288 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:27:58.777+05:00  WARN 16288 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m50s644ms869µs300ns).
2024-03-15T08:27:58.785+05:00 DEBUG 16288 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:27:58.788+05:00 DEBUG 16288 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:28:09.429+05:00  INFO 16288 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:28:09.435+05:00  INFO 16288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:28:09.442+05:00  INFO 16288 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:28:25.660+05:00  INFO 2788 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 2788 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:28:25.664+05:00  INFO 2788 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:28:27.301+05:00  INFO 2788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:28:27.447+05:00  INFO 2788 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 131 ms. Found 8 JPA repository interfaces.
2024-03-15T08:28:28.587+05:00  INFO 2788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:28:28.603+05:00  INFO 2788 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:28:28.604+05:00  INFO 2788 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:28:28.765+05:00  INFO 2788 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:28:28.766+05:00  INFO 2788 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3030 ms
2024-03-15T08:28:29.145+05:00  INFO 2788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:28:29.472+05:00  INFO 2788 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:28:29.476+05:00  INFO 2788 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:28:29.581+05:00  INFO 2788 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:28:29.655+05:00  INFO 2788 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:28:29.686+05:00  INFO 2788 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:28:29.942+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.948+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.956+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.962+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.971+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.971+05:00  INFO 2788 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:28:29.992+05:00  INFO 2788 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:28:29.997+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:29.998+05:00  INFO 2788 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:28:30.002+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.004+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.104+05:00  INFO 2788 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:28:30.105+05:00  INFO 2788 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-15T08:28:30.110+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.112+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.127+05:00  INFO 2788 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:28:30.130+05:00  INFO 2788 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-15T08:28:30.131+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.133+05:00  INFO 2788 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:28:30.136+05:00  INFO 2788 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:28:30.136+05:00  INFO 2788 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:28:30.314+05:00  INFO 2788 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:28:30.423+05:00  INFO 2788 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:28:30.428+05:00  INFO 2788 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:28:30.675+05:00  INFO 2788 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:28:30.877+05:00  INFO 2788 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:28:31.369+05:00  INFO 2788 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:28:32.674+05:00  INFO 2788 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:28:32.730+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:28:32.732+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:28:32.733+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:28:32.735+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:28:32.736+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:28:32.738+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:28:32.739+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:28:32.741+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:28:32.743+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:28:32.744+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:28:32.746+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:28:32.747+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:28:32.749+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:28:32.750+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:28:32.751+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:28:32.752+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:28:32.753+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:28:32.754+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:28:32.755+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:28:32.755+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:28:32.767+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:28:32.771+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:28:32.773+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:28:32.774+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:28:32.776+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:28:32.778+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:28:32.779+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:28:32.781+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:28:32.783+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:28:32.785+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:28:32.787+05:00 DEBUG 2788 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:28:32.791+05:00  INFO 2788 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:28:34.737+05:00  INFO 2788 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:28:34.839+05:00  INFO 2788 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dce3e82, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@613aeb51, org.springframework.security.web.context.SecurityContextHolderFilter@3c0b9643, org.springframework.security.web.header.HeaderWriterFilter@36afd06f, org.springframework.security.web.authentication.logout.LogoutFilter@ca9ffc0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a3363c9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7f129873, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5ce59833, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1507bc3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4eb0ed44, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@637bf67c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ccdc8c8, org.springframework.security.web.access.ExceptionTranslationFilter@2b39e77d, org.springframework.security.web.access.intercept.AuthorizationFilter@5a4a8a33]
2024-03-15T08:28:35.665+05:00  INFO 2788 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:28:35.689+05:00  INFO 2788 --- [main] ru.otus.hw.Application                   : Started Application in 10.832 seconds (process running for 11.547)
2024-03-15T08:28:39.742+05:00  INFO 2788 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:28:39.743+05:00  INFO 2788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:28:39.746+05:00  INFO 2788 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:28:52.216+05:00 DEBUG 2788 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:28:52.589+05:00 DEBUG 2788 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:29:03.717+05:00 DEBUG 2788 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:29:03.720+05:00 DEBUG 2788 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:29:04.010+05:00 DEBUG 2788 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:29:04.064+05:00 DEBUG 2788 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:30:42.003+05:00  WARN 2788 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m42s407ms386µs600ns).
2024-03-15T08:30:42.011+05:00 DEBUG 2788 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:30:42.018+05:00 DEBUG 2788 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:30:48.531+05:00  INFO 2788 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:30:48.538+05:00  INFO 2788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:30:48.545+05:00  INFO 2788 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:30:54.615+05:00  INFO 11676 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11676 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:30:54.620+05:00  INFO 11676 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:30:56.214+05:00  INFO 11676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:30:56.356+05:00  INFO 11676 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 8 JPA repository interfaces.
2024-03-15T08:30:57.512+05:00  INFO 11676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:30:57.528+05:00  INFO 11676 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:30:57.529+05:00  INFO 11676 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:30:57.722+05:00  INFO 11676 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:30:57.723+05:00  INFO 11676 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3024 ms
2024-03-15T08:30:58.111+05:00  INFO 11676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:30:58.504+05:00  INFO 11676 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:30:58.507+05:00  INFO 11676 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:30:58.615+05:00  INFO 11676 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:30:58.680+05:00  INFO 11676 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:30:58.706+05:00  INFO 11676 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:30:59.003+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.009+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.017+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.023+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.031+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.032+05:00  INFO 11676 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:30:59.052+05:00  INFO 11676 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:30:59.058+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.059+05:00  INFO 11676 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:30:59.063+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.064+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.165+05:00  INFO 11676 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:30:59.166+05:00  INFO 11676 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 40ms
2024-03-15T08:30:59.171+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.173+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.187+05:00  INFO 11676 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:30:59.190+05:00  INFO 11676 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 15ms
2024-03-15T08:30:59.191+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.193+05:00  INFO 11676 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:30:59.195+05:00  INFO 11676 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:30:59.196+05:00  INFO 11676 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:30:59.355+05:00  INFO 11676 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:30:59.460+05:00  INFO 11676 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:30:59.465+05:00  INFO 11676 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:30:59.757+05:00  INFO 11676 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:31:00.000+05:00  INFO 11676 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:31:00.560+05:00  INFO 11676 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:31:01.770+05:00  INFO 11676 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:31:01.826+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:31:01.828+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:31:01.829+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:31:01.830+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:31:01.832+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:31:01.833+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:31:01.835+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:31:01.836+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:31:01.838+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:31:01.840+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:31:01.842+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:31:01.842+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:31:01.843+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:31:01.844+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:31:01.844+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:31:01.845+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:31:01.845+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:31:01.846+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:31:01.846+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:31:01.847+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:31:01.858+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:31:01.863+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:31:01.865+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:31:01.866+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:31:01.867+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:31:01.868+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:31:01.870+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:31:01.872+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:31:01.874+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:31:01.875+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:31:01.877+05:00 DEBUG 11676 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:31:01.887+05:00  INFO 11676 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:31:03.593+05:00  INFO 11676 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:31:03.670+05:00  INFO 11676 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@613aeb51, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ce59833, org.springframework.security.web.context.SecurityContextHolderFilter@746f1505, org.springframework.security.web.header.HeaderWriterFilter@18dda2e1, org.springframework.security.web.authentication.logout.LogoutFilter@e316971, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@63cf6497, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6ac0c3aa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1ccdc8c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@202ed88d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@188caeaf, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7b88dd58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30dbcffd, org.springframework.security.web.access.ExceptionTranslationFilter@201c1d99, org.springframework.security.web.access.intercept.AuthorizationFilter@4a3363c9]
2024-03-15T08:31:04.375+05:00  INFO 11676 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:31:04.396+05:00  INFO 11676 --- [main] ru.otus.hw.Application                   : Started Application in 10.574 seconds (process running for 11.281)
2024-03-15T08:31:11.569+05:00  INFO 11676 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:31:11.570+05:00  INFO 11676 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:31:11.572+05:00  INFO 11676 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:31:17.077+05:00 DEBUG 11676 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:31:17.096+05:00 DEBUG 11676 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:31:17.965+05:00 DEBUG 11676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:31:18.053+05:00 DEBUG 11676 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:31:45.802+05:00  WARN 11676 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=47s189ms273µs).
2024-03-15T08:33:17.336+05:00  WARN 11676 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m31s534ms508µs600ns).
2024-03-15T08:33:17.354+05:00 DEBUG 11676 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:33:17.366+05:00 DEBUG 11676 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:34:33.977+05:00  INFO 11676 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:34:33.981+05:00  INFO 11676 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:34:33.984+05:00  INFO 11676 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:34:40.161+05:00  INFO 16152 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 16152 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:34:40.165+05:00  INFO 16152 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:34:42.027+05:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:34:42.160+05:00  INFO 16152 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 119 ms. Found 8 JPA repository interfaces.
2024-03-15T08:34:43.373+05:00  INFO 16152 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:34:43.391+05:00  INFO 16152 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:34:43.391+05:00  INFO 16152 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:34:43.611+05:00  INFO 16152 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:34:43.612+05:00  INFO 16152 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3369 ms
2024-03-15T08:34:44.016+05:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:34:44.437+05:00  INFO 16152 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:34:44.443+05:00  INFO 16152 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:34:44.560+05:00  INFO 16152 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:34:44.628+05:00  INFO 16152 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:34:44.664+05:00  INFO 16152 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:34:44.968+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:44.975+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:44.983+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:44.991+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.001+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.002+05:00  INFO 16152 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:34:45.029+05:00  INFO 16152 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:34:45.037+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.039+05:00  INFO 16152 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:34:45.043+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.046+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.166+05:00  INFO 16152 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:34:45.167+05:00  INFO 16152 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T08:34:45.174+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.176+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.200+05:00  INFO 16152 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:34:45.203+05:00  INFO 16152 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 25ms
2024-03-15T08:34:45.208+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.209+05:00  INFO 16152 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:34:45.213+05:00  INFO 16152 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:34:45.213+05:00  INFO 16152 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:34:45.355+05:00  INFO 16152 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:34:45.524+05:00  INFO 16152 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:34:45.530+05:00  INFO 16152 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:34:45.775+05:00  INFO 16152 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:34:46.002+05:00  INFO 16152 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:34:46.544+05:00  INFO 16152 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:34:47.922+05:00  INFO 16152 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:34:47.983+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:34:47.984+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:34:47.985+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:34:47.986+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:34:47.988+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:34:47.989+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:34:47.990+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:34:47.992+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:34:47.994+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:34:47.995+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:34:47.997+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:34:47.997+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:34:47.998+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:34:47.998+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:34:47.999+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:34:47.999+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:34:48.000+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:34:48.000+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:34:48.001+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:34:48.001+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:34:48.013+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:34:48.017+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:34:48.019+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:34:48.020+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:34:48.022+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:34:48.023+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:34:48.024+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:34:48.027+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:34:48.028+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:34:48.030+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:34:48.031+05:00 DEBUG 16152 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:34:48.035+05:00  INFO 16152 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:34:49.795+05:00  INFO 16152 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:34:49.866+05:00  INFO 16152 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c3c1963, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb0ed44, org.springframework.security.web.context.SecurityContextHolderFilter@75af5f2a, org.springframework.security.web.header.HeaderWriterFilter@4057eb76, org.springframework.security.web.authentication.logout.LogoutFilter@10d56aab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18dda2e1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34fe89a5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@188caeaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@728cf276, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1621264e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1507bc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67de5328, org.springframework.security.web.access.ExceptionTranslationFilter@76140ca5, org.springframework.security.web.access.intercept.AuthorizationFilter@36afd06f]
2024-03-15T08:34:50.585+05:00  INFO 16152 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:34:50.602+05:00  INFO 16152 --- [main] ru.otus.hw.Application                   : Started Application in 11.251 seconds (process running for 11.987)
2024-03-15T08:34:55.417+05:00  INFO 16152 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:34:55.417+05:00  INFO 16152 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:34:55.420+05:00  INFO 16152 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:34:56.142+05:00 ERROR 16152 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.UserController.getAllDirectors(UserController.java:52) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:35:15.383+05:00 DEBUG 16152 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:35:15.405+05:00 DEBUG 16152 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:35:15.752+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:35:15.845+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:35:23.119+05:00 DEBUG 16152 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:35:23.120+05:00 DEBUG 16152 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:35:23.121+05:00 DEBUG 16152 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:35:34.703+05:00 DEBUG 16152 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T08:35:34.706+05:00 DEBUG 16152 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:35:34.915+05:00 DEBUG 16152 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:35:34.919+05:00 DEBUG 16152 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:35:41.955+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:35:41.959+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:36:23.209+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:36:23.211+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:36:40.460+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:36:40.463+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:36:52.517+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:36:52.521+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:36:56.660+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:36:56.663+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:37:17.068+05:00  WARN 16152 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s495ms559µs).
2024-03-15T08:37:17.077+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:37:17.080+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:38:07.394+05:00 DEBUG 16152 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:38:07.398+05:00 DEBUG 16152 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:38:11.833+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:38:11.836+05:00 DEBUG 16152 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:38:13.223+05:00 DEBUG 16152 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T08:38:34.310+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:38:34.412+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T08:38:34.457+05:00 DEBUG 16152 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-15T08:38:34.568+05:00 DEBUG 16152 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:38:34.574+05:00 DEBUG 16152 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:38:35.903+05:00 DEBUG 16152 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:38:35.906+05:00 DEBUG 16152 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.role_id=?
2024-03-15T08:38:45.168+05:00 DEBUG 16152 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:38:45.174+05:00 DEBUG 16152 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:40:41.960+05:00  INFO 16152 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:40:41.964+05:00  INFO 16152 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:40:41.967+05:00  INFO 16152 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:40:48.327+05:00  INFO 5668 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 5668 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:40:48.331+05:00  INFO 5668 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:40:49.943+05:00  INFO 5668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:40:50.080+05:00  INFO 5668 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121 ms. Found 8 JPA repository interfaces.
2024-03-15T08:40:51.182+05:00  INFO 5668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:40:51.198+05:00  INFO 5668 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:40:51.199+05:00  INFO 5668 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:40:51.387+05:00  INFO 5668 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:40:51.388+05:00  INFO 5668 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2982 ms
2024-03-15T08:40:51.762+05:00  INFO 5668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:40:52.089+05:00  INFO 5668 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:40:52.092+05:00  INFO 5668 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:40:52.202+05:00  INFO 5668 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:40:52.276+05:00  INFO 5668 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:40:52.313+05:00  INFO 5668 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:40:52.595+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.600+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.607+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.612+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.619+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.620+05:00  INFO 5668 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:40:52.642+05:00  INFO 5668 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:40:52.649+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.651+05:00  INFO 5668 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:40:52.656+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.658+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.759+05:00  INFO 5668 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:40:52.760+05:00  INFO 5668 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 39ms
2024-03-15T08:40:52.765+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.767+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.781+05:00  INFO 5668 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:40:52.784+05:00  INFO 5668 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 15ms
2024-03-15T08:40:52.785+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.786+05:00  INFO 5668 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:40:52.789+05:00  INFO 5668 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:40:52.789+05:00  INFO 5668 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:40:52.940+05:00  INFO 5668 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:40:53.030+05:00  INFO 5668 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:40:53.034+05:00  INFO 5668 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:40:53.264+05:00  INFO 5668 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:40:53.478+05:00  INFO 5668 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:40:53.931+05:00  INFO 5668 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:40:55.108+05:00  INFO 5668 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:40:55.173+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:40:55.175+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:40:55.176+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:40:55.178+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:40:55.180+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:40:55.181+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:40:55.182+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:40:55.184+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:40:55.186+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:40:55.188+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:40:55.190+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:40:55.191+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:40:55.192+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:40:55.193+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:40:55.194+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:40:55.194+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:40:55.195+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:40:55.196+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:40:55.197+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:40:55.198+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:40:55.211+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:40:55.217+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:40:55.219+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:40:55.221+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:40:55.223+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:40:55.224+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:40:55.226+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:40:55.229+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:40:55.230+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:40:55.232+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:40:55.234+05:00 DEBUG 5668 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:40:55.239+05:00  INFO 5668 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:40:56.935+05:00  INFO 5668 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:40:57.006+05:00  INFO 5668 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@202ed88d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@40f7fb45, org.springframework.security.web.context.SecurityContextHolderFilter@4ac64dc2, org.springframework.security.web.header.HeaderWriterFilter@76140ca5, org.springframework.security.web.authentication.logout.LogoutFilter@20834c45, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@201c1d99, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@bb9bad9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4c3c1963, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75af5f2a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69a8191e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3c0b9643, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4eb0ed44, org.springframework.security.web.access.ExceptionTranslationFilter@2d854c13, org.springframework.security.web.access.intercept.AuthorizationFilter@2b39e77d]
2024-03-15T08:40:57.728+05:00  INFO 5668 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:40:57.750+05:00  INFO 5668 --- [main] ru.otus.hw.Application                   : Started Application in 10.216 seconds (process running for 10.948)
2024-03-15T08:45:34.815+05:00  INFO 5668 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:45:34.816+05:00  INFO 5668 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:45:34.818+05:00  INFO 5668 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:45:35.448+05:00 ERROR 5668 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.UserController.getAllDirectors(UserController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:49:41.030+05:00 DEBUG 5668 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:49:41.138+05:00 DEBUG 5668 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:49:42.501+05:00 DEBUG 5668 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id where b1_0.id=?
2024-03-15T08:49:42.505+05:00 DEBUG 5668 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id=?
2024-03-15T08:49:42.521+05:00 DEBUG 5668 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-15T08:49:42.536+05:00 DEBUG 5668 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.id,g1_0.name from genres g1_0
2024-03-15T08:51:42.550+05:00 DEBUG 5668 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:51:42.553+05:00 DEBUG 5668 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:58:45.292+05:00 DEBUG 5668 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id where b1_0.id=?
2024-03-15T08:58:45.295+05:00 DEBUG 5668 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id=?
2024-03-15T08:58:45.312+05:00 DEBUG 5668 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-15T08:58:45.329+05:00 DEBUG 5668 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select g1_0.id,g1_0.name from genres g1_0
2024-03-15T08:59:02.728+05:00 DEBUG 5668 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:59:02.731+05:00 DEBUG 5668 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T08:59:27.828+05:00 DEBUG 5668 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:09:19.645+05:00 DEBUG 5668 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T09:09:19.648+05:00 DEBUG 5668 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T09:11:22.277+05:00 DEBUG 5668 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id where b1_0.id=?
2024-03-15T09:11:22.282+05:00 DEBUG 5668 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id=?
2024-03-15T09:11:22.298+05:00 DEBUG 5668 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select a1_0.id,a1_0.full_name from authors a1_0
2024-03-15T09:11:22.310+05:00 DEBUG 5668 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select g1_0.id,g1_0.name from genres g1_0
2024-03-15T09:11:33.167+05:00 DEBUG 5668 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T09:11:33.173+05:00 DEBUG 5668 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T09:12:53.876+05:00 ERROR 5668 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.UserController.getAllDirectors(UserController.java:48) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:15:42.424+05:00 DEBUG 5668 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T09:15:42.426+05:00 DEBUG 5668 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T09:16:53.257+05:00  INFO 5668 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:16:53.261+05:00  INFO 5668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:16:53.265+05:00  INFO 5668 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:17:00.351+05:00  INFO 10244 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 10244 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:17:00.354+05:00  INFO 10244 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:17:02.070+05:00  INFO 10244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:17:02.200+05:00  INFO 10244 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 113 ms. Found 8 JPA repository interfaces.
2024-03-15T09:17:03.344+05:00  INFO 10244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:17:03.362+05:00  INFO 10244 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:17:03.363+05:00  INFO 10244 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:17:03.529+05:00  INFO 10244 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:17:03.530+05:00  INFO 10244 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3108 ms
2024-03-15T09:17:03.930+05:00  INFO 10244 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:17:04.265+05:00  INFO 10244 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:17:04.268+05:00  INFO 10244 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:17:04.373+05:00  INFO 10244 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:17:04.464+05:00  INFO 10244 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:17:04.508+05:00  INFO 10244 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:17:04.777+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.782+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.790+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.795+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.806+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.807+05:00  INFO 10244 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:17:04.829+05:00  INFO 10244 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:17:04.834+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.836+05:00  INFO 10244 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:17:04.839+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.841+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.962+05:00  INFO 10244 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:17:04.963+05:00  INFO 10244 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 52ms
2024-03-15T09:17:04.971+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.973+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:04.995+05:00  INFO 10244 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:17:05.003+05:00  INFO 10244 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-15T09:17:05.006+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:05.009+05:00  INFO 10244 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:17:05.013+05:00  INFO 10244 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:05.013+05:00  INFO 10244 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:17:05.166+05:00  INFO 10244 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:17:05.287+05:00  INFO 10244 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:17:05.291+05:00  INFO 10244 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:17:05.530+05:00  INFO 10244 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:17:05.755+05:00  INFO 10244 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:17:06.248+05:00  INFO 10244 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:17:07.535+05:00  INFO 10244 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:17:07.590+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:17:07.592+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:17:07.593+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:17:07.595+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:17:07.596+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:17:07.598+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:17:07.600+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:17:07.601+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:17:07.603+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:17:07.604+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:17:07.605+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:17:07.606+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:17:07.607+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:17:07.608+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:17:07.609+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:17:07.610+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:17:07.624+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:17:07.630+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:17:07.632+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:17:07.634+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:17:07.636+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:17:07.637+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:17:07.639+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:17:07.642+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:17:07.644+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:17:07.646+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:17:07.647+05:00 DEBUG 10244 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:17:07.651+05:00  INFO 10244 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:17:09.388+05:00  INFO 10244 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:17:09.465+05:00  INFO 10244 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62e55482, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ceb6796, org.springframework.security.web.context.SecurityContextHolderFilter@75bbeb89, org.springframework.security.web.header.HeaderWriterFilter@168f447d, org.springframework.security.web.authentication.logout.LogoutFilter@4a23be9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73611fbb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c9d2ed7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2aa176de, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@681ba763, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4086e003, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6b0aa757, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3208e15, org.springframework.security.web.access.ExceptionTranslationFilter@1ef4179, org.springframework.security.web.access.intercept.AuthorizationFilter@3ea4dcc5]
2024-03-15T09:17:10.242+05:00  INFO 10244 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:17:10.270+05:00  INFO 10244 --- [main] ru.otus.hw.Application                   : Started Application in 10.707 seconds (process running for 11.372)
2024-03-15T09:17:14.391+05:00  INFO 10244 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:17:14.392+05:00  INFO 10244 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:17:14.395+05:00  INFO 10244 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T09:17:15.304+05:00 DEBUG 10244 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:17:15.324+05:00 DEBUG 10244 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:15.342+05:00 DEBUG 10244 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:27.893+05:00  INFO 10244 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:17:27.899+05:00  INFO 10244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:17:27.909+05:00  INFO 10244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:17:31.190+05:00  INFO 3496 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3496 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:17:31.195+05:00  INFO 3496 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:17:32.866+05:00  INFO 3496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:17:33.000+05:00  INFO 3496 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 8 JPA repository interfaces.
2024-03-15T09:17:34.108+05:00  INFO 3496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:17:34.121+05:00  INFO 3496 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:17:34.122+05:00  INFO 3496 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:17:34.306+05:00  INFO 3496 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:17:34.307+05:00  INFO 3496 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3039 ms
2024-03-15T09:17:34.701+05:00  INFO 3496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:17:35.053+05:00  INFO 3496 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:17:35.056+05:00  INFO 3496 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:17:35.161+05:00  INFO 3496 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:17:35.232+05:00  INFO 3496 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:17:35.266+05:00  INFO 3496 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:17:35.568+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.574+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.583+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.588+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.597+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.597+05:00  INFO 3496 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:17:35.622+05:00  INFO 3496 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:17:35.627+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.629+05:00  INFO 3496 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:17:35.633+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.634+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.741+05:00  INFO 3496 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:17:35.742+05:00  INFO 3496 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T09:17:35.748+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.751+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.769+05:00  INFO 3496 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:17:35.770+05:00  INFO 3496 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 18ms
2024-03-15T09:17:35.773+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.775+05:00  INFO 3496 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:17:35.779+05:00  INFO 3496 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:17:35.780+05:00  INFO 3496 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:17:35.928+05:00  INFO 3496 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:17:36.049+05:00  INFO 3496 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:17:36.053+05:00  INFO 3496 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:17:36.292+05:00  INFO 3496 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:17:36.509+05:00  INFO 3496 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:17:36.973+05:00  INFO 3496 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:17:38.253+05:00  INFO 3496 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:17:38.308+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:17:38.311+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:17:38.312+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:17:38.314+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:17:38.315+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:17:38.317+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:17:38.320+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:17:38.321+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:17:38.323+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:17:38.325+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:17:38.326+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:17:38.326+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:17:38.327+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:17:38.328+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:17:38.336+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:17:38.337+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:17:38.352+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:17:38.358+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:17:38.360+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:17:38.361+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:17:38.363+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:17:38.365+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:17:38.367+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:17:38.369+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:17:38.370+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:17:38.372+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:17:38.374+05:00 DEBUG 3496 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:17:38.379+05:00  INFO 3496 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:17:40.060+05:00  INFO 3496 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:17:40.131+05:00  INFO 3496 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@9930ff6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d571179, org.springframework.security.web.context.SecurityContextHolderFilter@2a6b6f4, org.springframework.security.web.header.HeaderWriterFilter@58397dee, org.springframework.security.web.authentication.logout.LogoutFilter@5ad67d82, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f31385e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4756c8f3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@12ebfc66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@753b6846, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6645c1f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@38ed9fb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a609803, org.springframework.security.web.access.ExceptionTranslationFilter@7dc16d33, org.springframework.security.web.access.intercept.AuthorizationFilter@5d96b0f]
2024-03-15T09:17:40.860+05:00  INFO 3496 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:17:40.879+05:00  INFO 3496 --- [main] ru.otus.hw.Application                   : Started Application in 10.507 seconds (process running for 11.256)
2024-03-15T09:17:45.649+05:00  INFO 3496 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:17:45.650+05:00  INFO 3496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:17:45.653+05:00  INFO 3496 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T09:17:46.568+05:00 DEBUG 3496 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:17:46.590+05:00 DEBUG 3496 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:46.607+05:00 DEBUG 3496 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:54.392+05:00 ERROR 3496 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:17:56.638+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:17:56.640+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:56.641+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:17:57.959+05:00 ERROR 3496 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:18:11.646+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:11.651+05:00 ERROR 3496 --- [http-nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ru.otus.hw.exceptions.EntityNotFoundException: Author with id 0 not found] with root cause

ru.otus.hw.exceptions.EntityNotFoundException: Author with id 0 not found
	at ru.otus.hw.services.impl.UserServiceImpl.lambda$save$3(UserServiceImpl.java:79) ~[classes/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at ru.otus.hw.services.impl.UserServiceImpl.save(UserServiceImpl.java:79) ~[classes/:na]
	at ru.otus.hw.services.impl.UserServiceImpl.insert(UserServiceImpl.java:66) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:391) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:756) ~[spring-aop-6.0.11.jar:6.0.11]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-6.0.11.jar:6.0.11]
	at ru.otus.hw.services.impl.UserServiceImpl$$SpringCGLIB$$0.insert(<generated>) ~[classes/:na]
	at ru.otus.hw.controller.UserController.addUser(UserController.java:33) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:18:21.766+05:00 DEBUG 3496 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:18:21.768+05:00 DEBUG 3496 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:21.984+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:18:21.986+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:21.988+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:24.997+05:00 DEBUG 3496 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:18:31.025+05:00 DEBUG 3496 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:31.146+05:00 DEBUG 3496 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:18:31.182+05:00 DEBUG 3496 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-15T09:18:31.267+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:18:31.269+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:31.272+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:57.167+05:00 DEBUG 3496 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:18:58.509+05:00 DEBUG 3496 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:18:58.510+05:00 DEBUG 3496 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:58.511+05:00 DEBUG 3496 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:18:59.416+05:00 DEBUG 3496 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:19:00.841+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:19:00.842+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:19:00.845+05:00 DEBUG 3496 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:19:01.585+05:00 DEBUG 3496 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:19:10.443+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:19:10.578+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:19:10.581+05:00 DEBUG 3496 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-15T09:19:10.638+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:19:10.639+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:19:10.640+05:00 DEBUG 3496 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:19:49.205+05:00  INFO 3496 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:19:49.211+05:00  INFO 3496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:19:49.216+05:00  INFO 3496 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:19:52.854+05:00  INFO 12776 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 12776 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:19:52.858+05:00  INFO 12776 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:19:54.586+05:00  INFO 12776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:19:54.717+05:00  INFO 12776 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 116 ms. Found 8 JPA repository interfaces.
2024-03-15T09:19:55.890+05:00  INFO 12776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:19:55.909+05:00  INFO 12776 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:19:55.910+05:00  INFO 12776 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:19:56.110+05:00  INFO 12776 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:19:56.111+05:00  INFO 12776 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3190 ms
2024-03-15T09:19:56.484+05:00  INFO 12776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:19:56.854+05:00  INFO 12776 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:19:56.859+05:00  INFO 12776 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:19:56.969+05:00  INFO 12776 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:19:57.043+05:00  INFO 12776 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:19:57.081+05:00  INFO 12776 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:19:57.403+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.411+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.420+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.426+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.435+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.436+05:00  INFO 12776 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:19:57.460+05:00  INFO 12776 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:19:57.468+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.469+05:00  INFO 12776 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:19:57.474+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.476+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.610+05:00  INFO 12776 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:19:57.611+05:00  INFO 12776 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 63ms
2024-03-15T09:19:57.619+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.622+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.652+05:00  INFO 12776 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:19:57.653+05:00  INFO 12776 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-15T09:19:57.656+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.659+05:00  INFO 12776 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:19:57.664+05:00  INFO 12776 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:19:57.665+05:00  INFO 12776 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:19:57.814+05:00  INFO 12776 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:19:57.969+05:00  INFO 12776 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:19:57.973+05:00  INFO 12776 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:19:58.269+05:00  INFO 12776 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:19:58.492+05:00  INFO 12776 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:19:59.028+05:00  INFO 12776 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:20:00.138+05:00  INFO 12776 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:20:00.188+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:20:00.189+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:20:00.191+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:20:00.192+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:20:00.193+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:20:00.195+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:20:00.197+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:20:00.198+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:20:00.200+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:20:00.202+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:20:00.204+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:20:00.204+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:20:00.205+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:20:00.207+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:20:00.207+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:20:00.208+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:20:00.219+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:20:00.224+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:20:00.226+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:20:00.227+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:20:00.228+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:20:00.229+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:20:00.231+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:20:00.233+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:20:00.234+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:20:00.236+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:20:00.237+05:00 DEBUG 12776 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:20:00.243+05:00  INFO 12776 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:20:02.033+05:00  INFO 12776 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:20:02.106+05:00  INFO 12776 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75af5f2a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@adc06b2, org.springframework.security.web.context.SecurityContextHolderFilter@6e48b9ed, org.springframework.security.web.header.HeaderWriterFilter@5f31385e, org.springframework.security.web.authentication.logout.LogoutFilter@3e668743, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d854c13, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3d0f2154, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@728cf276, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3bde85b0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12ebfc66, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4057eb76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66f15ce5, org.springframework.security.web.access.ExceptionTranslationFilter@20d1737, org.springframework.security.web.access.intercept.AuthorizationFilter@b9750f0]
2024-03-15T09:20:02.806+05:00  INFO 12776 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:20:02.824+05:00  INFO 12776 --- [main] ru.otus.hw.Application                   : Started Application in 10.755 seconds (process running for 11.478)
2024-03-15T09:20:06.026+05:00  INFO 12776 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:20:06.027+05:00  INFO 12776 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:20:06.030+05:00  INFO 12776 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T09:20:06.939+05:00 DEBUG 12776 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:20:06.957+05:00 DEBUG 12776 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:06.978+05:00 DEBUG 12776 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:09.880+05:00 ERROR 12776 --- [http-nio-8080-exec-5] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:20:23.790+05:00 DEBUG 12776 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:20:23.792+05:00 DEBUG 12776 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:24.042+05:00 DEBUG 12776 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:20:24.043+05:00 DEBUG 12776 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:24.045+05:00 DEBUG 12776 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:26.985+05:00 DEBUG 12776 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:20:34.089+05:00 DEBUG 12776 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:34.194+05:00 DEBUG 12776 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:20:34.219+05:00 DEBUG 12776 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-15T09:20:34.287+05:00 DEBUG 12776 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:20:34.288+05:00 DEBUG 12776 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:34.290+05:00 DEBUG 12776 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:20:35.995+05:00 DEBUG 12776 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:20:36.011+05:00 DEBUG 12776 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : delete from users where id=?
2024-03-15T09:21:55.954+05:00  INFO 12776 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:21:55.960+05:00  INFO 12776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:21:55.967+05:00  INFO 12776 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:21:59.474+05:00  INFO 2716 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 2716 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:21:59.477+05:00  INFO 2716 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:22:01.320+05:00  INFO 2716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:22:01.465+05:00  INFO 2716 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 126 ms. Found 8 JPA repository interfaces.
2024-03-15T09:22:02.632+05:00  INFO 2716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:22:02.647+05:00  INFO 2716 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:22:02.647+05:00  INFO 2716 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:22:02.838+05:00  INFO 2716 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:22:02.839+05:00  INFO 2716 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3294 ms
2024-03-15T09:22:03.299+05:00  INFO 2716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:22:03.647+05:00  INFO 2716 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:22:03.650+05:00  INFO 2716 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:22:03.770+05:00  INFO 2716 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:22:03.854+05:00  INFO 2716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:22:03.890+05:00  INFO 2716 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:22:04.246+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.256+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.266+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.275+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.287+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.288+05:00  INFO 2716 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:22:04.322+05:00  INFO 2716 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:22:04.331+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.333+05:00  INFO 2716 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:22:04.339+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.342+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.527+05:00  INFO 2716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:22:04.528+05:00  INFO 2716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 80ms
2024-03-15T09:22:04.537+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.541+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.569+05:00  INFO 2716 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:22:04.572+05:00  INFO 2716 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-15T09:22:04.576+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.578+05:00  INFO 2716 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:22:04.581+05:00  INFO 2716 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:22:04.582+05:00  INFO 2716 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:22:04.735+05:00  INFO 2716 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:22:04.875+05:00  INFO 2716 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:22:04.879+05:00  INFO 2716 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:22:05.150+05:00  INFO 2716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:22:05.403+05:00  INFO 2716 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:22:05.937+05:00  INFO 2716 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:22:07.131+05:00  INFO 2716 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:22:07.183+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:22:07.184+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:22:07.186+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:22:07.187+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:22:07.188+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:22:07.190+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:22:07.191+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:22:07.192+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:22:07.194+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:22:07.195+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:22:07.196+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:22:07.197+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:22:07.198+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:22:07.199+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:22:07.200+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:22:07.201+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:22:07.215+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:22:07.223+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:22:07.225+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:22:07.226+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:22:07.228+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:22:07.229+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:22:07.231+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:22:07.233+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:22:07.235+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:22:07.237+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:22:07.238+05:00 DEBUG 2716 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:22:07.244+05:00  INFO 2716 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:22:08.994+05:00  INFO 2716 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:22:09.063+05:00  INFO 2716 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ab7b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1621264e, org.springframework.security.web.context.SecurityContextHolderFilter@5d571179, org.springframework.security.web.header.HeaderWriterFilter@3bde85b0, org.springframework.security.web.authentication.logout.LogoutFilter@414d5660, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ac64dc2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d0695da, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a5b561b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a609803, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d0f2154, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@728cf276, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5392c0a7, org.springframework.security.web.access.ExceptionTranslationFilter@6e48b9ed, org.springframework.security.web.access.intercept.AuthorizationFilter@4057eb76]
2024-03-15T09:22:09.751+05:00  INFO 2716 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:22:09.769+05:00  INFO 2716 --- [main] ru.otus.hw.Application                   : Started Application in 11.137 seconds (process running for 11.911)
2024-03-15T09:22:14.295+05:00  INFO 2716 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:22:14.295+05:00  INFO 2716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:22:14.298+05:00  INFO 2716 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T09:22:15.309+05:00 DEBUG 2716 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:22:15.333+05:00 DEBUG 2716 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:22:15.353+05:00 DEBUG 2716 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:26:37.123+05:00  INFO 2716 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:26:37.127+05:00  INFO 2716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:26:37.132+05:00  INFO 2716 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:26:43.592+05:00  INFO 4012 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4012 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:26:43.597+05:00  INFO 4012 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:26:45.311+05:00  INFO 4012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:26:45.449+05:00  INFO 4012 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 124 ms. Found 8 JPA repository interfaces.
2024-03-15T09:26:46.613+05:00  INFO 4012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:26:46.633+05:00  INFO 4012 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:26:46.634+05:00  INFO 4012 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:26:46.816+05:00  INFO 4012 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:26:46.817+05:00  INFO 4012 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3155 ms
2024-03-15T09:26:47.229+05:00  INFO 4012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:26:47.556+05:00  INFO 4012 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:26:47.560+05:00  INFO 4012 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:26:47.658+05:00  INFO 4012 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:26:47.721+05:00  INFO 4012 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:26:47.749+05:00  INFO 4012 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:26:48.028+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.033+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.041+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.047+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.055+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.056+05:00  INFO 4012 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:26:48.078+05:00  INFO 4012 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:26:48.083+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.085+05:00  INFO 4012 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:26:48.088+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.090+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.212+05:00  INFO 4012 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:26:48.213+05:00  INFO 4012 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T09:26:48.220+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.222+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.243+05:00  INFO 4012 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:26:48.245+05:00  INFO 4012 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-15T09:26:48.248+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.251+05:00  INFO 4012 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:26:48.257+05:00  INFO 4012 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:26:48.258+05:00  INFO 4012 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:26:48.400+05:00  INFO 4012 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:26:48.524+05:00  INFO 4012 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:26:48.527+05:00  INFO 4012 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:26:48.759+05:00  INFO 4012 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:26:48.970+05:00  INFO 4012 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:26:49.468+05:00  INFO 4012 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:26:50.490+05:00  INFO 4012 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:26:50.533+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:26:50.535+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:26:50.536+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:26:50.537+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:26:50.538+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:26:50.540+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:26:50.542+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:26:50.543+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:26:50.544+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:26:50.545+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:26:50.546+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:26:50.547+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:26:50.547+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:26:50.548+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:26:50.549+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:26:50.549+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:26:50.562+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:26:50.567+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:26:50.569+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:26:50.571+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:26:50.573+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:26:50.575+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:26:50.577+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:26:50.580+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:26:50.582+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:26:50.584+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:26:50.586+05:00 DEBUG 4012 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:26:50.590+05:00  INFO 4012 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:26:52.460+05:00  INFO 4012 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:26:52.542+05:00  INFO 4012 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ab7b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1621264e, org.springframework.security.web.context.SecurityContextHolderFilter@5d571179, org.springframework.security.web.header.HeaderWriterFilter@3bde85b0, org.springframework.security.web.authentication.logout.LogoutFilter@414d5660, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ac64dc2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d0695da, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a5b561b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a609803, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d0f2154, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@728cf276, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5392c0a7, org.springframework.security.web.access.ExceptionTranslationFilter@6e48b9ed, org.springframework.security.web.access.intercept.AuthorizationFilter@4057eb76]
2024-03-15T09:26:53.259+05:00  INFO 4012 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:26:53.280+05:00  INFO 4012 --- [main] ru.otus.hw.Application                   : Started Application in 10.464 seconds (process running for 11.192)
2024-03-15T09:26:57.480+05:00  INFO 4012 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:26:57.481+05:00  INFO 4012 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:26:57.483+05:00  INFO 4012 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T09:26:58.483+05:00 DEBUG 4012 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:26:58.717+05:00 ERROR 4012 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:27:14.988+05:00 DEBUG 4012 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:27:14.991+05:00 DEBUG 4012 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:27:14.992+05:00 DEBUG 4012 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:27:17.961+05:00 DEBUG 4012 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:27:17.984+05:00 ERROR 4012 --- [http-nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:27:59.204+05:00 DEBUG 4012 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:27:59.206+05:00 DEBUG 4012 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:27:59.467+05:00 DEBUG 4012 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:27:59.469+05:00 DEBUG 4012 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:27:59.471+05:00 DEBUG 4012 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:28:02.563+05:00 DEBUG 4012 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:28:02.580+05:00 DEBUG 4012 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:31:59.629+05:00  INFO 4012 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:31:59.634+05:00  INFO 4012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:31:59.640+05:00  INFO 4012 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:32:03.202+05:00  INFO 13636 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 13636 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:32:03.205+05:00  INFO 13636 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:32:04.967+05:00  INFO 13636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:32:05.117+05:00  INFO 13636 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-15T09:32:06.314+05:00  INFO 13636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:32:06.329+05:00  INFO 13636 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:32:06.330+05:00  INFO 13636 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:32:06.522+05:00  INFO 13636 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:32:06.523+05:00  INFO 13636 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3249 ms
2024-03-15T09:32:06.941+05:00  INFO 13636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:32:07.277+05:00  INFO 13636 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:32:07.280+05:00  INFO 13636 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:32:07.387+05:00  INFO 13636 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:32:07.464+05:00  INFO 13636 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:32:07.497+05:00  INFO 13636 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:32:07.821+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.826+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.833+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.840+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.849+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.850+05:00  INFO 13636 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:32:07.875+05:00  INFO 13636 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:32:07.882+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.883+05:00  INFO 13636 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:32:07.887+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:07.889+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:08.017+05:00  INFO 13636 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:32:08.018+05:00  INFO 13636 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 55ms
2024-03-15T09:32:08.027+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:08.028+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:08.060+05:00  INFO 13636 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:32:08.062+05:00  INFO 13636 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 31ms
2024-03-15T09:32:08.065+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:08.067+05:00  INFO 13636 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:32:08.073+05:00  INFO 13636 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:32:08.074+05:00  INFO 13636 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:32:08.224+05:00  INFO 13636 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:32:08.360+05:00  INFO 13636 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:32:08.364+05:00  INFO 13636 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:32:08.612+05:00  INFO 13636 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:32:08.826+05:00  INFO 13636 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:32:09.297+05:00  INFO 13636 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:32:10.525+05:00  INFO 13636 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:32:10.575+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:32:10.576+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:32:10.578+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:32:10.579+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:32:10.580+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:32:10.582+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:32:10.585+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:32:10.586+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:32:10.588+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:32:10.589+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:32:10.590+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:32:10.590+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:32:10.591+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:32:10.592+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:32:10.593+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:32:10.593+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:32:10.607+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:32:10.612+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:32:10.614+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:32:10.615+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:32:10.617+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:32:10.618+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:32:10.620+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:32:10.623+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:32:10.624+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:32:10.626+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:32:10.627+05:00 DEBUG 13636 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:32:10.632+05:00  INFO 13636 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:32:12.453+05:00  INFO 13636 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:32:12.526+05:00  INFO 13636 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dbe6891, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30be77cd, org.springframework.security.web.context.SecurityContextHolderFilter@6a06b374, org.springframework.security.web.header.HeaderWriterFilter@3c3a8246, org.springframework.security.web.authentication.logout.LogoutFilter@1d0695da, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6fca831e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f31385e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@71c9c7f3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e739968, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f290f46, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@7aa4ef24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6979e9b8, org.springframework.security.web.access.ExceptionTranslationFilter@5ad67d82, org.springframework.security.web.access.intercept.AuthorizationFilter@35b8b69f]
2024-03-15T09:32:13.279+05:00  INFO 13636 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:32:13.301+05:00  INFO 13636 --- [main] ru.otus.hw.Application                   : Started Application in 10.905 seconds (process running for 11.68)
2024-03-15T09:32:17.727+05:00  INFO 13636 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:32:17.727+05:00  INFO 13636 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:32:17.729+05:00  INFO 13636 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-15T09:32:18.622+05:00 DEBUG 13636 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:32:18.809+05:00 ERROR 13636 --- [http-nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')] with root cause

java.lang.ClassCastException: class java.lang.String cannot be cast to class ru.otus.hw.security.UserPrincipal (java.lang.String is in module java.base of loader 'bootstrap'; ru.otus.hw.security.UserPrincipal is in unnamed module of loader 'app')
	at ru.otus.hw.controller.RoleController.getAllRoles(RoleController.java:24) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T09:32:41.720+05:00 DEBUG 13636 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:32:41.722+05:00 DEBUG 13636 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:32:42.010+05:00 DEBUG 13636 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:32:42.012+05:00 DEBUG 13636 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:32:42.021+05:00 DEBUG 13636 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:32:44.792+05:00 DEBUG 13636 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:32:44.812+05:00 DEBUG 13636 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:33:03.018+05:00 DEBUG 13636 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:33:03.020+05:00 DEBUG 13636 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:33:03.021+05:00 DEBUG 13636 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:01.846+05:00  INFO 13636 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:34:01.852+05:00  INFO 13636 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:34:01.856+05:00  INFO 13636 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:34:05.390+05:00  INFO 15524 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15524 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:34:05.394+05:00  INFO 15524 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:34:07.079+05:00  INFO 15524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:34:07.224+05:00  INFO 15524 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 130 ms. Found 8 JPA repository interfaces.
2024-03-15T09:34:08.370+05:00  INFO 15524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:34:08.387+05:00  INFO 15524 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:34:08.388+05:00  INFO 15524 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:34:08.561+05:00  INFO 15524 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:34:08.561+05:00  INFO 15524 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3103 ms
2024-03-15T09:34:08.937+05:00  INFO 15524 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:34:09.281+05:00  INFO 15524 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:34:09.284+05:00  INFO 15524 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:34:09.383+05:00  INFO 15524 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:34:09.442+05:00  INFO 15524 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:34:09.472+05:00  INFO 15524 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:34:09.760+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.765+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.775+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.782+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.790+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.791+05:00  INFO 15524 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:34:09.812+05:00  INFO 15524 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:34:09.817+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.818+05:00  INFO 15524 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:34:09.822+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.823+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.931+05:00  INFO 15524 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:34:09.932+05:00  INFO 15524 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 47ms
2024-03-15T09:34:09.937+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.939+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.959+05:00  INFO 15524 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:34:09.961+05:00  INFO 15524 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 20ms
2024-03-15T09:34:09.964+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.966+05:00  INFO 15524 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:34:09.972+05:00  INFO 15524 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:34:09.972+05:00  INFO 15524 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:34:10.124+05:00  INFO 15524 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:34:10.244+05:00  INFO 15524 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:34:10.248+05:00  INFO 15524 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:34:10.483+05:00  INFO 15524 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:34:10.699+05:00  INFO 15524 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:34:11.179+05:00  INFO 15524 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:34:12.364+05:00  INFO 15524 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:34:12.439+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:34:12.441+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:34:12.443+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:34:12.446+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:34:12.447+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:34:12.450+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:34:12.453+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:34:12.455+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:34:12.457+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:34:12.458+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:34:12.459+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:34:12.460+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:34:12.461+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:34:12.462+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:34:12.463+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:34:12.464+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:34:12.479+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:34:12.485+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:34:12.487+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:34:12.489+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:34:12.492+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:34:12.493+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:34:12.495+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:34:12.497+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:34:12.499+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:34:12.501+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:34:12.504+05:00 DEBUG 15524 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:34:12.509+05:00  INFO 15524 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:34:14.390+05:00  INFO 15524 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:34:14.468+05:00  INFO 15524 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73611fbb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d0f2154, org.springframework.security.web.context.SecurityContextHolderFilter@6645c1f, org.springframework.security.web.header.HeaderWriterFilter@15961527, org.springframework.security.web.authentication.logout.LogoutFilter@2c634c0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22bf4d9d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@33012e6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8374911, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ef4179, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cc9bde9, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4a609803, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@106dee26, org.springframework.security.web.access.ExceptionTranslationFilter@11636d43, org.springframework.security.web.access.intercept.AuthorizationFilter@3bde85b0]
2024-03-15T09:34:15.197+05:00  INFO 15524 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:34:15.219+05:00  INFO 15524 --- [main] ru.otus.hw.Application                   : Started Application in 10.675 seconds (process running for 11.412)
2024-03-15T09:34:21.205+05:00  INFO 15524 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:34:21.205+05:00  INFO 15524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:34:21.208+05:00  INFO 15524 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T09:34:29.299+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:34:29.319+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:30.301+05:00 DEBUG 15524 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:34:30.303+05:00 DEBUG 15524 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:30.304+05:00 DEBUG 15524 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:33.102+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:34:33.129+05:00 DEBUG 15524 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:34:42.798+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:34:42.799+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:42.801+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:43.913+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:34:43.932+05:00 DEBUG 15524 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:34:46.668+05:00 DEBUG 15524 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:34:46.670+05:00 DEBUG 15524 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:46.672+05:00 DEBUG 15524 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:34:55.758+05:00 DEBUG 15524 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:35:08.801+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:08.945+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:35:08.976+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : insert into users (email,login,mobile_number,name,password,role_id,surname,id) values (?,?,?,?,?,?,?,default)
2024-03-15T09:35:09.090+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:35:09.091+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:09.093+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:09.095+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:23.098+05:00 DEBUG 15524 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:35:23.100+05:00 DEBUG 15524 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:23.309+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:35:23.310+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:23.312+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:23.314+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:26.001+05:00 DEBUG 15524 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:35:26.026+05:00 DEBUG 15524 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:35:28.430+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:35:28.438+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:28.439+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:28.441+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:29.490+05:00 DEBUG 15524 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:35:29.513+05:00 DEBUG 15524 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:35:31.366+05:00 DEBUG 15524 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:35:31.367+05:00 DEBUG 15524 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:31.369+05:00 DEBUG 15524 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:31.370+05:00 DEBUG 15524 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:35:37.773+05:00 DEBUG 15524 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:35:37.792+05:00 DEBUG 15524 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:36:46.343+05:00  INFO 15524 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:36:46.347+05:00  INFO 15524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:36:46.351+05:00  INFO 15524 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:36:50.175+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4236 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:36:50.179+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:36:51.836+05:00  INFO 4236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:36:51.972+05:00  INFO 4236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 121 ms. Found 8 JPA repository interfaces.
2024-03-15T09:36:53.094+05:00  INFO 4236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:36:53.111+05:00  INFO 4236 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:36:53.112+05:00  INFO 4236 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:36:53.299+05:00  INFO 4236 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:36:53.300+05:00  INFO 4236 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3056 ms
2024-03-15T09:36:53.687+05:00  INFO 4236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:36:54.028+05:00  INFO 4236 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:36:54.031+05:00  INFO 4236 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:36:54.137+05:00  INFO 4236 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:36:54.202+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:36:54.239+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:36:54.537+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.542+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.549+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.556+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.565+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.566+05:00  INFO 4236 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:36:54.590+05:00  INFO 4236 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:36:54.597+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.598+05:00  INFO 4236 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:36:54.603+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.604+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.711+05:00  INFO 4236 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:36:54.712+05:00  INFO 4236 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 47ms
2024-03-15T09:36:54.718+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.719+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.736+05:00  INFO 4236 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:36:54.737+05:00  INFO 4236 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-15T09:36:54.739+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.741+05:00  INFO 4236 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:36:54.746+05:00  INFO 4236 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:36:54.747+05:00  INFO 4236 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:36:54.895+05:00  INFO 4236 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:36:55.012+05:00  INFO 4236 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:36:55.017+05:00  INFO 4236 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:36:55.270+05:00  INFO 4236 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:36:55.483+05:00  INFO 4236 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:36:55.979+05:00  INFO 4236 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:36:57.210+05:00  INFO 4236 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:36:57.267+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:36:57.269+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:36:57.271+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:36:57.273+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:36:57.274+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:36:57.276+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:36:57.278+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:36:57.279+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:36:57.281+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:36:57.282+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:36:57.284+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:36:57.284+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:36:57.286+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:36:57.286+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:36:57.287+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:36:57.288+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:36:57.300+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:36:57.305+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:36:57.307+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:36:57.309+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:36:57.311+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:36:57.312+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:36:57.314+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:36:57.317+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:36:57.318+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:36:57.320+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:36:57.322+05:00 DEBUG 4236 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:36:57.326+05:00  INFO 4236 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:36:59.188+05:00  INFO 4236 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:36:59.271+05:00  INFO 4236 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8374911, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@106dee26, org.springframework.security.web.context.SecurityContextHolderFilter@1ef4179, org.springframework.security.web.header.HeaderWriterFilter@28b36817, org.springframework.security.web.authentication.logout.LogoutFilter@71d2bc34, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d571179, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4086e003, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6b0aa757, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@168f447d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@197bf5ef, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3ea4dcc5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f4b2ee3, org.springframework.security.web.access.ExceptionTranslationFilter@15961527, org.springframework.security.web.access.intercept.AuthorizationFilter@9930ff6]
2024-03-15T09:37:00.014+05:00  INFO 4236 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:37:00.034+05:00  INFO 4236 --- [main] ru.otus.hw.Application                   : Started Application in 10.624 seconds (process running for 11.338)
2024-03-15T09:37:08.269+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:37:08.270+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:37:08.272+05:00  INFO 4236 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T09:37:11.968+05:00 DEBUG 4236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:37:11.988+05:00 DEBUG 4236 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:37:12.013+05:00  WARN 4236 --- [http-nio-8080-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt
2024-03-15T09:37:24.556+05:00 DEBUG 4236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:37:24.559+05:00 DEBUG 4236 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:37:25.370+05:00 DEBUG 4236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:37:25.372+05:00 DEBUG 4236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:37:25.372+05:00 DEBUG 4236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:37:25.373+05:00 DEBUG 4236 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:37:29.119+05:00 DEBUG 4236 --- [http-nio-8080-exec-9] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:37:29.137+05:00 DEBUG 4236 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:37:55.913+05:00  INFO 4236 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:37:55.917+05:00  INFO 4236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T09:37:55.920+05:00  INFO 4236 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T09:37:59.409+05:00  INFO 15912 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 15912 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T09:37:59.412+05:00  INFO 15912 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T09:38:01.359+05:00  INFO 15912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T09:38:01.562+05:00  INFO 15912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 171 ms. Found 8 JPA repository interfaces.
2024-03-15T09:38:02.965+05:00  INFO 15912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T09:38:02.984+05:00  INFO 15912 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T09:38:02.985+05:00  INFO 15912 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T09:38:03.197+05:00  INFO 15912 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T09:38:03.197+05:00  INFO 15912 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3715 ms
2024-03-15T09:38:03.568+05:00  INFO 15912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T09:38:03.901+05:00  INFO 15912 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T09:38:03.904+05:00  INFO 15912 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T09:38:04.009+05:00  INFO 15912 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T09:38:04.081+05:00  INFO 15912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T09:38:04.131+05:00  INFO 15912 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T09:38:04.412+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.418+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.426+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.432+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.441+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.442+05:00  INFO 15912 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T09:38:04.466+05:00  INFO 15912 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T09:38:04.471+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.472+05:00  INFO 15912 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T09:38:04.476+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.478+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.588+05:00  INFO 15912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:38:04.589+05:00  INFO 15912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 46ms
2024-03-15T09:38:04.595+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.597+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.620+05:00  INFO 15912 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T09:38:04.623+05:00  INFO 15912 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 23ms
2024-03-15T09:38:04.626+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.628+05:00  INFO 15912 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T09:38:04.632+05:00  INFO 15912 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T09:38:04.632+05:00  INFO 15912 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T09:38:04.780+05:00  INFO 15912 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T09:38:04.905+05:00  INFO 15912 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T09:38:04.910+05:00  INFO 15912 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T09:38:05.156+05:00  INFO 15912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:38:05.389+05:00  INFO 15912 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T09:38:05.906+05:00  INFO 15912 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T09:38:07.129+05:00  INFO 15912 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T09:38:07.176+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T09:38:07.178+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T09:38:07.180+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T09:38:07.182+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T09:38:07.183+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T09:38:07.185+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T09:38:07.189+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T09:38:07.191+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T09:38:07.193+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T09:38:07.194+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T09:38:07.195+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T09:38:07.196+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T09:38:07.197+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T09:38:07.197+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T09:38:07.198+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T09:38:07.198+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T09:38:07.210+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T09:38:07.216+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T09:38:07.217+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T09:38:07.219+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T09:38:07.220+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T09:38:07.222+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T09:38:07.224+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T09:38:07.226+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T09:38:07.228+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T09:38:07.229+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T09:38:07.230+05:00 DEBUG 15912 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T09:38:07.234+05:00  INFO 15912 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T09:38:09.083+05:00  INFO 15912 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T09:38:09.164+05:00  INFO 15912 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@728cf276, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66f15ce5, org.springframework.security.web.context.SecurityContextHolderFilter@3bde85b0, org.springframework.security.web.header.HeaderWriterFilter@20072ff1, org.springframework.security.web.authentication.logout.LogoutFilter@6fca831e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76140ca5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@106dee26, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@69a8191e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@9930ff6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b1dd206, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1c61011b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ab7b0f, org.springframework.security.web.access.ExceptionTranslationFilter@5f31385e, org.springframework.security.web.access.intercept.AuthorizationFilter@3577fd9b]
2024-03-15T09:38:09.923+05:00  INFO 15912 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T09:38:09.943+05:00  INFO 15912 --- [main] ru.otus.hw.Application                   : Started Application in 11.368 seconds (process running for 12.154)
2024-03-15T09:38:13.631+05:00  INFO 15912 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T09:38:13.631+05:00  INFO 15912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T09:38:13.633+05:00  INFO 15912 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T09:38:17.691+05:00 DEBUG 15912 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0 where u1_0.login=?
2024-03-15T09:38:17.708+05:00 DEBUG 15912 --- [http-nio-8080-exec-2] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:18.526+05:00 DEBUG 15912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:38:18.528+05:00 DEBUG 15912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:18.529+05:00 DEBUG 15912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:18.530+05:00 DEBUG 15912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:21.453+05:00 DEBUG 15912 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:38:21.469+05:00 DEBUG 15912 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:38:23.568+05:00 DEBUG 15912 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:38:23.569+05:00 DEBUG 15912 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:23.570+05:00 DEBUG 15912 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:23.573+05:00 DEBUG 15912 --- [http-nio-8080-exec-10] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:24.929+05:00 DEBUG 15912 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:38:24.949+05:00 DEBUG 15912 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T09:38:30.813+05:00 DEBUG 15912 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T09:38:30.814+05:00 DEBUG 15912 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:30.816+05:00 DEBUG 15912 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:30.818+05:00 DEBUG 15912 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T09:38:32.863+05:00 DEBUG 15912 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T09:38:32.913+05:00 DEBUG 15912 --- [http-nio-8080-exec-7] org.hibernate.SQL                        : delete from users where id=?
