2024-03-15T07:57:55.747+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 8640 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T07:57:55.766+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T07:57:57.764+05:00  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T07:57:57.920+05:00  INFO 8640 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 136 ms. Found 8 JPA repository interfaces.
2024-03-15T07:57:59.131+05:00  INFO 8640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T07:57:59.158+05:00  INFO 8640 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T07:57:59.158+05:00  INFO 8640 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T07:57:59.371+05:00  INFO 8640 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T07:57:59.372+05:00  INFO 8640 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3524 ms
2024-03-15T07:57:59.811+05:00  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T07:58:00.165+05:00  INFO 8640 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T07:58:00.169+05:00  INFO 8640 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T07:58:00.284+05:00  INFO 8640 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T07:58:00.368+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T07:58:00.415+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T07:58:00.715+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.722+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.732+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.739+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.749+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.750+05:00  INFO 8640 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T07:58:00.776+05:00  INFO 8640 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T07:58:00.783+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.784+05:00  INFO 8640 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T07:58:00.789+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.791+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.908+05:00  INFO 8640 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:58:00.909+05:00  INFO 8640 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 48ms
2024-03-15T07:58:00.915+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.917+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.941+05:00  INFO 8640 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:58:00.944+05:00  INFO 8640 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 25ms
2024-03-15T07:58:00.947+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.949+05:00  INFO 8640 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T07:58:00.954+05:00  INFO 8640 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:58:00.955+05:00  INFO 8640 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T07:58:01.130+05:00  INFO 8640 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T07:58:01.295+05:00  INFO 8640 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T07:58:01.299+05:00  INFO 8640 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T07:58:01.577+05:00  INFO 8640 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:58:01.801+05:00  INFO 8640 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T07:58:02.296+05:00  INFO 8640 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:58:03.404+05:00  INFO 8640 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T07:58:03.458+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T07:58:03.459+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T07:58:03.461+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T07:58:03.461+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T07:58:03.463+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T07:58:03.464+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T07:58:03.466+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T07:58:03.468+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T07:58:03.488+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T07:58:03.490+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T07:58:03.492+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T07:58:03.492+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T07:58:03.493+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T07:58:03.494+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T07:58:03.495+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T07:58:03.495+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T07:58:03.496+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T07:58:03.497+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T07:58:03.509+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T07:58:03.513+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T07:58:03.515+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T07:58:03.517+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T07:58:03.518+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T07:58:03.519+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T07:58:03.521+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T07:58:03.524+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T07:58:03.525+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T07:58:03.527+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T07:58:03.529+05:00 DEBUG 8640 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T07:58:03.533+05:00  INFO 8640 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T07:58:05.370+05:00  INFO 8640 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T07:58:05.444+05:00  INFO 8640 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56540a58, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c0a8ad, org.springframework.security.web.context.SecurityContextHolderFilter@20834c45, org.springframework.security.web.header.HeaderWriterFilter@333cedbd, org.springframework.security.web.authentication.logout.LogoutFilter@296b758, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49ed3b76, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43076326, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@10bf2185, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10d56aab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a7deba5, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@ca9ffc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14c06f50, org.springframework.security.web.access.ExceptionTranslationFilter@7f50b08a, org.springframework.security.web.access.intercept.AuthorizationFilter@6942ff10]
2024-03-15T07:58:06.199+05:00  INFO 8640 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T07:58:06.223+05:00  INFO 8640 --- [main] ru.otus.hw.Application                   : Started Application in 11.207 seconds (process running for 13.552)
2024-03-15T07:58:14.400+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T07:58:14.400+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T07:58:14.406+05:00  INFO 8640 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2024-03-15T07:58:16.055+05:00 DEBUG 8640 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0
2024-03-15T07:58:22.654+05:00 DEBUG 8640 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T07:58:22.762+05:00 DEBUG 8640 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
2024-03-15T07:59:43.001+05:00  INFO 8640 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T07:59:43.005+05:00  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T07:59:43.010+05:00  INFO 8640 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T07:59:51.474+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 3980 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T07:59:51.477+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T07:59:53.118+05:00  INFO 3980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T07:59:53.278+05:00  INFO 3980 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-15T07:59:54.566+05:00  INFO 3980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T07:59:54.585+05:00  INFO 3980 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T07:59:54.586+05:00  INFO 3980 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T07:59:54.802+05:00  INFO 3980 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T07:59:54.803+05:00  INFO 3980 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3263 ms
2024-03-15T07:59:55.235+05:00  INFO 3980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T07:59:55.584+05:00  INFO 3980 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T07:59:55.588+05:00  INFO 3980 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T07:59:55.704+05:00  INFO 3980 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T07:59:55.774+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T07:59:55.816+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T07:59:56.108+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.114+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.122+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.128+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.139+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.140+05:00  INFO 3980 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T07:59:56.165+05:00  INFO 3980 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T07:59:56.172+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.174+05:00  INFO 3980 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T07:59:56.177+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.179+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.305+05:00  INFO 3980 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:59:56.306+05:00  INFO 3980 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T07:59:56.314+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.317+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.343+05:00  INFO 3980 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T07:59:56.348+05:00  INFO 3980 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-15T07:59:56.352+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.354+05:00  INFO 3980 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T07:59:56.360+05:00  INFO 3980 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T07:59:56.360+05:00  INFO 3980 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T07:59:56.508+05:00  INFO 3980 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T07:59:56.672+05:00  INFO 3980 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T07:59:56.676+05:00  INFO 3980 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T07:59:56.938+05:00  INFO 3980 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:59:57.172+05:00  INFO 3980 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T07:59:57.686+05:00  INFO 3980 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T07:59:58.903+05:00  INFO 3980 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T07:59:58.977+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T07:59:58.979+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T07:59:58.980+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T07:59:58.981+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T07:59:58.983+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T07:59:58.984+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T07:59:58.985+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T07:59:58.986+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T07:59:58.989+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T07:59:58.991+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T07:59:58.992+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T07:59:58.993+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T07:59:58.994+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T07:59:58.994+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T07:59:58.995+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T07:59:58.996+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T07:59:58.997+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T07:59:58.997+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T07:59:58.998+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T07:59:58.998+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T07:59:59.013+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T07:59:59.021+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T07:59:59.023+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T07:59:59.024+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T07:59:59.025+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T07:59:59.027+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T07:59:59.029+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T07:59:59.031+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T07:59:59.033+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T07:59:59.035+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T07:59:59.037+05:00 DEBUG 3980 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T07:59:59.041+05:00  INFO 3980 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:00:01.010+05:00  INFO 3980 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:00:01.089+05:00  INFO 3980 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c12f87d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3207e6de, org.springframework.security.web.context.SecurityContextHolderFilter@2b39e77d, org.springframework.security.web.header.HeaderWriterFilter@29244152, org.springframework.security.web.authentication.logout.LogoutFilter@6942ff10, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b0f50d8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4eb0ed44, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@637bf67c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36afd06f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@746f1505, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@5a4a8a33, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b88dd58, org.springframework.security.web.access.ExceptionTranslationFilter@3a5e591b, org.springframework.security.web.access.intercept.AuthorizationFilter@c521a79]
2024-03-15T08:00:01.866+05:00  INFO 3980 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:00:01.890+05:00  INFO 3980 --- [main] ru.otus.hw.Application                   : Started Application in 11.194 seconds (process running for 11.962)
2024-03-15T08:00:07.342+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:00:07.342+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:00:07.344+05:00  INFO 3980 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:00:08.200+05:00 ERROR 3980 --- [http-nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext] with root cause

java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.boot.actuate.endpoint.SecurityContext
	at org.springframework.beans.BeanUtils.getResolvableConstructor(BeanUtils.java:268) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:221) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:85) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:149) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.11.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:145) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.2.jar:6.1.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:109) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.11.jar:6.0.11]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.11.jar:6.0.11]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.11.jar:10.1.11]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2024-03-15T08:01:25.474+05:00  INFO 3980 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:01:25.477+05:00  INFO 3980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:01:25.483+05:00  INFO 3980 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:01:32.365+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7880 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:01:32.368+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:01:34.053+05:00  INFO 7880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:01:34.182+05:00  INFO 7880 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 111 ms. Found 8 JPA repository interfaces.
2024-03-15T08:01:35.317+05:00  INFO 7880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:01:35.333+05:00  INFO 7880 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:01:35.333+05:00  INFO 7880 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:01:35.506+05:00  INFO 7880 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:01:35.507+05:00  INFO 7880 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3072 ms
2024-03-15T08:01:35.907+05:00  INFO 7880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:01:41.443+05:00  INFO 7880 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:01:41.455+05:00  INFO 7880 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:01:41.794+05:00  INFO 7880 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:01:41.934+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:01:41.978+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:01:42.399+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.407+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.416+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.423+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.433+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.434+05:00  INFO 7880 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:01:42.462+05:00  INFO 7880 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:01:42.468+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.470+05:00  INFO 7880 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:01:42.475+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.477+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.622+05:00  INFO 7880 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:01:42.623+05:00  INFO 7880 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 65ms
2024-03-15T08:01:42.633+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.635+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.668+05:00  INFO 7880 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:01:42.673+05:00  INFO 7880 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 34ms
2024-03-15T08:01:42.676+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.679+05:00  INFO 7880 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:01:42.684+05:00  INFO 7880 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:01:42.685+05:00  INFO 7880 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:01:42.850+05:00  INFO 7880 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:01:42.987+05:00  INFO 7880 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:01:42.991+05:00  INFO 7880 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:01:43.300+05:00  INFO 7880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:01:43.678+05:00  INFO 7880 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:01:44.373+05:00  INFO 7880 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:01:45.536+05:00  INFO 7880 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:01:45.581+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:01:45.582+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:01:45.584+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:01:45.585+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:01:45.587+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:01:45.588+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:01:45.589+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:01:45.591+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:01:45.593+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:01:45.595+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:01:45.596+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:01:45.596+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:01:45.597+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:01:45.598+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:01:45.599+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:01:45.599+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:01:45.600+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:01:45.600+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:01:45.601+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:01:45.602+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:01:45.616+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:01:45.621+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:01:45.623+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:01:45.625+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:01:45.627+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:01:45.629+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:01:45.630+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:01:45.633+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:01:45.635+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:01:45.637+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:01:45.639+05:00 DEBUG 7880 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:01:45.645+05:00  INFO 7880 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:01:47.660+05:00  INFO 7880 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:01:47.761+05:00  INFO 7880 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bd29a01, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a4a8a33, org.springframework.security.web.context.SecurityContextHolderFilter@43076326, org.springframework.security.web.header.HeaderWriterFilter@5c96cbe7, org.springframework.security.web.authentication.logout.LogoutFilter@66fd9613, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6230a15a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1507bc3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4a3363c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b81a499, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36afd06f, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6b0f50d8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63cf6497, org.springframework.security.web.access.ExceptionTranslationFilter@3a7deba5, org.springframework.security.web.access.intercept.AuthorizationFilter@14c06f50]
2024-03-15T08:01:48.678+05:00  INFO 7880 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:01:48.704+05:00  INFO 7880 --- [main] ru.otus.hw.Application                   : Started Application in 17.086 seconds (process running for 17.834)
2024-03-15T08:01:52.314+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:01:52.315+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:01:52.317+05:00  INFO 7880 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:01:53.352+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:01:53.379+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:01:53.398+05:00 DEBUG 7880 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:02:29.742+05:00  INFO 7880 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:02:29.748+05:00  INFO 7880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:02:29.753+05:00  INFO 7880 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:02:32.968+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4340 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:02:32.971+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:02:34.784+05:00  INFO 4340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:02:34.939+05:00  INFO 4340 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 129 ms. Found 8 JPA repository interfaces.
2024-03-15T08:02:36.065+05:00  INFO 4340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:02:36.080+05:00  INFO 4340 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:02:36.081+05:00  INFO 4340 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:02:36.280+05:00  INFO 4340 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:02:36.280+05:00  INFO 4340 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3246 ms
2024-03-15T08:02:36.683+05:00  INFO 4340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:02:37.027+05:00  INFO 4340 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:02:37.031+05:00  INFO 4340 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:02:37.151+05:00  INFO 4340 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:02:37.221+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:02:37.268+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:02:37.551+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.557+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.566+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.572+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.582+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.582+05:00  INFO 4340 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:02:37.606+05:00  INFO 4340 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:02:37.611+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.613+05:00  INFO 4340 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:02:37.616+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.617+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.720+05:00  INFO 4340 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:02:37.721+05:00  INFO 4340 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 44ms
2024-03-15T08:02:37.728+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.730+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.750+05:00  INFO 4340 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:02:37.752+05:00  INFO 4340 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 20ms
2024-03-15T08:02:37.755+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.757+05:00  INFO 4340 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:02:37.762+05:00  INFO 4340 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:02:37.763+05:00  INFO 4340 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:02:37.908+05:00  INFO 4340 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:02:38.018+05:00  INFO 4340 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:02:38.023+05:00  INFO 4340 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:02:38.258+05:00  INFO 4340 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:02:38.480+05:00  INFO 4340 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:02:39.023+05:00  INFO 4340 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:02:40.131+05:00  INFO 4340 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:02:40.178+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:02:40.180+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:02:40.181+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:02:40.182+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:02:40.184+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:02:40.185+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:02:40.187+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:02:40.188+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:02:40.190+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:02:40.192+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:02:40.194+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:02:40.194+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:02:40.195+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:02:40.195+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:02:40.196+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:02:40.196+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:02:40.197+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:02:40.197+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:02:40.198+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:02:40.198+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:02:40.209+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:02:40.213+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:02:40.215+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:02:40.216+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:02:40.218+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:02:40.219+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:02:40.221+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:02:40.223+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:02:40.225+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:02:40.226+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:02:40.228+05:00 DEBUG 4340 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:02:40.232+05:00  INFO 4340 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:02:42.038+05:00  INFO 4340 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:02:42.116+05:00  INFO 4340 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a4a8a33, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a3363c9, org.springframework.security.web.context.SecurityContextHolderFilter@29244152, org.springframework.security.web.header.HeaderWriterFilter@6f2bb798, org.springframework.security.web.authentication.logout.LogoutFilter@5c3f9618, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7225f871, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@202ed88d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@63cf6497, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53dfb073, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18dda2e1, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@36b4cbb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c12f87d, org.springframework.security.web.access.ExceptionTranslationFilter@78fc5eb, org.springframework.security.web.access.intercept.AuthorizationFilter@6230a15a]
2024-03-15T08:02:42.829+05:00  INFO 4340 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:02:42.848+05:00  INFO 4340 --- [main] ru.otus.hw.Application                   : Started Application in 10.642 seconds (process running for 11.405)
2024-03-15T08:05:29.536+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:05:29.537+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:05:29.539+05:00  INFO 4340 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:05:30.712+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:05:30.737+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:05:30.764+05:00 DEBUG 4340 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:06:02.008+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:06:02.009+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:06:02.010+05:00 DEBUG 4340 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:07:31.293+05:00  INFO 4340 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:07:31.298+05:00  INFO 4340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:07:31.303+05:00  INFO 4340 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:07:34.459+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 1712 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:07:34.463+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:07:36.103+05:00  INFO 1712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:07:36.234+05:00  INFO 1712 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 108 ms. Found 8 JPA repository interfaces.
2024-03-15T08:07:37.445+05:00  INFO 1712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:07:37.460+05:00  INFO 1712 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:07:37.460+05:00  INFO 1712 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:07:37.646+05:00  INFO 1712 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:07:37.647+05:00  INFO 1712 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3117 ms
2024-03-15T08:07:38.050+05:00  INFO 1712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:07:38.372+05:00  INFO 1712 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:07:38.376+05:00  INFO 1712 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:07:38.475+05:00  INFO 1712 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:07:38.537+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:07:38.570+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:07:38.856+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.863+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.871+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.876+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.884+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.885+05:00  INFO 1712 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:07:38.906+05:00  INFO 1712 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:07:38.911+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.913+05:00  INFO 1712 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:07:38.916+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:38.918+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.025+05:00  INFO 1712 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:07:39.025+05:00  INFO 1712 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 43ms
2024-03-15T08:07:39.031+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.033+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.049+05:00  INFO 1712 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:07:39.051+05:00  INFO 1712 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-15T08:07:39.053+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.055+05:00  INFO 1712 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:07:39.058+05:00  INFO 1712 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:07:39.059+05:00  INFO 1712 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:07:39.209+05:00  INFO 1712 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:07:39.315+05:00  INFO 1712 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:07:39.320+05:00  INFO 1712 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:07:39.557+05:00  INFO 1712 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:07:39.786+05:00  INFO 1712 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:07:40.282+05:00  INFO 1712 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:07:41.361+05:00  INFO 1712 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:07:41.409+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:07:41.411+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:07:41.412+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:07:41.414+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:07:41.415+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:07:41.416+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:07:41.418+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:07:41.419+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:07:41.421+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:07:41.423+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:07:41.425+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:07:41.425+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:07:41.426+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:07:41.427+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:07:41.428+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:07:41.429+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:07:41.430+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:07:41.430+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:07:41.431+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:07:41.431+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:07:41.448+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:07:41.452+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:07:41.454+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:07:41.455+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:07:41.457+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:07:41.459+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:07:41.460+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:07:41.463+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:07:41.465+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:07:41.466+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:07:41.468+05:00 DEBUG 1712 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:07:41.472+05:00  INFO 1712 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:07:43.179+05:00  INFO 1712 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:07:43.254+05:00  INFO 1712 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ac0c3aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ceeb762, org.springframework.security.web.context.SecurityContextHolderFilter@7a5b561b, org.springframework.security.web.header.HeaderWriterFilter@69a8191e, org.springframework.security.web.authentication.logout.LogoutFilter@6f2bb798, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c3c1963, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3de8e614, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3b75fdd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bb9bad9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3705e3fb, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@4b05a9b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504f2bcd, org.springframework.security.web.access.ExceptionTranslationFilter@728cf276, org.springframework.security.web.access.intercept.AuthorizationFilter@40f7fb45]
2024-03-15T08:07:44.015+05:00  INFO 1712 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:07:44.036+05:00  INFO 1712 --- [main] ru.otus.hw.Application                   : Started Application in 10.343 seconds (process running for 11.048)
2024-03-15T08:07:47.757+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:07:47.758+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:07:47.760+05:00  INFO 1712 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:08:00.904+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:00.925+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:00.939+05:00 DEBUG 1712 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:08.800+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:08.801+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:08.802+05:00 DEBUG 1712 --- [http-nio-8080-exec-8] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:30.996+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:08:30.997+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:08:30.998+05:00 DEBUG 1712 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:12.677+05:00  INFO 1712 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:09:12.684+05:00  INFO 1712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:09:12.687+05:00  INFO 1712 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:09:16.130+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 6056 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:09:16.134+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:09:17.899+05:00  INFO 6056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:09:18.059+05:00  INFO 6056 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 133 ms. Found 8 JPA repository interfaces.
2024-03-15T08:09:19.175+05:00  INFO 6056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:09:19.194+05:00  INFO 6056 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:09:19.195+05:00  INFO 6056 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:09:19.378+05:00  INFO 6056 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:09:19.379+05:00  INFO 6056 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3167 ms
2024-03-15T08:09:19.747+05:00  INFO 6056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:09:20.076+05:00  INFO 6056 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:09:20.079+05:00  INFO 6056 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:09:20.184+05:00  INFO 6056 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:09:20.254+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:09:20.281+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:09:20.556+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.561+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.567+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.573+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.582+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.582+05:00  INFO 6056 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:09:20.606+05:00  INFO 6056 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:09:20.612+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.612+05:00  INFO 6056 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:09:20.616+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.617+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.728+05:00  INFO 6056 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:09:20.728+05:00  INFO 6056 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T08:09:20.735+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.736+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.752+05:00  INFO 6056 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:09:20.755+05:00  INFO 6056 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 16ms
2024-03-15T08:09:20.756+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.758+05:00  INFO 6056 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:09:20.762+05:00  INFO 6056 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:09:20.762+05:00  INFO 6056 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:09:20.916+05:00  INFO 6056 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:09:21.029+05:00  INFO 6056 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:09:21.033+05:00  INFO 6056 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:09:21.283+05:00  INFO 6056 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:09:21.507+05:00  INFO 6056 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:09:21.991+05:00  INFO 6056 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:09:23.189+05:00  INFO 6056 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:09:23.246+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:09:23.247+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:09:23.249+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:09:23.250+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:09:23.253+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:09:23.254+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:09:23.256+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:09:23.258+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:09:23.260+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:09:23.262+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:09:23.264+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:09:23.265+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:09:23.266+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:09:23.267+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:09:23.268+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:09:23.268+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:09:23.269+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:09:23.270+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:09:23.271+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:09:23.272+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:09:23.286+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:09:23.293+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:09:23.295+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:09:23.296+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:09:23.298+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:09:23.299+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:09:23.302+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:09:23.305+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:09:23.307+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:09:23.309+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:09:23.311+05:00 DEBUG 6056 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:09:23.317+05:00  INFO 6056 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:09:25.216+05:00  INFO 6056 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:09:25.298+05:00  INFO 6056 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c3c1963, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4eb0ed44, org.springframework.security.web.context.SecurityContextHolderFilter@75af5f2a, org.springframework.security.web.header.HeaderWriterFilter@4057eb76, org.springframework.security.web.authentication.logout.LogoutFilter@10d56aab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18dda2e1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34fe89a5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@188caeaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@728cf276, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1621264e, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@1507bc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67de5328, org.springframework.security.web.access.ExceptionTranslationFilter@76140ca5, org.springframework.security.web.access.intercept.AuthorizationFilter@36afd06f]
2024-03-15T08:09:26.107+05:00  INFO 6056 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:09:26.127+05:00  INFO 6056 --- [main] ru.otus.hw.Application                   : Started Application in 10.815 seconds (process running for 11.56)
2024-03-15T08:09:29.242+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:09:29.244+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:09:29.246+05:00  INFO 6056 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:09:30.375+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:09:30.402+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:30.426+05:00 DEBUG 6056 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:43.377+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:09:43.378+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:09:43.380+05:00 DEBUG 6056 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:12:25.694+05:00  INFO 6056 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:12:25.698+05:00  INFO 6056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:12:25.703+05:00  INFO 6056 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:12:29.100+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 4316 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:12:29.104+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:12:30.874+05:00  INFO 4316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:12:31.036+05:00  INFO 4316 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 139 ms. Found 8 JPA repository interfaces.
2024-03-15T08:12:32.268+05:00  INFO 4316 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:12:32.283+05:00  INFO 4316 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:12:32.284+05:00  INFO 4316 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:12:32.486+05:00  INFO 4316 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:12:32.487+05:00  INFO 4316 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3318 ms
2024-03-15T08:12:32.903+05:00  INFO 4316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:12:33.257+05:00  INFO 4316 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:12:33.260+05:00  INFO 4316 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:12:33.361+05:00  INFO 4316 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:12:33.428+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:12:33.466+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:12:33.791+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.797+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.808+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.815+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.829+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.829+05:00  INFO 4316 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:12:33.860+05:00  INFO 4316 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:12:33.867+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.869+05:00  INFO 4316 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:12:33.872+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:33.875+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.004+05:00  INFO 4316 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:12:34.005+05:00  INFO 4316 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T08:12:34.017+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.020+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.048+05:00  INFO 4316 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:12:34.052+05:00  INFO 4316 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 29ms
2024-03-15T08:12:34.056+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.060+05:00  INFO 4316 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:12:34.065+05:00  INFO 4316 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:12:34.066+05:00  INFO 4316 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:12:34.240+05:00  INFO 4316 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:12:34.389+05:00  INFO 4316 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:12:34.395+05:00  INFO 4316 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:12:34.721+05:00  INFO 4316 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:12:34.998+05:00  INFO 4316 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:12:35.568+05:00  INFO 4316 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:12:36.735+05:00  INFO 4316 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:12:36.784+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:12:36.785+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:12:36.786+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:12:36.788+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:12:36.790+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:12:36.791+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:12:36.792+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:12:36.794+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:12:36.796+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:12:36.798+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:12:36.799+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:12:36.800+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:12:36.801+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:12:36.801+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:12:36.802+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:12:36.803+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:12:36.803+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:12:36.804+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:12:36.804+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:12:36.805+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:12:36.816+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:12:36.821+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:12:36.823+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:12:36.824+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:12:36.826+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:12:36.827+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:12:36.828+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:12:36.831+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:12:36.832+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:12:36.834+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:12:36.835+05:00 DEBUG 4316 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:12:36.840+05:00  INFO 4316 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:12:38.569+05:00  INFO 4316 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:12:38.647+05:00  INFO 4316 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45d28ab7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51dd74a0, org.springframework.security.web.context.SecurityContextHolderFilter@71acf065, org.springframework.security.web.header.HeaderWriterFilter@bb9bad9, org.springframework.security.web.authentication.logout.LogoutFilter@53dfb073, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@296b758, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7f50b08a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@78652c15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@cfe7be3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3de8e614, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@3b75fdd0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@372b2573, org.springframework.security.web.access.ExceptionTranslationFilter@7a5b561b, org.springframework.security.web.access.intercept.AuthorizationFilter@4b05a9b1]
2024-03-15T08:12:39.366+05:00  INFO 4316 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:12:39.385+05:00  INFO 4316 --- [main] ru.otus.hw.Application                   : Started Application in 11.086 seconds (process running for 11.831)
2024-03-15T08:12:43.708+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:12:43.708+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:12:43.712+05:00  INFO 4316 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-03-15T08:12:54.679+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:12:54.699+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:12:54.714+05:00 DEBUG 4316 --- [http-nio-8080-exec-5] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:13:53.933+05:00  INFO 4316 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:13:53.940+05:00  INFO 4316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:13:53.944+05:00  INFO 4316 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:13:57.422+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 14004 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:13:57.425+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:13:59.267+05:00  INFO 14004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:13:59.413+05:00  INFO 14004 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 128 ms. Found 8 JPA repository interfaces.
2024-03-15T08:14:00.660+05:00  INFO 14004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:14:00.681+05:00  INFO 14004 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:14:00.682+05:00  INFO 14004 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:14:00.916+05:00  INFO 14004 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:14:00.916+05:00  INFO 14004 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3424 ms
2024-03-15T08:14:01.366+05:00  INFO 14004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:14:01.696+05:00  INFO 14004 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:14:01.699+05:00  INFO 14004 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:14:01.797+05:00  INFO 14004 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:14:01.861+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:14:01.891+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:14:02.197+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.205+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.222+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.231+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.243+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.245+05:00  INFO 14004 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:14:02.279+05:00  INFO 14004 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:02.286+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.288+05:00  INFO 14004 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:02.292+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.295+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.419+05:00  INFO 14004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:02.421+05:00  INFO 14004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 53ms
2024-03-15T08:14:02.431+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.434+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.459+05:00  INFO 14004 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:02.464+05:00  INFO 14004 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 27ms
2024-03-15T08:14:02.467+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.470+05:00  INFO 14004 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:14:02.475+05:00  INFO 14004 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:02.476+05:00  INFO 14004 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:14:02.605+05:00  INFO 14004 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:14:02.742+05:00  INFO 14004 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:14:02.746+05:00  INFO 14004 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:14:03.007+05:00  INFO 14004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:03.241+05:00  INFO 14004 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:14:03.797+05:00  INFO 14004 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:04.937+05:00  INFO 14004 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:14:04.985+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:14:04.986+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:14:04.987+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:14:04.989+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:14:04.990+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:14:04.991+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:14:04.993+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:14:04.995+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:14:04.998+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:14:04.999+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:14:05.001+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:14:05.001+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:14:05.002+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:14:05.003+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:14:05.003+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:14:05.004+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:14:05.004+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:14:05.005+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:14:05.005+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:14:05.006+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:14:05.016+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:14:05.020+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:14:05.022+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:14:05.023+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:14:05.025+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:14:05.026+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:14:05.028+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:14:05.031+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:14:05.032+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:14:05.034+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:14:05.036+05:00 DEBUG 14004 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:14:05.041+05:00  INFO 14004 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:07.002+05:00  INFO 14004 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:14:07.090+05:00  INFO 14004 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c3f9618, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@deb0c0e, org.springframework.security.web.context.SecurityContextHolderFilter@42b6acc2, org.springframework.security.web.header.HeaderWriterFilter@cfe7be3, org.springframework.security.web.authentication.logout.LogoutFilter@7c3bac88, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@504f2bcd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20834c45, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6385b07d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a819769, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f50b08a, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@78652c15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6942ff10, org.springframework.security.web.access.ExceptionTranslationFilter@71acf065, org.springframework.security.web.access.intercept.AuthorizationFilter@3b75fdd0]
2024-03-15T08:14:07.875+05:00  INFO 14004 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:14:07.898+05:00  INFO 14004 --- [main] ru.otus.hw.Application                   : Started Application in 11.264 seconds (process running for 12.041)
2024-03-15T08:14:13.392+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:14:13.393+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:14:13.395+05:00  INFO 14004 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-03-15T08:14:14.517+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:14:14.547+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:14:14.568+05:00 DEBUG 14004 --- [http-nio-8080-exec-1] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:14:45.695+05:00  INFO 14004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:45.699+05:00  INFO 14004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:14:45.703+05:00  INFO 14004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:14:48.945+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 11976 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:14:48.948+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:14:50.631+05:00  INFO 11976 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:14:50.783+05:00  INFO 11976 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 134 ms. Found 8 JPA repository interfaces.
2024-03-15T08:14:52.013+05:00  INFO 11976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:14:52.031+05:00  INFO 11976 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:14:52.032+05:00  INFO 11976 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:14:52.228+05:00  INFO 11976 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:14:52.229+05:00  INFO 11976 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3219 ms
2024-03-15T08:14:52.619+05:00  INFO 11976 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:14:53.029+05:00  INFO 11976 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:14:53.033+05:00  INFO 11976 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:14:53.143+05:00  INFO 11976 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:14:53.233+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:14:53.272+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:14:53.609+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.618+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.626+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.632+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.641+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.641+05:00  INFO 11976 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:14:53.667+05:00  INFO 11976 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:53.673+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.675+05:00  INFO 11976 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:14:53.679+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.681+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.800+05:00  INFO 11976 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:53.801+05:00  INFO 11976 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 49ms
2024-03-15T08:14:53.808+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.809+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.838+05:00  INFO 11976 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:14:53.842+05:00  INFO 11976 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 30ms
2024-03-15T08:14:53.844+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.846+05:00  INFO 11976 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:14:53.851+05:00  INFO 11976 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:14:53.852+05:00  INFO 11976 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:14:53.997+05:00  INFO 11976 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:14:54.122+05:00  INFO 11976 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:14:54.125+05:00  INFO 11976 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:14:54.376+05:00  INFO 11976 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:54.603+05:00  INFO 11976 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:14:55.078+05:00  INFO 11976 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:14:56.285+05:00  INFO 11976 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:14:56.342+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:14:56.344+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:14:56.345+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:14:56.347+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:14:56.348+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:14:56.350+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:14:56.351+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:14:56.352+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:14:56.355+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:14:56.356+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:14:56.358+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:14:56.359+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:14:56.360+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:14:56.360+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:14:56.361+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:14:56.362+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:14:56.363+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:14:56.364+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:14:56.364+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:14:56.365+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:14:56.379+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:14:56.385+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:14:56.386+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:14:56.387+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:14:56.389+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:14:56.390+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:14:56.391+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:14:56.394+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:14:56.395+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:14:56.396+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:14:56.398+05:00 DEBUG 11976 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:14:56.402+05:00  INFO 11976 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:14:58.124+05:00  INFO 11976 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:14:58.211+05:00  INFO 11976 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@504f2bcd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c7e7ffd, org.springframework.security.web.context.SecurityContextHolderFilter@1435feb6, org.springframework.security.web.header.HeaderWriterFilter@7a5b561b, org.springframework.security.web.authentication.logout.LogoutFilter@29244152, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67de5328, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@135ec43a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@45d28ab7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71acf065, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a349644, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@6ac0c3aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@51dd74a0, org.springframework.security.web.access.ExceptionTranslationFilter@3ab7b0f, org.springframework.security.web.access.intercept.AuthorizationFilter@188caeaf]
2024-03-15T08:14:58.913+05:00  INFO 11976 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:14:58.933+05:00  INFO 11976 --- [main] ru.otus.hw.Application                   : Started Application in 10.746 seconds (process running for 11.516)
2024-03-15T08:15:03.402+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:15:03.403+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:15:03.408+05:00  INFO 11976 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 4 ms
2024-03-15T08:15:04.469+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:15:04.496+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:15:04.533+05:00 DEBUG 11976 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:00.009+05:00  INFO 11976 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:00.015+05:00  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:17:00.018+05:00  INFO 11976 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:17:06.439+05:00  INFO 5924 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 5924 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:17:06.443+05:00  INFO 5924 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:17:08.085+05:00  INFO 5924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:17:08.235+05:00  INFO 5924 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 123 ms. Found 8 JPA repository interfaces.
2024-03-15T08:17:09.339+05:00  INFO 5924 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:17:09.354+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:17:09.355+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:17:09.531+05:00  INFO 5924 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:17:09.531+05:00  INFO 5924 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3016 ms
2024-03-15T08:17:09.932+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:17:10.280+05:00  INFO 5924 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:17:10.283+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:17:10.399+05:00  INFO 5924 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:17:10.468+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:17:10.506+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:17:10.783+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.788+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.795+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.801+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.810+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.811+05:00  INFO 5924 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:17:10.833+05:00  INFO 5924 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:10.839+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.840+05:00  INFO 5924 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:10.845+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.846+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.958+05:00  INFO 5924 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:10.959+05:00  INFO 5924 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 42ms
2024-03-15T08:17:10.965+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.967+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.983+05:00  INFO 5924 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:10.986+05:00  INFO 5924 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 17ms
2024-03-15T08:17:10.989+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.991+05:00  INFO 5924 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:17:10.994+05:00  INFO 5924 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:10.994+05:00  INFO 5924 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:17:11.158+05:00  INFO 5924 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:17:11.272+05:00  INFO 5924 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:17:11.277+05:00  INFO 5924 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:17:11.532+05:00  INFO 5924 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:11.757+05:00  INFO 5924 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:17:12.244+05:00  INFO 5924 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:13.629+05:00  INFO 5924 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:17:13.683+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:17:13.685+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:17:13.687+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:17:13.689+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:17:13.691+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:17:13.693+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:17:13.695+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:17:13.697+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:17:13.700+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:17:13.701+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:17:13.703+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:17:13.704+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:17:13.705+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:17:13.705+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:17:13.706+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:17:13.706+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:17:13.707+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:17:13.708+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:17:13.708+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:17:13.709+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:17:13.723+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:17:13.730+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:17:13.731+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:17:13.732+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:17:13.734+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:17:13.735+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:17:13.737+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:17:13.740+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:17:13.741+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:17:13.743+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:17:13.744+05:00 DEBUG 5924 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:17:13.748+05:00  INFO 5924 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:15.054+05:00  WARN 5924 --- [main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
Related cause: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jsonSchemaConverter' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.rest.webmvc.json.PersistentEntityToJsonSchemaConverter]: Factory method 'jsonSchemaConverter' threw exception with message: Error creating bean with name 'linkCollector' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Unsatisfied dependency expressed through method 'linkCollector' parameter 1: Error creating bean with name 'selfLinkProvider' defined in class path resource [org/springframework/data/rest/webmvc/config/RepositoryRestMvcConfiguration.class]: Failed to instantiate [org.springframework.data.rest.core.support.SelfLinkProvider]: Factory method 'selfLinkProvider' threw exception with message: Error creating bean with name 'mvcConversionService': Requested bean is currently in creation: Is there an unresolvable circular reference?
2024-03-15T08:17:15.056+05:00  INFO 5924 --- [main] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:15.058+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2024-03-15T08:17:15.062+05:00  INFO 5924 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2024-03-15T08:17:15.066+05:00  INFO 5924 --- [main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2024-03-15T08:17:15.091+05:00  INFO 5924 --- [main] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-03-15T08:17:15.124+05:00 ERROR 5924 --- [main] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:825) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:778) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.2.jar:3.1.2]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.2.jar:3.1.2]
	at ru.otus.hw.Application.main(Application.java:13) ~[classes/:na]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/otus/hw/security/SecurityConfiguration.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:817) ~[spring-beans-6.0.11.jar:6.0.11]
	... 20 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655) ~[spring-beans-6.0.11.jar:6.0.11]
	... 36 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcHandlerMappingIntrospector' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:205) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1161) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.createMvcMatchers(AbstractRequestMatcherRegistry.java:110) ~[spring-security-config-6.1.2.jar:6.1.2]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:206) ~[spring-security-config-6.1.2.jar:6.1.2]
	at org.springframework.security.config.annotation.web.AbstractRequestMatcherRegistry.requestMatchers(AbstractRequestMatcherRegistry.java:248) ~[spring-security-config-6.1.2.jar:6.1.2]
	at ru.otus.hw.security.SecurityConfiguration.lambda$securityFilterChain$0(SecurityConfiguration.java:22) ~[classes/:na]
	at org.springframework.security.config.annotation.web.builders.HttpSecurity.authorizeHttpRequests(HttpSecurity.java:1466) ~[spring-security-config-6.1.2.jar:6.1.2]
	at ru.otus.hw.security.SecurityConfiguration.securityFilterChain(SecurityConfiguration.java:21) ~[classes/:na]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$0.CGLIB$securityFilterChain$0(<generated>) ~[classes/:na]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$2.invoke(<generated>) ~[classes/:na]
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258) ~[spring-core-6.0.11.jar:6.0.11]
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331) ~[spring-context-6.0.11.jar:6.0.11]
	at ru.otus.hw.security.SecurityConfiguration$$SpringCGLIB$$0.securityFilterChain(<generated>) ~[classes/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139) ~[spring-beans-6.0.11.jar:6.0.11]
	... 37 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:663) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1309) ~[spring-context-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:368) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.initHandlerMappings(HandlerMappingIntrospector.java:110) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.afterPropertiesSet(HandlerMappingIntrospector.java:98) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	... 60 common frames omitted
Caused by: java.lang.IllegalStateException: Ambiguous mapping. Cannot map 'userController' method 
ru.otus.hw.controller.UserController#getAllDirectors()
to {GET [/api/directors]}: There is already 'clubController' bean method
ru.otus.hw.controller.ClubController#getAllDirectors() mapped.
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.validateMethodMapping(AbstractHandlerMethodMapping.java:667) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$MappingRegistry.register(AbstractHandlerMethodMapping.java:633) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.registerHandlerMethod(AbstractHandlerMethodMapping.java:331) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:441) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.registerHandlerMethod(RequestMappingHandlerMapping.java:76) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lambda$detectHandlerMethods$2(AbstractHandlerMethodMapping.java:298) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721) ~[na:na]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.detectHandlerMethods(AbstractHandlerMethodMapping.java:296) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.processCandidateBean(AbstractHandlerMethodMapping.java:265) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:224) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:212) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:225) ~[spring-webmvc-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1817) ~[spring-beans-6.0.11.jar:6.0.11]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.11.jar:6.0.11]
	... 73 common frames omitted

2024-03-15T08:17:33.176+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : Starting Application using Java 17.0.8.1 with PID 7188 (C:\Users\Sergey\Spring\Pathfinders2\target\classes started by Sergey in C:\Users\Sergey\Spring\Pathfinders2)
2024-03-15T08:17:33.180+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : No active profile set, falling back to 1 default profile: "default"
2024-03-15T08:17:34.959+05:00  INFO 7188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-03-15T08:17:35.092+05:00  INFO 7188 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 118 ms. Found 8 JPA repository interfaces.
2024-03-15T08:17:36.237+05:00  INFO 7188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2024-03-15T08:17:36.258+05:00  INFO 7188 --- [main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-03-15T08:17:36.258+05:00  INFO 7188 --- [main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.11]
2024-03-15T08:17:36.468+05:00  INFO 7188 --- [main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-03-15T08:17:36.469+05:00  INFO 7188 --- [main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3215 ms
2024-03-15T08:17:36.847+05:00  INFO 7188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2024-03-15T08:17:37.217+05:00  INFO 7188 --- [main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection conn0: url=jdbc:h2:mem:maindb user=SA
2024-03-15T08:17:37.222+05:00  INFO 7188 --- [main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2024-03-15T08:17:37.334+05:00  INFO 7188 --- [main] liquibase.database                       : Set default schema name to PUBLIC
2024-03-15T08:17:37.397+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading resource: db/changelog/1.0/2023-11-02--0001-tables.sql
2024-03-15T08:17:37.428+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading resource: db/changelog/data/2023-11-02--0001-data.sql
2024-03-15T08:17:37.697+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.702+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.709+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.716+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.723+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.724+05:00  INFO 7188 --- [main] liquibase.lockservice                    : Successfully acquired change log lock
2024-03-15T08:17:37.748+05:00  INFO 7188 --- [main] liquibase.changelog                      : Creating database history table with name: PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:37.753+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.755+05:00  INFO 7188 --- [main] liquibase.changelog                      : Reading from PUBLIC.DATABASECHANGELOG
2024-03-15T08:17:37.759+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.760+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.870+05:00  INFO 7188 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:37.871+05:00  INFO 7188 --- [main] liquibase.changelog                      : ChangeSet db/changelog/1.0/2023-11-02--0001-tables.sql::2023-11-02-001-tables::kozionov ran successfully in 45ms
2024-03-15T08:17:37.878+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.881+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.900+05:00  INFO 7188 --- [main] liquibase.changelog                      : Custom SQL executed
2024-03-15T08:17:37.903+05:00  INFO 7188 --- [main] liquibase.changelog                      : ChangeSet db/changelog/data/2023-11-02--0001-data.sql::2023-11-02-001-data::kozionov ran successfully in 21ms
2024-03-15T08:17:37.906+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.908+05:00  INFO 7188 --- [main] liquibase                                : Update command completed successfully.
2024-03-15T08:17:37.912+05:00  INFO 7188 --- [main] liquibase.executor                       : Changelog query completed.
2024-03-15T08:17:37.913+05:00  INFO 7188 --- [main] liquibase.lockservice                    : Successfully released change log lock
2024-03-15T08:17:38.063+05:00  INFO 7188 --- [main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-03-15T08:17:38.186+05:00  INFO 7188 --- [main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.6.Final
2024-03-15T08:17:38.189+05:00  INFO 7188 --- [main] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2024-03-15T08:17:38.443+05:00  INFO 7188 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:38.674+05:00  INFO 7188 --- [main] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-03-15T08:17:39.210+05:00  INFO 7188 --- [main] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2024-03-15T08:17:40.337+05:00  INFO 7188 --- [main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-03-15T08:17:40.386+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_log_link (club_id bigint not null, log_id bigint not null)
2024-03-15T08:17:40.387+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_score_link (club_id bigint not null, score_id bigint not null)
2024-03-15T08:17:40.389+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table club_user_link (club_id bigint not null, user_id bigint not null)
2024-03-15T08:17:40.390+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table clubs (id bigint generated by default as identity, city varchar(255), name varchar(255), director_id bigint, primary key (id))
2024-03-15T08:17:40.391+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table log_record_link (log_id bigint not null, record_id bigint not null)
2024-03-15T08:17:40.392+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table logs (id bigint generated by default as identity, date_from date, date_to date, primary key (id))
2024-03-15T08:17:40.394+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table records (id bigint generated by default as identity, class_date timestamp(6), score_sum integer, user_id bigint, primary key (id))
2024-03-15T08:17:40.395+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : create table scores (id bigint generated by default as identity, name varchar(255), val integer, primary key (id))
2024-03-15T08:17:40.397+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link drop constraint if exists UK_fh4ajxxn387ah8y58e0yd7ew9
2024-03-15T08:17:40.398+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint UK_fh4ajxxn387ah8y58e0yd7ew9 unique (log_id)
2024-03-15T08:17:40.400+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link drop constraint if exists UK_lrklk2n2x8hy2b3ufcvuh18wr
2024-03-15T08:17:40.401+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint UK_lrklk2n2x8hy2b3ufcvuh18wr unique (score_id)
2024-03-15T08:17:40.401+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link drop constraint if exists UK_pigq3d2a485e1937a1txic659
2024-03-15T08:17:40.402+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint UK_pigq3d2a485e1937a1txic659 unique (user_id)
2024-03-15T08:17:40.402+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs drop constraint if exists UK_4mx9hb9reyyskhm294i6m3byo
2024-03-15T08:17:40.403+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint UK_4mx9hb9reyyskhm294i6m3byo unique (director_id)
2024-03-15T08:17:40.404+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link drop constraint if exists UK_7yujs4lfg6kttr246pb6rnh0p
2024-03-15T08:17:40.404+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint UK_7yujs4lfg6kttr246pb6rnh0p unique (record_id)
2024-03-15T08:17:40.405+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records drop constraint if exists UK_ss9naqxxvu247ja66jp3xwic7
2024-03-15T08:17:40.405+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint UK_ss9naqxxvu247ja66jp3xwic7 unique (user_id)
2024-03-15T08:17:40.416+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK8ky3gxajttayrkomi1q9imeu foreign key (log_id) references logs
2024-03-15T08:17:40.420+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_log_link add constraint FK5rm0v7og7lav8dghqb54ossk6 foreign key (club_id) references clubs
2024-03-15T08:17:40.422+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKep4djtpnti91x8sapyn85ynxl foreign key (score_id) references scores
2024-03-15T08:17:40.424+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_score_link add constraint FKm35wgor8dx1k1j2ihrvoqft2f foreign key (club_id) references clubs
2024-03-15T08:17:40.425+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FKsiw83ph244yjxfflywohbb7n7 foreign key (user_id) references users
2024-03-15T08:17:40.427+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists club_user_link add constraint FK5okbkrsmh38nt0cqfiqnevxs0 foreign key (club_id) references clubs
2024-03-15T08:17:40.429+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists clubs add constraint FKfr8j56g6e73308hivluf75ftx foreign key (director_id) references users
2024-03-15T08:17:40.431+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FK77t097f5nl0uykt3htjr35pp7 foreign key (record_id) references records
2024-03-15T08:17:40.432+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists log_record_link add constraint FKc4ay25uwm0qfhhthkx4i90jki foreign key (log_id) references logs
2024-03-15T08:17:40.434+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists records add constraint FK6p95uajgka0j0dc9vlbjw1sf1 foreign key (user_id) references users
2024-03-15T08:17:40.435+05:00 DEBUG 7188 --- [main] org.hibernate.SQL                        : alter table if exists users add constraint FK4qu1gr772nnf6ve5af002rwya foreign key (role_id) references role
2024-03-15T08:17:40.439+05:00  INFO 7188 --- [main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-03-15T08:17:42.193+05:00  INFO 7188 --- [main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 3 endpoint(s) beneath base path '/monitor'
2024-03-15T08:17:42.271+05:00  INFO 7188 --- [main] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7225f871, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1bff4cb9, org.springframework.security.web.context.SecurityContextHolderFilter@1465914, org.springframework.security.web.header.HeaderWriterFilter@10d56aab, org.springframework.security.web.authentication.logout.LogoutFilter@504f2bcd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e316971, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@201c1d99, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c521a79, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78fc5eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43076326, org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter@10bf2185, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b0f50d8, org.springframework.security.web.access.ExceptionTranslationFilter@20834c45, org.springframework.security.web.access.intercept.AuthorizationFilter@ca9ffc0]
2024-03-15T08:17:42.987+05:00  INFO 7188 --- [main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2024-03-15T08:17:43.006+05:00  INFO 7188 --- [main] ru.otus.hw.Application                   : Started Application in 10.662 seconds (process running for 11.418)
2024-03-15T08:17:46.538+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-03-15T08:17:46.539+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-03-15T08:17:46.541+05:00  INFO 7188 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-03-15T08:17:47.546+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,u1_0.role_id,u1_0.surname from users u1_0
2024-03-15T08:17:47.569+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:47.599+05:00 DEBUG 7188 --- [http-nio-8080-exec-3] org.hibernate.SQL                        : select r1_0.id,r1_0.role_name from role r1_0 where r1_0.id=?
2024-03-15T08:17:55.590+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select u1_0.id,u1_0.email,u1_0.login,u1_0.mobile_number,u1_0.name,u1_0.password,r1_0.id,r1_0.role_name,u1_0.surname from users u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?
2024-03-15T08:17:57.483+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select l1_0.id,l1_0.date_from,l1_0.date_to from logs l1_0 where l1_0.id=?
2024-03-15T08:17:57.603+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into logs (date_from,date_to,id) values (?,?,default)
2024-03-15T08:17:58.777+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : select c1_0.id,c1_0.city,d1_0.id,d1_0.email,d1_0.login,d1_0.mobile_number,d1_0.name,d1_0.password,r1_0.id,r1_0.role_name,d1_0.surname,c1_0.name from clubs c1_0 left join users d1_0 on d1_0.id=c1_0.director_id left join role r1_0 on r1_0.id=d1_0.role_id where c1_0.id=?
2024-03-15T08:17:58.784+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into clubs (city,director_id,name,id) values (?,?,?,default)
2024-03-15T08:18:13.609+05:00 DEBUG 7188 --- [http-nio-8080-exec-4] org.hibernate.SQL                        : insert into club_log_link (club_id,log_id) values (?,?)
2024-03-15T08:18:13.761+05:00 DEBUG 7188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select b1_0.id,a1_0.id,a1_0.full_name,b1_0.title from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id
2024-03-15T08:18:13.807+05:00 DEBUG 7188 --- [http-nio-8080-exec-6] org.hibernate.SQL                        : select g1_0.book_id,g1_1.id,g1_1.name from books_genres g1_0 join genres g1_1 on g1_1.id=g1_0.genre_id where g1_0.book_id in(select b1_0.id from books b1_0 left join authors a1_0 on a1_0.id=b1_0.author_id)
